<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//NLM//DTD BITS Book Interchange DTD v1.0 20131225//EN" "BITS-book1.dtd">
<book xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <toc id="ltxid1">
    <title-group>
      <title>Contents</title>
    </title-group>
    <toc-entry>
      <label>Part I</label>
      <title>Measure theory</title>
      <nav-pointer rid="ltxid2"/>
      <toc-entry>
        <label>1</label>
        <title>The measure problem</title>
        <nav-pointer rid="ltxid3"/>
      </toc-entry>
      <toc-entry>
        <label>2</label>
        <title>Elementary measure</title>
        <nav-pointer rid="ltxid16"/>
      </toc-entry>
      <toc-entry>
        <label>3</label>
        <title>Jordan measure</title>
        <nav-pointer rid="ltxid32"/>
      </toc-entry>
      <toc-entry>
        <label>4</label>
        <title>Riemann integration</title>
        <nav-pointer rid="ltxid48"/>
      </toc-entry>
      <toc-entry>
        <label>5</label>
        <title>Introduction to Lebesgue measure</title>
        <nav-pointer rid="ltxid69"/>
      </toc-entry>
      <toc-entry>
        <label>6</label>
        <title>Lebesgue outer measure</title>
        <nav-pointer rid="ltxid86"/>
      </toc-entry>
      <toc-entry>
        <label>7</label>
        <title>Lebesgue measurability</title>
        <nav-pointer rid="ltxid95"/>
      </toc-entry>
      <toc-entry>
        <label>8</label>
        <title>Lebesgue measure</title>
        <nav-pointer rid="ltxid106"/>
      </toc-entry>
    </toc-entry>
    <toc-entry>
      <label>Part II</label>
      <title>Measure and integration</title>
      <nav-pointer rid="ltxid121"/>
      <toc-entry>
        <label>1</label>
        <title>Preview of integration, simple integration</title>
        <nav-pointer rid="ltxid122"/>
      </toc-entry>
      <toc-entry>
        <label>2</label>
        <title>Lebesgue measurability of functions</title>
        <nav-pointer rid="ltxid136"/>
      </toc-entry>
      <toc-entry>
        <label>3</label>
        <title>Lebesgue integration of nonnegative functions</title>
        <nav-pointer rid="ltxid149"/>
      </toc-entry>
      <toc-entry>
        <label>4</label>
        <title>Lebesgue integration</title>
        <nav-pointer rid="ltxid165"/>
      </toc-entry>
      <toc-entry>
        <label>5</label>
        <title>Convergence theorems</title>
        <nav-pointer rid="ltxid181"/>
      </toc-entry>
      <toc-entry>
        <label>6</label>
        <title>Abstract measure theory</title>
        <nav-pointer rid="ltxid194"/>
      </toc-entry>
      <toc-entry>
        <label>7</label>
        <title>Construction of abstract measures</title>
        <nav-pointer rid="ltxid225"/>
      </toc-entry>
      <toc-entry>
        <label>8</label>
        <title>Abstract integration theory</title>
        <nav-pointer rid="ltxid235"/>
      </toc-entry>
    </toc-entry>
    <toc-entry>
      <label>Part III</label>
      <title>Functional analysis</title>
      <nav-pointer rid="ltxid254"/>
      <toc-entry>
        <label>1</label>
        <title>Normed vector spaces</title>
        <nav-pointer rid="ltxid255"/>
      </toc-entry>
      <toc-entry>
        <label>2</label>
        <title>The Hahn–Banach theorem</title>
        <nav-pointer rid="ltxid272"/>
      </toc-entry>
      <toc-entry>
        <label>3</label>
        <title>Spaces of operators and the dual space</title>
        <nav-pointer rid="ltxid286"/>
      </toc-entry>
      <toc-entry>
        <label>4</label>
        <title>Three results on Banach spaces</title>
        <nav-pointer rid="ltxid302"/>
      </toc-entry>
      <toc-entry>
        <label>5</label>
        <title>The Banach space <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula></title>
        <alt-title>The Banach space 𝐿^{𝑝}</alt-title>
        <nav-pointer rid="ltxid311"/>
      </toc-entry>
      <toc-entry>
        <label>6</label>
        <title>The dual space of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula></title>
        <alt-title>The dual space of 𝐿^{𝑝}</alt-title>
        <nav-pointer rid="ltxid325"/>
      </toc-entry>
      <toc-entry>
        <label>7</label>
        <title>Hilbert space</title>
        <nav-pointer rid="ltxid337"/>
      </toc-entry>
      <toc-entry>
        <label>8</label>
        <title>Bases for Hilbert space</title>
        <nav-pointer rid="ltxid349"/>
      </toc-entry>
    </toc-entry>
  </toc>
  <sec disp-level="1" id="ltxid2" specific-use="chapter">
    <label>Part I</label>
    <title>Measure theory</title>
    <sec disp-level="2" id="ltxid3" specific-use="section">
      <label>1</label>
      <title>The measure problem</title>
      <statement content-type="theorem reading" id="ltxid4" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.1 introduction, and §1.2.3.</p>
      </statement>
      <p>Before discussing the measure problem, let’s talk intuitively about what we mean by “measure.” In this area of mathematics, measure is a number assigned to a set which represents its size. Of course the term “size” also has many meanings. Our concept of measure can accommodate many different types of sizes, such as: length, area, volume, mass, and even probability. On the other hand, some other types of size are not usually associated with the mathematical concept of measure, such as: cardinality, diameter, and density.</p>
      <p>The mathematical concept of a measure is thus beginning to seem geometric. But considering our models of sets and spaces, in which coordinate axes are indexed by the infinitesimal points of the real number line, measure really turns out to be an analytic concept. (In particular, this means lots of <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula>’s will show up in our studies!)</p>
      <p>For a simple set, it may be easy to decide what its measure should be. For example, if we use the term measure to mean length, then the measure of the interval <inline-formula content-type="math/tex"><tex-math>[4,7]</tex-math></inline-formula> should be <inline-formula content-type="math/tex"><tex-math>3</tex-math></inline-formula>. But for a more complicated set, the decision may not be so easy. If you have seen the construction of the Cantor set, think about how you would measure the length of that!</p>
      <p>Thus we arrive at the “measure problem,” which asks whether it is even possible to find a function which adequately measures subsets of the real line <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. Of course it is necessary to say what is considered adequate. The classical version of the measure problem proposed the three properties below. Formally, the measure problem asks: Does there exist a measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> which assigns to each subset <inline-formula content-type="math/tex"><tex-math>A\subset {\mathbb{R}}</tex-math></inline-formula> a value <inline-formula content-type="math/tex"><tex-math>m(A)\in [0,\infty ]</tex-math></inline-formula> satisfying:</p>
      <def-list content-type="enumerate">
        <def-item id="ltxid5"><term>(a)</term> <def><p>(normality) <inline-formula content-type="math/tex"><tex-math>m(I)=</tex-math></inline-formula> the length of <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> for every interval <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula>;</p></def></def-item>
        <def-item id="ltxid6"><term>(b)</term> <def><p>(translation-invariance) <inline-formula content-type="math/tex"><tex-math>m(x+A)=m(A)</tex-math></inline-formula> for every <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>; and</p></def></def-item>
        <def-item id="ltxid7"><term>(c)</term> <def><p>(countable additivity) <inline-formula content-type="math/tex"><tex-math>m(\bigcup _{n=1}^{\infty } A_n)=\sum m(A_n)</tex-math></inline-formula> for every seqence of pairwise disjoint sets <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula>.</p></def></def-item>
      </def-list>
      <p>Perhaps surprisingly, no such measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> exists! While properties (a)–(c) seem very natural, the three items unfortunately turn out to be mutually inconsistent.</p>
      <statement content-type="theorem thm" id="ltxid8" style="thmplain">
        <label>1.1. Theorem</label>
        <title>(Vitali)</title>
        <p content-type="noindent">There exists a set <inline-formula content-type="math/tex"><tex-math>A\subset {\mathbb{R}}</tex-math></inline-formula> such that no measure can be assigned to <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> consistently with (a)–(c).</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Rather than work on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>, we will work on the half-open unit interval <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula> with the addition operation taken modulo <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>. This is ok, since if there is a measure <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> on all subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>, then by properties (b) and (c), <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> restricts to a measure on subsets of <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula> which satisfies property (b) with respect to addition modulo <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>.</p>
        <p>Now let <inline-formula content-type="math/tex"><tex-math>{\mathbb{Q}}_1</tex-math></inline-formula> denote the rationals of <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula>, that is, <inline-formula content-type="math/tex"><tex-math>{\mathbb{Q}}_1={\mathbb{Q}}\cap [0,1)</tex-math></inline-formula>, and consider the collection of additive cosets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{Q}}_1</tex-math></inline-formula> inside <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula>. The cosets are of the form <inline-formula content-type="math/tex"><tex-math>a+{\mathbb{Q}}_1</tex-math></inline-formula> where again addition is interpreted modulo <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>. We now let <inline-formula content-type="math/tex"><tex-math>A\subset [0,1)</tex-math></inline-formula> denote a system of coset representatives for this collection.</p>
        <p>Now every number in <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula> can be written uniquely as <inline-formula content-type="math/tex"><tex-math>a+q</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>a\in A</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>q\in {\mathbb{Q}}_1</tex-math></inline-formula>. This means that the collection of translates of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> by elements <inline-formula content-type="math/tex"><tex-math>q\in {\mathbb{Q}}_1</tex-math></inline-formula> covers all of <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula>. In particular, by (a) the measure of <inline-formula content-type="math/tex"><tex-math>\bigcup _{q\in {\mathbb{Q}}_1}(A+q)</tex-math></inline-formula> is exactly <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>.</p>
        <p>On the other hand, by (b) and (c) we have that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m\left(\bigcup \nolimits _{q\in {\mathbb{Q}}_1}(A+q)\right) =\sum \nolimits _{q\in {\mathbb{Q}}_1}m(A+q)=\sum \nolimits _{q\in {\mathbb{Q}}_1}m(A) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>By the previous paragraph, the left-hand side of the above equation is <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>. On the other hand the right-hand side is an infinite sum of some nonnegative constant, and hence must be either <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>\infty </tex-math></inline-formula>. This is a contradiction!</p>
      </statement>
      <p>We remark that it is possible to modify the argument to apply directly to a measure on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> rather than going via the unit interval with addition modulo <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>. See Tao for this version.</p>
      <p>The lesson is that we must weaken our demands on a measure <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>. Dropping condition (a) can lead to trivial measures. Dropping condition (b) takes away the geometric aspects of the measure, and leads to interesting set-theoretic questions and constructions. Weakening condition (c) to finite additivity leads to interesting solutions, but only in dimensions <inline-formula content-type="math/tex"><tex-math>\leq 2</tex-math></inline-formula>. (In dimensions <inline-formula content-type="math/tex"><tex-math>\geq 3</tex-math></inline-formula> the Banach–Tarski paradox again gives a contradiction.)</p>
      <p>Yet the simplest path forward (and the one that we take) is to drop the tacit condition that <italic toggle="yes">every</italic> set be measurable. The set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> constructed in Vitali’s proof is very artificial and isn’t likely to occur in any of the most common analytical applications (see the notes below). We want to be excused from the burden of deciding the measure of the set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>. This means we need to figure out what sets we will measure, and what sets we will not measure. In the end, our measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> will have a domain which is a proper subset of <inline-formula content-type="math/tex"><tex-math>\mathcal{P}({\mathbb{R}})</tex-math></inline-formula>, but which still contains a rich collection of sets. And the measure will satisy properties (a)–(c) as long as they are applied to the sets in the domain of <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>.</p>
      <p>Of course we are also interested in the measure problem for subsets <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. It can be formulated in just the same way, with condition (a) replaced by the condition that the measure of a box is equal to its volume. And a Vitali-type result can also easily be established for this version of the measure problem.</p>
      <p>In the next section, we will begin this process by taking a step backwards and build measures with much smaller domains, and satisfying just fragments of (a)–(c).</p>
      <statement content-type="theorem notes" id="ltxid9" style="thmremark">
        <label>Notes and further reading</label>
        <p content-type="noindent">The proof of Vitali’s theorem requires the Axiom of Choice. Specifically, it is needed to find a system of coset representatives for an uncountable collection. Solovay showed that the use of AC is essential, and that it is consistent with <inline-formula content-type="math/tex"><tex-math>\neg </tex-math></inline-formula>AC that there is a measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> on all subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid10" style="thmdefinition">
        <label>Exercise 1.1</label>
        <p content-type="noindent">Show that the properties (a)–(c) of a measure imply finite addivitity: If <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> are disjoint then <inline-formula content-type="math/tex"><tex-math>m(A\cup B)=m(A)+m(B)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid11" style="thmdefinition">
        <label>Exercise 1.2</label>
        <p content-type="noindent">Show that the properties (a)–(c) of a measure imply the inclusion–exclusion principle: For any sets <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>m(A\cup B)+m(A\cap B)=m(A)+m(B)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid12" style="thmdefinition">
        <label>Exercise 1.3</label>
        <p content-type="noindent">Complete the details of the proof that if there is a measure on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> satisfying properties (a)–(c), then there is a measure on <inline-formula content-type="math/tex"><tex-math>[0,1)</tex-math></inline-formula> (with additional modulo <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula>) satisfying properties (a)–(c).</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid13" style="thmdefinition">
        <label>Exercise 1.4</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is a bounded set of real numbers, the supremum <inline-formula content-type="math/tex"><tex-math>\sup (A)</tex-math></inline-formula> is the least upper bound of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>, and the infemum <inline-formula content-type="math/tex"><tex-math>\inf (A)</tex-math></inline-formula> is the greatest lower bound of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>s=\sup (A)</tex-math></inline-formula> if and only if:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid14"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>for all <inline-formula content-type="math/tex"><tex-math>a\in A</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>a\leq s</tex-math></inline-formula>, and;</p></def></def-item>
          <def-item id="ltxid15"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>, there exists <inline-formula content-type="math/tex"><tex-math>a\in A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>s-a&lt;\epsilon </tex-math></inline-formula>.</p></def></def-item>
        </def-list>
        <p>Formulate and prove the analogous statement for the infemum.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid16" specific-use="section">
      <label>2</label>
      <title>Elementary measure</title>
      <statement content-type="theorem reading" id="ltxid17" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.1.1</p>
      </statement>
      <p>In the introduction we saw that we cannot hope to define a measure which will work adequately on all subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. In this section we start over and define a measure which is capable of measuring only the simplest sorts of subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. In doing so we will see some of the difficulties which one encounters in defining even very simple measures, and we will also see some of these difficulties resolved. Moreover we will have explicit use for the elementary measure defined in this section, so doing so is not a digression at all.</p>
      <p>Recall that a <italic toggle="yes">bounded interval</italic> is any subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> of the form <inline-formula content-type="math/tex"><tex-math>(a,b)</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>[a,b)</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>(a,b]</tex-math></inline-formula>, or <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>. We shall use the term <italic toggle="yes">box</italic> for any subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula> which is a Cartesian product of bounded intervals.</p>
      <statement content-type="theorem defn" id="ltxid18" style="thmdefinition">
        <label>2.1. Definition</label>
        <p content-type="noindent">A subset <inline-formula content-type="math/tex"><tex-math>E\subset {\mathbb{R}}^n</tex-math></inline-formula> is <italic toggle="yes">elementary</italic> if it can be expressed as a union of finitely many boxes.</p>
      </statement>
      <p>For any elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula>, we wish to define its <italic toggle="yes">elementary measure</italic>, or simply <italic toggle="yes">measure</italic>, <inline-formula content-type="math/tex"><tex-math>m(E)</tex-math></inline-formula>. The measure of any interval will be defined to be its length, and the measure of any box will be defined to be its volume. Thus if <inline-formula content-type="math/tex"><tex-math>I=(a,b)</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>[a,b)</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>(a,b]</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>, then we let <inline-formula content-type="math/tex"><tex-math>m(I)=\operatorname {len}(I)=b-a</tex-math></inline-formula> (in all four cases). And if <inline-formula content-type="math/tex"><tex-math>B=\prod I_n</tex-math></inline-formula> is a box, then we define <inline-formula content-type="math/tex"><tex-math>m(B)=\operatorname {vol}(B)=\prod \operatorname {len}(I_n)</tex-math></inline-formula>. Since we allow only bounded boxes, this product can never be indeterminate (<inline-formula content-type="math/tex"><tex-math>0\cdot \infty </tex-math></inline-formula>). So far, so good.</p>
      <p>We now wish to define the measure of an elementary set to be the sum of the finitely many boxes it is composed of. However there are two issues with this statement: first the constituent boxes need not be disjoint, and second there is in general more than one way to express an elementary set as a union of boxes. The following two lemmas address these two issues.</p>
      <statement content-type="theorem lem" id="ltxid19" style="thmplain">
        <label>2.2. Lemma</label>
        <p content-type="noindent">Any elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> can be expressed as a finite union of disjoint boxes.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>First assume that <inline-formula content-type="math/tex"><tex-math>E\subset {\mathbb{R}}^1</tex-math></inline-formula> and that <inline-formula content-type="math/tex"><tex-math>E=\bigcup I_i</tex-math></inline-formula>. Then by considering all endpoints of the <inline-formula content-type="math/tex"><tex-math>I_i</tex-math></inline-formula> in increasing order <inline-formula content-type="math/tex"><tex-math>a_1,\ldots ,a_m</tex-math></inline-formula> it is easy to write <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> as the union of sets of the form <inline-formula content-type="math/tex"><tex-math>(a_i,a_{i+1})</tex-math></inline-formula> together with sets of the form <inline-formula content-type="math/tex"><tex-math>[a_i,a_i]</tex-math></inline-formula> (single points). Such a union is clearly disjoint.</p>
        <p>In general if <inline-formula content-type="math/tex"><tex-math>E\subset {\mathbb{R}}^n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>E=\bigcup B_i</tex-math></inline-formula> then for each dimension <inline-formula content-type="math/tex"><tex-math>d\leq n</tex-math></inline-formula> consider in turn the <inline-formula content-type="math/tex"><tex-math>d</tex-math></inline-formula>th sides of the boxes <inline-formula content-type="math/tex"><tex-math>I_i^d</tex-math></inline-formula>. Again consider the endpoints of these intervals in increasing order <inline-formula content-type="math/tex"><tex-math>a_i^d,\ldots ,a_{m_d}^d</tex-math></inline-formula>. Then we can write <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> as a union of small boxes which are products of sets of the form <inline-formula content-type="math/tex"><tex-math>(a_i^d,a_{i+1}^d)</tex-math></inline-formula> or of the form <inline-formula content-type="math/tex"><tex-math>[a_i^d,a_{i+1}^d]</tex-math></inline-formula>. Such boxes are again disjoint.</p>
      </statement>
      <p>Figure <xref ref-subtype="figure" ref-type="figure" rid="ltxid20" specific-use="ref">2.f1</xref> shows an example of the method of the proof above.</p>
      <fig id="ltxid20" specific-use="figure"><label>Figure 2.f1</label><caption><p>On the left: An elementary set which is a union of two closed boxes. On the right: the same elementary set expressed as a disjoint union of seven open boxes, 20 open segments, and 14 points.</p></caption> <graphic height="87" mimetype="image/svg+xml" width="112" xlink:href="Images/img9fc0abc3ee2ba07105648c4faeb6ca3a.svg"/>  <graphic height="89" mimetype="image/svg+xml" width="115" xlink:href="Images/imgabab8baec3cf4c2481a023805ce4baac.svg"/> </fig>
      <statement content-type="theorem lem" id="ltxid21" style="thmplain">
        <label>2.3. Lemma</label>
        <p content-type="noindent">Suppose the elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> can be expressed in two ways a a finite union of disjoint boxes: <inline-formula content-type="math/tex"><tex-math>E=\bigsqcup B_i=\bigsqcup C_j</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)=\sum \operatorname {vol}(C_j)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We first note that <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> is an interval with endpoints <inline-formula content-type="math/tex"><tex-math>a,b</tex-math></inline-formula>, and if <inline-formula content-type="math/tex"><tex-math>a=a_1,a_2,\ldots ,a_m=b</tex-math></inline-formula> is an increasing sequence then <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(I)=\sum \operatorname {len}(a_i,a_{i+1})</tex-math></inline-formula>. This is simply because the latter summation telescopes.</p>
        <p>Next if <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> is a box whose <inline-formula content-type="math/tex"><tex-math>d</tex-math></inline-formula>th side has endpoints <inline-formula content-type="math/tex"><tex-math>a^d,b^d</tex-math></inline-formula>, and if <inline-formula content-type="math/tex"><tex-math>a^d=a_1^d,a_2^d,\ldots ,a_{m_d}^d=b^d</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\operatorname {vol}(B)=</tex-math></inline-formula> the sum of all small boxes of the form <inline-formula content-type="math/tex"><tex-math>\prod (a_{i_d}^d,a_{i_d+1}^d)</tex-math></inline-formula>. We will call the set of such small boxes a perfect grid. Intuitively, if you break a box into a perfect grid of sub-boxes, then the volume of the box is the sum of the volumes of the sub-boxes.</p>
        <p>Now if <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> is a box and one expresses it as a disjoint union of sub-boxes <inline-formula content-type="math/tex"><tex-math>B=\bigsqcup B_i</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\operatorname {vol}(B)=\sum \operatorname {vol}(B_i)</tex-math></inline-formula>. This is because it is possible to find a <italic toggle="yes">refinement</italic> of the given disjoint union which is a perfect grid as in the previous paragraph. That is, it is possible to write <inline-formula content-type="math/tex"><tex-math>B=\bigsqcup D_i</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>\{D_i\}</tex-math></inline-formula> is a perfect grid, and each <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> is the union of a perfect grid of sets taken from the collection <inline-formula content-type="math/tex"><tex-math>\{D_i\}</tex-math></inline-formula>. Then one can simply apply the argument of the previous paragraph to <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> and to each <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula>.</p>
        <p>Finally given <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>C_j</tex-math></inline-formula> as in the problem statement, one can find a third expression <inline-formula content-type="math/tex"><tex-math>E=\bigsqcup D_k</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>\{D_k\}</tex-math></inline-formula> is a refinement of <italic toggle="yes">both</italic> <inline-formula content-type="math/tex"><tex-math>\{B_i\}</tex-math></inline-formula> and of <inline-formula content-type="math/tex"><tex-math>\{C_j\}</tex-math></inline-formula>. That is, each <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> and each <inline-formula content-type="math/tex"><tex-math>C_j</tex-math></inline-formula> is a disjoint union of elements of <inline-formula content-type="math/tex"><tex-math>\{E_k\}</tex-math></inline-formula>. It follows from the previous paragraph that <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)=\sum \operatorname {vol}(D_k)</tex-math></inline-formula> and analogously that <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(C_j)=\sum \operatorname {vol}(D_k)</tex-math></inline-formula>. This completes the proof.</p>
      </statement>
      <p>The two lemmas together imply that it is well-defined to characterize the elementary measure with the expression <inline-formula content-type="math/tex"><tex-math>m(\bigsqcup B_i)=\sum m(B_i)</tex-math></inline-formula>.</p>
      <statement content-type="theorem prop" id="ltxid22" style="thmplain">
        <label>2.4. Proposition</label>
        <p content-type="noindent">The elementary measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> satisfies</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid23"><term>(a)</term> <def><p>(normality) <inline-formula content-type="math/tex"><tex-math>m(B)=\operatorname {vol}(B)</tex-math></inline-formula> for any box <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid24"><term>(b)</term> <def><p>(translation-invariance) <inline-formula content-type="math/tex"><tex-math>m(x+E)=m(E)</tex-math></inline-formula> for any elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid25"><term>(c)</term> <def><p>(finite additivity) <inline-formula content-type="math/tex"><tex-math>m(E\cup F)=m(E)+m(F)</tex-math></inline-formula> for any disjoint elementary sets <inline-formula content-type="math/tex"><tex-math>E,F</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>Normality is clear from the defenition of <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>. The translation-invarinace is easy because it is true of length and volume, and moreover is preserved even when we take disjoint unions. The finite additivity property is again clear from the definition of <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>. We remark that <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> satisfies countable additivity as well (restricted to elementary sets of course), but that is much more difficult and will be addressed in the future.</p>
      <p>The above three core properties imply further useful properties as well.</p>
      <statement content-type="theorem prop" id="ltxid26" style="thmplain">
        <label>2.5. Proposition</label>
        <p content-type="noindent">The elementary measure function <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> satisfies</p>
        <def-list content-type="itemize">
          <def-item id="ltxid27"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(monotonicity) <inline-formula content-type="math/tex"><tex-math>m(E)\leq m(F)</tex-math></inline-formula> for elementary sets <inline-formula content-type="math/tex"><tex-math>E\subset F</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid28"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(finite subadditivity) <inline-formula content-type="math/tex"><tex-math>m(E\cup F)\leq m(E)+m(F)</tex-math></inline-formula> for elementary <inline-formula content-type="math/tex"><tex-math>E,F</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>These results give an essentially complete solution to the measure problem for elementary sets. It wasn’t too difficult to achieve, but perhaps not as easy as one would have thought! Even so, what about measuring other simple sets such as circles, triangles, blobs, Cantor sets, and so on? In the next section we will continue on the road to doing this.</p>
      <statement content-type="theorem exerc" id="ltxid29" style="thmdefinition">
        <label>Exercise 2.1</label>
        <title>(Tao Ex 1.1.1)</title>
        <p content-type="noindent">Show that the class of elementary sets is closed under the operations: union, intersection, set difference, symmetric difference, and translation.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid30" style="thmdefinition">
        <label>Exercise 2.2</label>
        <p content-type="noindent">Prove Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid26" specific-use="ref">2.5</xref>: The elementary measure satisfies the monotonicity and finite subadditivity properties.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid31" style="thmdefinition">
        <label>Exercise 2.3</label>
        <title>(Tao Ex 1.1.4)</title>
        <p content-type="noindent">Show that if <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is an elementary subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^m</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> is an elementary subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>E\times F</tex-math></inline-formula> is an elementary subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^{m+n}</tex-math></inline-formula>. Furthermore show that <inline-formula content-type="math/tex"><tex-math>m_e(E\times F)=m_e(E)m_e(F)</tex-math></inline-formula>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid32" specific-use="section">
      <label>3</label>
      <title>Jordan measure</title>
      <statement content-type="theorem reading" id="ltxid33" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.1.2.</p>
      </statement>
      <p>In the previous section we showed that the intuitive definition of area is sensible for elementary sets, but then remarked that simple shapes like polygons and circles are not elementary. It is easy to imagine extending the elementary measure to triangles by cutting and rotating, and to polygons by gluing together triangles. However no such operation can perfectly measure a circle.</p>
      <p>Instead we will measure the circle the way it has always been done, by using <italic toggle="yes">approximation</italic>. It is not hard to visualize a circle being approximated by elementary sets, using smaller and smaller boxes near the boundary. The approximation technique will help us measure most traditional geometric figures, and even many blobby thingies.</p>
      <statement content-type="theorem defn" id="ltxid34" style="thmdefinition">
        <label>3.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be a bounded subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. First define the <italic toggle="yes">inner</italic> and <italic toggle="yes">outer Jordan</italic> measures (sometimes called lower and upper):</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m_{*j}(A)&amp;=\sup \left\{\,m(E):E\subset A,\, E<text> elementary</text>\,\right\}\\
 m^{*j}(A)&amp;=\inf \left\{\,m(F):A\subset F,\, F<text> elementary</text>\,\right\} 
\end{align*}</tex-math>
        </disp-formula>
        <p>If <inline-formula content-type="math/tex"><tex-math>m_{*j}(A)=m^{*j}(A)</tex-math></inline-formula> we say that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <italic toggle="yes">Jordan measurable</italic>, we call the common quantity the <italic toggle="yes">Jordan measure</italic>f of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>, and we denote it by <inline-formula content-type="math/tex"><tex-math>m(A)</tex-math></inline-formula>.</p>
      </statement>
      <p>It is immediate from the definition that Jordan measure extends elementary measure in the sense that they agree on the elementary sets. This means we are justified in using “<inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>” both for the elementary and Jordan measures. Moreover, we will show that the Jordan measure inherits many of the properties of the elementary measure: normality, translation-invariance, finite additivity, monotonicity, and finite subadditivity.</p>
      <p>The normality and translation-invariance properties hold simply because they hold for elementary measure, and these properties pass to the supremum. The additivity and subadditivity properties will take a little more work. For instance, in order to even state the finite additivity property, we first need to establish Boolean closure: the union of measurable sets is measurable.</p>
      <p>Before we begin these results, it will be useful to establish the following characterization of Jordan measurability. As we will be working with approximations, the following results also illustrate our first use of <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula>-style analytical arguments.</p>
      <statement content-type="theorem lem" id="ltxid35" style="thmplain">
        <label>3.2. Lemma</label>
        <p content-type="noindent">The set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable if and only if either of the following holds:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid36"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>For all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there are elementary sets <inline-formula content-type="math/tex"><tex-math>E,F</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset A\subset F</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m(F\smallsetminus E)&lt;\epsilon </tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid37"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>For all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there is an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^{*j}(E\bigtriangleup A)&lt;\epsilon </tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We establish only the equivalence of Jordan measurability with the first item. To begin, assume that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. By the <inline-formula content-type="math/tex"><tex-math>m_{*j}</tex-math></inline-formula> definition of Jordan measure, we can find an elementary set <inline-formula content-type="math/tex"><tex-math>E\subset A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m(A)-m(E)&lt;\epsilon /2</tex-math></inline-formula>. By the <inline-formula content-type="math/tex"><tex-math>m^{*j}</tex-math></inline-formula> definition of jordan measure we can find an elementary set <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset F</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m(F)-m(A)&lt;\epsilon /2</tex-math></inline-formula>. It follows that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m(F\smallsetminus E)=m(F)-m(E)=(m(F)-m(A))+(m(A)-m(E))&lt;\epsilon 
\end{equation*}</tex-math>
        </disp-formula>
        <p>as desired.</p>
        <p>For the converse, assume that the first bullet holds true, and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be arbitrary. Then we can find elementary sets <inline-formula content-type="math/tex"><tex-math>E,F</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset A\subset F</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m(F)-m(E)&lt;\epsilon </tex-math></inline-formula>. From the definitions of inner and outer Jordan measure, we have that <inline-formula content-type="math/tex"><tex-math>m(E)\leq m_{*j}(A)\leq m^{*j}(A)\leq m(F)</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>m^{*j}(A)-m_{*j}(A)&lt;\epsilon </tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> was arbitrary, we may conclude that <inline-formula content-type="math/tex"><tex-math>m_{*j}(A)=m^{*j}(A)</tex-math></inline-formula> and therefore that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable.</p>
      </statement>
      <p>Note that in the proof, one has to be careful when making a claim such as <inline-formula content-type="math/tex"><tex-math>m(F\smallsetminus E)=m(F)-m(E)</tex-math></inline-formula>. It is true in the above cases because: the elementary sets are closed under set differences, and so all three sets are elementary, and thus we may apply the finite additivity property for elementary measure.</p>
      <statement content-type="theorem prop" id="ltxid38" style="thmplain">
        <label>3.3. Proposition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are Jordan measurable, then so are <inline-formula content-type="math/tex"><tex-math>A\cup B</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>A\cap B</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>A\smallsetminus B</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We prove only the case of <inline-formula content-type="math/tex"><tex-math>A\cup B</tex-math></inline-formula>. Suppose that <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are Jordan measurable. By the previous lemma, we can find elementary sets <inline-formula content-type="math/tex"><tex-math>E,F,E',F'</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset A\subset F</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>E'\subset B\subset F'</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>m(F\smallsetminus E),m(F'\smallsetminus E')&lt;\epsilon /2</tex-math></inline-formula>. Then we have <inline-formula content-type="math/tex"><tex-math>E\cup E'\subset A\cup B\subset F\cup F'</tex-math></inline-formula> and using some algebra together with the finite subadditivity of elementary measure, <inline-formula content-type="math/tex"><tex-math>m(F\cup F'\smallsetminus (E\cup E'))\leq m(F\smallsetminus E)+m(F'\smallsetminus E')&lt;\epsilon </tex-math></inline-formula>. Again by the previous lemma, this shows that <inline-formula content-type="math/tex"><tex-math>A\cup B</tex-math></inline-formula> is Jordan measurable.</p>
      </statement>
      <p>We are now ready to establish the remaining stated properties of Jordan measure. The following result states finite additivity, and the first paragraph of its proof gives finite subadditivity. The monotonicity property follows immediately from finite additivity.</p>
      <statement content-type="theorem thm" id="ltxid39" style="thmplain">
        <label>3.4. Theorem</label>
        <p content-type="noindent">The Jordan measure satisfies finite additivity, that is, if <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are Jordan measurable and disjoint, then <inline-formula content-type="math/tex"><tex-math>m(A\cup B)=m(A)+m(B)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We first show subbaditivity, that is, that <inline-formula content-type="math/tex"><tex-math>m(A\cup B)\leq m(A)+m(B)</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. Using the fact that <inline-formula content-type="math/tex"><tex-math>m=m^{*j}</tex-math></inline-formula> we can find elementary sets <inline-formula content-type="math/tex"><tex-math>F,F'</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset F</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>B\subset F'</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>m(F)-m(A)&lt;\epsilon /2</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>m(F')-m(A')&lt;\epsilon /2</tex-math></inline-formula>. Using the monotonicity and subadditivity properties of the elementary measure, together with the definition of Jordan measurability, we now have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(A\cup B)&amp;=m^{*j}(A\cup B)\\
 &amp;\leq m(F\cup F')\\
 &amp;\leq m(F)+m(F')\\
 &amp;&lt;m(A)+m(B)+\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Since <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> was arbitrary, we achieve the desired inequality.</p>
        <p>Now additionally assume that <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are disjoint, and again let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>. This time using <inline-formula content-type="math/tex"><tex-math>m=m_{*j}</tex-math></inline-formula>, we can find elementary sets <inline-formula content-type="math/tex"><tex-math>E,E'</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset A</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>E'\subset B</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>m(A)-m(E)&lt;\epsilon /2</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>m(B)-m(E')&lt;\epsilon /2</tex-math></inline-formula>. Using the fact that <inline-formula content-type="math/tex"><tex-math>E,E'</tex-math></inline-formula> are disjoint, the finite additivity of elementary measure, and the definition of Jordan measurability, we now have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(A\cup B)&amp;=m_{*j}(A\cup B)\\
 &amp;\geq m(E\cup E')\\
 &amp;=m(E)+m(E')\\
 &amp;&gt;m(A)+m(B)-\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Again letting <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> tend to <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>, we achieve that <inline-formula content-type="math/tex"><tex-math>m(A\cup B)\geq m(A)+m(B)</tex-math></inline-formula>.</p>
      </statement>
      <p>While you probably have a clear idea of what the elementary sets look like, it is now time to give some examples and non-examples of Jordan measurable sets. Some simple but useful new examples are the axis-parallel triangles. Suppose <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is an axis-parallel triange with leg lenghs <inline-formula content-type="math/tex"><tex-math>a</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>b</tex-math></inline-formula>. To prove that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is Jordan measurable, note that two copies of <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> essentially make up a box with area <inline-formula content-type="math/tex"><tex-math>ab</tex-math></inline-formula>. Using the finite additivity, this implies that the measure of <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is the expected <inline-formula content-type="math/tex"><tex-math>ab/2</tex-math></inline-formula>.</p>
      <p>To make this argument we need to know that Jordan measure is invariant under <inline-formula content-type="math/tex"><tex-math>180^\circ </tex-math></inline-formula> rotation, which is clear because it is true for boxes. Moreover since the two copies of <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> overlap in a line segment, we also need to know that the Jordan measure of a line segment is <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>. This fact follows from the more general result below.</p>
      <statement content-type="theorem lem" id="ltxid40" style="thmplain">
        <label>3.5. Lemma</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a continuous function defined on a closed, bounded interval. Then the graph of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, considered as a subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^2</tex-math></inline-formula>, has Jordan measure <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Let <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> denote the domain of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. Recall that since <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> is closed and bounded, it is <italic toggle="yes">compact</italic>. Recall also that a continuous function with a compact domain is <italic toggle="yes">uniformly continuous</italic>: for any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists a <inline-formula content-type="math/tex"><tex-math>\delta &gt;0</tex-math></inline-formula> such that for any interval <inline-formula content-type="math/tex"><tex-math>J</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(J)&lt;\delta </tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(f(J))&lt;\epsilon </tex-math></inline-formula>.</p>
        <p>So let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given, and choose <inline-formula content-type="math/tex"><tex-math>\delta &gt;0</tex-math></inline-formula> as above. Shrinking <inline-formula content-type="math/tex"><tex-math>\delta </tex-math></inline-formula> if necessary, we can suppose that <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(I)/\delta </tex-math></inline-formula> is an integer <inline-formula content-type="math/tex"><tex-math>k</tex-math></inline-formula>. Partitioning <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> into intervals <inline-formula content-type="math/tex"><tex-math>J_1,\ldots ,J_k</tex-math></inline-formula> each of lengh <inline-formula content-type="math/tex"><tex-math>\delta </tex-math></inline-formula>, we have that the graph of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is contained in the set</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
A=\bigcup _{i\leq k} J_i\times [\min f(J_i),\max f(J_i)] 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Note that the min and max values in the definition of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> exist by the extreme value theorem. Now <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is a union of <inline-formula content-type="math/tex"><tex-math>k</tex-math></inline-formula> many rectangles each of size at most <inline-formula content-type="math/tex"><tex-math>\delta \epsilon </tex-math></inline-formula>. Thus <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is elementary and its measure is at most <inline-formula content-type="math/tex"><tex-math>k\delta \epsilon </tex-math></inline-formula>. This latter value is <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(I)\epsilon </tex-math></inline-formula>, so the upper measure <inline-formula content-type="math/tex"><tex-math>m^{*j}</tex-math></inline-formula> of the graph of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is at most <inline-formula content-type="math/tex"><tex-math>\operatorname {len}(I)\epsilon </tex-math></inline-formula>. Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we conclude that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Jordan measurable with measure <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>.</p>
      </statement>
      <p>It is now not difficult to conclude that all polygons are Jordan measurable and have the expected measure. This is because all polygons can be decomposed into a union of axis parallel triangles (possibly overlapping on their measure zero edges).</p>
      <p>A simple example of a set which is not Jordan measurable is the set <inline-formula content-type="math/tex"><tex-math>{\mathbb{Q}}_1={\mathbb{Q}}\cap [0,1]</tex-math></inline-formula> of rational numbers in the unit interval. Indeed the only elementary sets <inline-formula content-type="math/tex"><tex-math>E\subset {\mathbb{Q}}_1</tex-math></inline-formula> are the finite sets, and so <inline-formula content-type="math/tex"><tex-math>m_{*j}({\mathbb{Q}}_1)=0</tex-math></inline-formula>. And the only elementary sets <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>{\mathbb{Q}}_1\subset F</tex-math></inline-formula> are of the form <inline-formula content-type="math/tex"><tex-math>[0,1]\smallsetminus X</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is finite, and so <inline-formula content-type="math/tex"><tex-math>m^{*j}({\mathbb{Q}}_1)=1</tex-math></inline-formula>.</p>
      <p>Intuitively, the Jordan measure works very well for classical geometric figures, but not very well for relatively simple analytic objects such as countable dense sets, the Cantor set, and so forth. To handle such sets, we will soon work to describe the Lebesgue measure, which satisfies <italic toggle="yes">countable</italic> additivity. Before going to such generality, however, we explore the connection between Jordan measure and Riemann integration.</p>
      <statement content-type="theorem exerc" id="ltxid41" style="thmdefinition">
        <label>Exercise 3.1</label>
        <title>(Tao, Ex 1.1.6(4)(6))</title>
        <p content-type="noindent">Verify that Jordan measure agrees with the elementary measure on elementary sets (thus satisfies the normality property). Verify that Jordan measure satisfies the translation-invariance property.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid42" style="thmdefinition">
        <label>Exercise 3.2</label>
        <title>(See Tao, Ex 1.1.5)</title>
        <p content-type="noindent">Complete the proof of Lemma <xref ref-subtype="lem" ref-type="statement" rid="ltxid35" specific-use="ref">3.2</xref>: <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable iff for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there is an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^{*j}(E\bigtriangleup A)&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid43" style="thmdefinition">
        <label>Exercise 3.3</label>
        <title>(Tao, Ex 1.1.6(1))</title>
        <p content-type="noindent">Complete the proof of Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid38" specific-use="ref">3.3</xref>: If <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are Jordan measurable, then so are <inline-formula content-type="math/tex"><tex-math>A\cap B</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>A\smallsetminus B</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid44" style="thmdefinition">
        <label>Exercise 3.4</label>
        <title>(Tao, Ex 1.1.12)</title>
        <p content-type="noindent">Say that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <italic toggle="yes">Jordan null</italic> if <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable and <inline-formula content-type="math/tex"><tex-math>m(A)=0</tex-math></inline-formula>. Show that any subset of a Jordan null set is a Jordan null set.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid45" style="thmdefinition">
        <label>Exercise 3.5</label>
        <p content-type="noindent">Show that the outer Jordan measure <inline-formula content-type="math/tex"><tex-math>m^{*j}(A)</tex-math></inline-formula> is equal to:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\inf \left\{\,\operatorname {vol}(B_1)+\cdots +\operatorname {vol}(B_k)\mid B_1,\ldots ,B_k<text> are boxes and </text>A\subset B_1\cup \cdots \cup B_k\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <statement content-type="theorem exerc" id="ltxid46" style="thmdefinition">
        <label>Exercise 3.6</label>
        <title>(Tao, Ex 1.1.19)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be an <italic toggle="yes">arbitrary</italic> bounded set, and let <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> be an elementary set. Show that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m^{*j}(A)=m^{*j}(A\cap E)+m^{*j}(A\smallsetminus E) 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <statement content-type="theorem exerc" id="ltxid47" style="thmdefinition">
        <label>Exercise 3.7</label>
        <p content-type="noindent">Show that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable if and only if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset E</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^{*j}(E\smallsetminus E)&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid48" specific-use="section">
      <label>4</label>
      <title>Riemann integration</title>
      <statement content-type="theorem reading" id="ltxid49" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.1.3.</p>
      </statement>
      <p>If the picture of Lemma <xref ref-subtype="lem" ref-type="statement" rid="ltxid40" specific-use="ref">3.5</xref> reminded you of Riemann sums, it should. Measure theory is closely connected to integration theory, as both are concerned with calculating areas of some regions. Moreover the Jordan measure corresponds neatly with the Riemann integral. The following presentation of the Riemann integral is actually attributed to Darboux.</p>
      <p>Just as we defined the elementary measure before we defined the Jordan measure, we will now define the “piecewise constant” integral before we define the Riemann integral.</p>
      <statement content-type="theorem defn" id="ltxid50" style="thmdefinition">
        <label>4.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a real-valued function defined on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is said to be <italic toggle="yes">piecewise constant</italic> if there exists a partition <inline-formula content-type="math/tex"><tex-math>\mathcal{P}</tex-math></inline-formula> of <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> into finitely many subintervals <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> takes a constant value <inline-formula content-type="math/tex"><tex-math>c_j</tex-math></inline-formula> on each interval <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula>.</p>
      </statement>
      <p>In other words, <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is piecewise constant if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is of the form <inline-formula content-type="math/tex"><tex-math>\sum _1^k c_j\chi _{I_j}</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula> are intervals. Here <inline-formula content-type="math/tex"><tex-math>\chi _{I_j}</tex-math></inline-formula> denotes the <italic toggle="yes">characteristic function</italic> of <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula>, that is, <inline-formula content-type="math/tex"><tex-math>\chi _{I_j}(x)=1</tex-math></inline-formula> if <inline-formula content-type="math/tex"><tex-math>x\in I_j</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\chi _{I_j}(x)=0</tex-math></inline-formula> otherwise.</p>
      <statement content-type="theorem defn" id="ltxid51" style="thmdefinition">
        <label>4.2. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f=\sum _1^kc_j\chi _{I_j}</tex-math></inline-formula> then the <italic toggle="yes">pc integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is defined to be <inline-formula content-type="math/tex"><tex-math>\sum _1^kc_j\operatorname {len}(I_j)</tex-math></inline-formula>.</p>
      </statement>
      <p>As was the case with the elementary measure, one must check that the value of the pc integral is well-defined. That is, if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is expressed in two different ways as a pc function, say <inline-formula content-type="math/tex"><tex-math>\sum c_j\chi _{I_j}=\sum d_k\chi _{J_k}</tex-math></inline-formula>, then one must check that the two values <inline-formula content-type="math/tex"><tex-math>\sum c_j\operatorname {len}(I_j)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum d_k\operatorname {len}(J_k)</tex-math></inline-formula> agree.</p>
      <statement content-type="theorem defn" id="ltxid52" style="thmdefinition">
        <label>4.3. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a bounded function on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>. First define the lower and upper Riemann forms:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \underline{\int }f&amp;=\sup \left\{\,\left.<text>pc</text>\!\!\int \!\! f\;\right|\;g\leq f<text>, <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> pc</text>\,\right\}\\
 \overline{\int }f&amp;=\inf \left\{\,\left.<text>pc</text>\!\!\int \!\! h\;\right|\;f\leq h<text>, <inline-formula content-type="math/tex"><tex-math>h</tex-math></inline-formula> pc</text>\,\right\} 
\end{align*}</tex-math>
        </disp-formula>
        <p>Then if <inline-formula content-type="math/tex"><tex-math>\underline{\int }f=\overline{\int }f</tex-math></inline-formula> we say that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is <italic toggle="yes">Riemann integrable</italic>, and denote the common value simply by <inline-formula content-type="math/tex"><tex-math>\int f</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem prop" id="ltxid53" style="thmplain">
        <label>4.4. Proposition</label>
        <p content-type="noindent">The Riemann integral satisfies the three properties:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid54"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(normality) If <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is a Jordan measurable subset of <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\chi _A</tex-math></inline-formula> is Riemann integrable over <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\int \chi _A=m(A)</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid55"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(linearity) If <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are Riemann integrable then so are <inline-formula content-type="math/tex"><tex-math>cf</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f+g</tex-math></inline-formula> and we have <inline-formula content-type="math/tex"><tex-math>\int cf=c\int f</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int (f+g)=\int f+\int g</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid56"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(monotonicity) If <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are Riemann integrable and <inline-formula content-type="math/tex"><tex-math>f\leq g</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\int f\leq \int g</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We establish only the normality property. By Lemma <xref ref-subtype="lem" ref-type="statement" rid="ltxid35" specific-use="ref">3.2</xref>, for any <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> we can find disjoint intervals <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula> and disjoint intervals <inline-formula content-type="math/tex"><tex-math>J_k</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\bigcup I_j\subset A\subset \bigcup J_k</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m(\bigcup J_k\smallsetminus \bigcup I_j)&lt;\epsilon </tex-math></inline-formula>. It is easy to see from the definition of the pc integral that <inline-formula content-type="math/tex"><tex-math><text>pc</text>\int \chi _{\bigcup I_j}=m(\bigcup I_i)</tex-math></inline-formula>, and similarly <inline-formula content-type="math/tex"><tex-math><text>pc</text>\int \chi _{\bigcup J_k}=m(\bigcup J_k)</tex-math></inline-formula>. We now have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m(\bigcup I_i)\leq \underline{\int }\chi _A\leq \overline{\int }\chi _A \leq m(\bigcup J_k) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Since the left and right-hand sides differ by <inline-formula content-type="math/tex"><tex-math>&lt;\epsilon </tex-math></inline-formula>, it follows that the lower and upper integrals differ by <inline-formula content-type="math/tex"><tex-math>&lt;\epsilon </tex-math></inline-formula> as well. Since <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> was arbitrary, it follows that <inline-formula content-type="math/tex"><tex-math>\chi _A</tex-math></inline-formula> is integrable. And since we also have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m(\bigcup I_i)\leq m(A)\leq m(\bigcup J_k) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>we may conclude that <inline-formula content-type="math/tex"><tex-math>\int \chi _A</tex-math></inline-formula> is equal to <inline-formula content-type="math/tex"><tex-math>m(A)</tex-math></inline-formula>.</p>
      </statement>
      <p>If one re-examines the definition and properties of the Jordan measure, it should be clear that there is a close parallel between the Riemann integral and Jordan measure. The normality property above begins to make this connection formal. The next result further strenghens the two-way connection between the two notions.</p>
      <statement content-type="theorem thm" id="ltxid57" style="thmplain">
        <label>4.5. Theorem</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a nonnegative, bounded function on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable if and only if the region <inline-formula content-type="math/tex"><tex-math>A=\left\{\,(x,y)\mid 0\leq y\leq f(x)\,\right\}</tex-math></inline-formula> is Jordan measurable. Moreover, in this case we have <inline-formula content-type="math/tex"><tex-math>\int f=m(A)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>First suppose that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. Choose pc functions <inline-formula content-type="math/tex"><tex-math>g,h</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g\leq f\leq h</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math><text>pc</text>\int (h-g)&lt;\epsilon </tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> be the region under the graph of <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> and let <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> be the region under the graph of <inline-formula content-type="math/tex"><tex-math>h</tex-math></inline-formula>. It is clear that <inline-formula content-type="math/tex"><tex-math>E,F</tex-math></inline-formula> are elementary, <inline-formula content-type="math/tex"><tex-math>E\subset A\subset F</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>m(F\smallsetminus E)&lt;\epsilon </tex-math></inline-formula>.</p>
        <p>Conversely if <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable we can find an elementary <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset A</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m(A\smallsetminus E)&lt;\epsilon </tex-math></inline-formula>. Using our usual grid argument, we can suppose that there is a sequence of disjoint intervals <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is a union of boxes with horizontal sides selected from the <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula>. Pairing each <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula> with the constant <inline-formula content-type="math/tex"><tex-math>c_j=</tex-math></inline-formula> the maximum of the vertical coordinates of all of the boxes with horizontal side <inline-formula content-type="math/tex"><tex-math>I_j</tex-math></inline-formula>, we obtain a pc function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>. It is easy to see that <inline-formula content-type="math/tex"><tex-math>m(E)\leq <text>pc</text>\int g\leq m(A)</tex-math></inline-formula>. This shows that the lower Riemann integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>m(A)</tex-math></inline-formula>. We can proceed similarly using an outer approximation <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> to show that the upper Riemann integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>m(A)</tex-math></inline-formula> too.</p>
      </statement>
      <p>Depending on when you last studied Riemann integration, you may better recall Riemann’s classical approach rather than the Darboux approach above. This version involves a quite expansive notation:</p>
      <def-list content-type="itemize">
        <def-item id="ltxid58"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> denotes a real-valued, bounded function defined on the interval <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>.</p></def></def-item>
        <def-item id="ltxid59"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>x_0,x_1,\ldots ,x_k</tex-math></inline-formula> denotes an increasing sequence of points in <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> (they will be rectangle endpoints), where <inline-formula content-type="math/tex"><tex-math>x_0=a</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>x_k=b</tex-math></inline-formula>.</p></def></def-item>
        <def-item id="ltxid60"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>\mathcal{P}</tex-math></inline-formula> denotes the partition of <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> into subintervals defined by the <inline-formula content-type="math/tex"><tex-math>x_i</tex-math></inline-formula>, that is, into subintervals <inline-formula content-type="math/tex"><tex-math>[x_{i-1},x_i]</tex-math></inline-formula>.</p></def></def-item>
        <def-item id="ltxid61"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>\delta x_i</tex-math></inline-formula> denotes the length of the <inline-formula content-type="math/tex"><tex-math>i</tex-math></inline-formula>th interval, <inline-formula content-type="math/tex"><tex-math>x_i-x_{i-1}</tex-math></inline-formula>.</p></def></def-item>
        <def-item id="ltxid62"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>\|\mathcal{P}\|</tex-math></inline-formula> denotes the norm of the partition, <inline-formula content-type="math/tex"><tex-math>\max \delta x_i</tex-math></inline-formula>.</p></def></def-item>
        <def-item id="ltxid63"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>x_1^*,\ldots ,x_k^*</tex-math></inline-formula> denotes any selection of points such that <inline-formula content-type="math/tex"><tex-math>x_i^*\in [x_{i-1},x_i]</tex-math></inline-formula>.</p></def></def-item>
      </def-list>
      <p>With these pieces in hand, we can define the Riemann sums and the Riemann integral.</p>
      <statement content-type="theorem defn" id="ltxid64" style="thmdefinition">
        <label>4.6. Definition</label>
        <p content-type="noindent">With <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\mathcal{P}</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\delta x_i</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>x_i^*</tex-math></inline-formula> as above, the corresponding <italic toggle="yes">Riemann sum</italic> is:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\mathcal{R}(f,\mathcal{P},x_i^*)=\sum f(x_i^*)\delta x_i 
\end{equation*}</tex-math>
        </disp-formula>
        <p>The <italic toggle="yes">Riemann integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> is then defined by</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
R\int _a^b f=\lim _{\|\mathcal{P}\|\to 0}\mathcal{R}(f,\mathcal{P},x_i^*) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>provided this limit exists. Here the limit “exists” and equals <inline-formula content-type="math/tex"><tex-math>L</tex-math></inline-formula> if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>\delta &gt;0</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>\mathcal{P}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>x_i^*</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|\mathcal{P}\|&lt;\delta </tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>|R(f,\mathcal{P},x_i^*)-L|&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <p>It is an exercise in both notation and partition management to check that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable in the Darboux sense described earlier in this section if and only if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable in the classical Riemann sense just defined.</p>
      <statement content-type="theorem exerc" id="ltxid65" style="thmdefinition">
        <label>Exercise 4.1</label>
        <title>(See Tao, Ex 1.1.21)</title>
        <p content-type="noindent">Show that the pc integral is well-defined, and satisfies the normality, linearity, and monotonicity properties.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid66" style="thmdefinition">
        <label>Exercise 4.2</label>
        <title>(Tao, Ex 1.1.22)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a bounded function on the interval <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is integrable in the Darboux sense if and only if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is integrable in the classical Riemann sense, and in this case the two values agree.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid67" style="thmdefinition">
        <label>Exercise 4.3</label>
        <title>(Tao, Ex 1.1.23)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f\colon [a,b]\to {\mathbb{R}}</tex-math></inline-formula>. Show that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is continuous, then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable. Show that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is bounded and piecewise continuous, then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Riemann integrable.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid68" style="thmdefinition">
        <label>Exercise 4.4</label>
        <title>(Tao, Ex 1.1.24)</title>
        <p content-type="noindent">Complete the proof of Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid53" specific-use="ref">4.4</xref>: Show that the Riemann integral satisfies the linearity and monotonicity properties. (Hint: first establish these properties for the pc integral.)</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid69" specific-use="section">
      <label>5</label>
      <title>Introduction to Lebesgue measure</title>
      <statement content-type="theorem reading" id="ltxid70" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.2, first few pages</p>
      </statement>
      <p>The Jordan measure that we have constructed works very well for the sets that it measures. And the Riemann integral works very well for the functions that it integrates. But there are several shortcomings that we have discussed, and several more too.</p>
      <def-list content-type="itemize">
        <def-item id="ltxid71"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>Unbounded sets are not Jordan measurable, and unbounded functions are not Riemann integrable</p></def></def-item>
        <def-item id="ltxid72"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>There are examples of bounded sets which are open or closed, but still not Jordan measurable</p></def></def-item>
        <def-item id="ltxid73"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>A countable union of Jordan measurable sets need not be Jordan measurable</p></def></def-item>
        <def-item id="ltxid74"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>A pointwise limit of Riemann integrable functions need not be Riemann integrable, even if it is again bounded</p></def></def-item>
      </def-list>
      <p>In this section we will strenghten the definiton of Jordan measure to obtain the Lebesgue measure. The Lebesgue measure possesses stronger properties than the Jordan measure, including the ability to measure a wider class of sets. The price for this is that it will be harder to establish these properties.</p>
      <p>To begin, recall from an exercise in the Jordan measure section that we can rewrite the definition of outer Jordan measure as follows.</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
m^{*j}(A)=\inf \left\{\,\left.\sum _1^k \operatorname {vol}(B_i)\;\right|\;<text><inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are boxes and </text>A\subset \bigcup _1^kB_i\,\right\} 
\end{equation*}</tex-math>
      </disp-formula>
      <p>The idea of the Lebesgue measure is simply to replace the finite union and summation with a countable union and summation.</p>
      <statement content-type="theorem defn" id="ltxid75" style="thmdefinition">
        <label>5.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be any subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. The <italic toggle="yes">Lebesgue outer measure</italic> of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m^*(A)=\inf \left\{\,\left.\sum _1^\infty \operatorname {vol}(B_i)\;\right|\;<text><inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are boxes and </text>A\subset \bigcup _1^\infty B_i\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>Notice that we have dropped the assumption that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is bounded. There are many examples of unbounded sets with Lebesgue outer measure zero. In fact, every countable set has lebesgue outer measure zero.</p>
      <p>We also remark that we will not define an “inner” version of Lebesgue measure analogous to the Jordan inner measure. The reason is that we do not wish to assume that positive measure sets will contain any positive volume boxes. For example, the set <inline-formula content-type="math/tex"><tex-math>[0,1]\smallsetminus {\mathbb{Q}}</tex-math></inline-formula> should have a measure of <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula> but has lower Jordan measure <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>. In fact, even if we replace the finite summation from Jordan inner measure with a countable summation, the resulting inner measure would still be <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>!</p>
      <p>Without an inner measure, we cannot define Lebesgue measurability simply by requiring the outer and inner measures to agree. In order to find another way to define Lebesgue measurability, we recall from an earlier exercise that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Jordan measurable if and only if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset E</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^{*j}(E\smallsetminus A)&lt;\epsilon </tex-math></inline-formula>. This leads to the following definition.</p>
      <statement content-type="theorem defn" id="ltxid76" style="thmdefinition">
        <label>5.2. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be any subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. We say that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <italic toggle="yes">Lebesgue measurable</italic> if for every <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists a sequence of boxes <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset \bigcup B_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup B_i\smallsetminus A)&lt;\epsilon </tex-math></inline-formula>. When this is the case, we define <inline-formula content-type="math/tex"><tex-math>m(A)=m^*(A)</tex-math></inline-formula> to be the <italic toggle="yes">Lebesgue measure</italic> of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>.</p>
      </statement>
      <p>Most sources actually define <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> to be Lebesgue measurable if for every <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists an <italic toggle="yes">open set</italic> <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset O</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(O\smallsetminus A)&lt;\epsilon </tex-math></inline-formula>. While this definition using open sets is more elegant, our official definition using unions of boxes agrees more closely with our definition of Lebesgue outer measure. Our work of the next few sections will reveal how to show that these two definitions are equivalent.</p>
      <p>We will see in the rest of this section and the next that the Lebesgue measure agrees with the Jordan measure on the Jordan measurable sets, and moreover is capable of measuring significantly more sets. In fact the Lebesgue measurable sets encompass almost everything seen in real analysis and its applications, with exceptions essentially boiling down to certain Axiom of Choice constructions. The Lebesgue measure also satisfies all the measure axioms that we have mentioned so far, including their countable versions.</p>
      <p>Likewise, later on we will introduce the corresponding Lebesgue integral. This integral agrees with the Riemann integral, and is capable of integrating significantly more functions. It also has significantly stronger properties than the Riemann integral, including a countable version of linearity.</p>
      <p>Before we begin working to establish all these claims, we study the Lebesgue outer measure further. In order to proceed, it is useful to lay out what properties are expected of an outer measure. The following will be referred to as the <italic toggle="yes">outer measure axioms</italic>.</p>
      <def-list content-type="enumerate">
        <def-item id="ltxid77"><term>(a)</term> <def><p>(empty set) <inline-formula content-type="math/tex"><tex-math>m^*(\emptyset )=0</tex-math></inline-formula></p></def></def-item>
        <def-item id="ltxid78"><term>(b)</term> <def><p>(monotonicity) If <inline-formula content-type="math/tex"><tex-math>A\subset B</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>m^*(A)\leq m^*(B)</tex-math></inline-formula></p></def></def-item>
        <def-item id="ltxid79"><term>(c)</term> <def><p>(countable subadditivity) <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup A_n)\leq \sum m^*(A_n)</tex-math></inline-formula></p></def></def-item>
      </def-list>
      <p>Since the outer measure applies to all sets, and we have seen there exist non-measurable sets, we do not expect outer measure to satisfy countable additivity in general. Still axiom (c) is quite strong: the Jordan outer measure does not satisfy countable subadditivity.</p>
      <statement content-type="theorem prop" id="ltxid80" style="thmplain">
        <label>5.3. Proposition</label>
        <p content-type="noindent">The Lebesgue outer measure satisfies the outer measure axioms (a)–(c).</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The axioms (a) and (b) are both trivial, so it remains to prove only axiom (c). Let <inline-formula content-type="math/tex"><tex-math>E_n</tex-math></inline-formula> be arbitrary sets and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. From the definition of Lebegue outer measure, for each <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> we can find a sequence of boxes <inline-formula content-type="math/tex"><tex-math>B_i^n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A_n\subset \bigcup _iB_i^n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum _im(B_i^n)-m^*(A_n)&lt;\epsilon /2^n</tex-math></inline-formula>.</p>
        <p>Taking unions, we have <inline-formula content-type="math/tex"><tex-math>\bigcup A_n\subset \bigcup _n\bigcup _iB_i^n</tex-math></inline-formula>, and moreover:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(\bigcup A_n)&amp;\leq \sum _n\sum _i\operatorname {vol}(B_i^n)\\
 &amp;\leq \sum _n\left(m^*(A_n)+\epsilon /2^n\right)\\
 &amp;\leq \sum _nm^*(A_n)+2\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we obtain the desired inequality <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup A_n)\leq \sum m^*(A_n)</tex-math></inline-formula>.</p>
      </statement>
      <p>The bookkeeping used in the above proof is called an “<inline-formula content-type="math/tex"><tex-math>\epsilon /2^n</tex-math></inline-formula> argument”, and is used frequently in countable approximations.</p>
      <p>In the next sections we will work to address under what circumstances the Lebesgue outer measure satisfies additivity or otherwise behaves well.</p>
      <statement content-type="theorem exerc" id="ltxid81" style="thmdefinition">
        <label>Exercise 5.1</label>
        <title>(Tao, Ex 1.2.1)</title>
        <p content-type="noindent">Show that the countable union of Jordan measurable sets need not be Jordan measurable, even when bounded. Show that the countable intersection of Jordan measurable sets need not be Jordan measurable.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid82" style="thmdefinition">
        <label>Exercise 5.2</label>
        <title>(Tao, Ex 1.2.2)</title>
        <p content-type="noindent">Give an example of a sequence of uniformly bounded, Riemann integrable functions on <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula> which converges pointwise to a function that is not Riemann integrable. Is it possible to give an example which converges uniformly?</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid83" style="thmdefinition">
        <label>Exercise 5.3</label>
        <p content-type="noindent">Show that <inline-formula content-type="math/tex"><tex-math>m^*(A)\leq m^{*j}(A)</tex-math></inline-formula>. Give an example of a set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(A)&lt;m^{*j}(A)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid84" style="thmdefinition">
        <label>Exercise 5.4</label>
        <p content-type="noindent">Show that Jordan outer measure does not satisfy countable subadditivity.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid85" style="thmdefinition">
        <label>Exercise 5.5</label>
        <p content-type="noindent">Show that if <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue null, that is, <inline-formula content-type="math/tex"><tex-math>m^*(A)=0</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid86" specific-use="section">
      <label>6</label>
      <title>Lebesgue outer measure</title>
      <statement content-type="theorem reading" id="ltxid87" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.2.1.</p>
      </statement>
      <p>We have shown that the Lebesgue outer measure satisfies countable subadditivity. We are really interested in additivity, but we know that even the finite additivity axiom cannot hold for all sets. In the end, we will prove that countable additivity is true for measurable sets. For the moment, we will be satisfied with the following version of additivity which holds in special cases.</p>
      <statement content-type="theorem lem" id="ltxid88" style="thmplain">
        <label>6.1. Lemma</label>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are positively separated, that is, that <inline-formula content-type="math/tex"><tex-math>d(A,B)=\inf \left\{\,d(x,y)\mid x\in A, y\in B\,\right\}&gt;0</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>m^*(A\cup B)=m^*(A)+m^*(B)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Subbaditivity implies that <inline-formula content-type="math/tex"><tex-math>m^*(A\cup B)\leq m^*(A)+m^*(B)</tex-math></inline-formula>, so it remains only to show <inline-formula content-type="math/tex"><tex-math>m^*(A\cup B)\geq m^*(A)+m^*(B)</tex-math></inline-formula>. Applying the definition of <inline-formula content-type="math/tex"><tex-math>m^*(A\cup B)</tex-math></inline-formula>, given any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we can find boxes <inline-formula content-type="math/tex"><tex-math>C_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\cup B\subset \bigcup C_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(C_i)-m^*(A\cup B)&lt;\epsilon </tex-math></inline-formula>.</p>
        <p>Let us first consider an easy case when each <inline-formula content-type="math/tex"><tex-math>C_i</tex-math></inline-formula> meets at most one of the sets <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula>. Then we can rewrite the sequence <inline-formula content-type="math/tex"><tex-math>\{C_i\}</tex-math></inline-formula> as <inline-formula content-type="math/tex"><tex-math>\{D_i\}\cup \{E_i\}</tex-math></inline-formula>, where the <inline-formula content-type="math/tex"><tex-math>D_i</tex-math></inline-formula>’s meet only <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> and the <inline-formula content-type="math/tex"><tex-math>E_i</tex-math></inline-formula>’s meet only <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula>. Now</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(A\cup B)&amp;&gt;\sum \operatorname {vol}(C_i)-\epsilon \\
 &amp;=\sum \operatorname {vol}(D_i)+\sum \operatorname {vol}(E_i)-\epsilon \\
 &amp;\geq m^*(A)+m^*(A)-\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we are done in this case.</p>
        <p>In the general case, we can reduce to the easy one by partitioning each <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> into smaller boxes, each with diameter smaller than <inline-formula content-type="math/tex"><tex-math>d(A,B)</tex-math></inline-formula>. Once this is done, each new box meets at most one of <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> and we may proceed as above.</p>
      </statement>
      <p>Up to this point, we have not yet shown that <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> ever takes a nonzero value! In fact <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> satisfies a strong normality axiom, which states that the outer measure of an elementary set is equal to its elementary measure. When we proved this property for Jordan measure, we started by showing that one cannot partition an interval into finitely many subintervals whose lengths somehow add up to less than the original. For countable partitions this is intuitively still true, but much harder to show!</p>
      <statement content-type="theorem thm" id="ltxid89" style="thmplain">
        <label>6.2. Theorem</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is an elementary subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>m^*(E)</tex-math></inline-formula> agrees with the elementary measure <inline-formula content-type="math/tex"><tex-math>m_e(E)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>It is clear that <inline-formula content-type="math/tex"><tex-math>m^*(E)\leq m_e(E)</tex-math></inline-formula>, since <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is itself a union of boxes whose volumes sum to <inline-formula content-type="math/tex"><tex-math>m(E)</tex-math></inline-formula>. Thus it remains only to show <inline-formula content-type="math/tex"><tex-math>m^*(E)\geq m_e(E)</tex-math></inline-formula>. Appealing to the definition of <inline-formula content-type="math/tex"><tex-math>m^*(E)</tex-math></inline-formula>, given any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we can find boxes <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset \bigcup B_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)-m^*(E)&lt;\epsilon </tex-math></inline-formula>. Rearranging, this says <inline-formula content-type="math/tex"><tex-math>m^*(E)&gt;\sum \operatorname {vol}(B_i)-\epsilon </tex-math></inline-formula>. Now we would like to say that <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)\geq m_e(E)</tex-math></inline-formula>, but unfortunately the elementary measure is only <italic toggle="yes">finitely</italic> subadditive.</p>
        <p>In order to proceed, let us temporarily assume that <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is closed and the <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are open. We recall that any closed and bounded set is <italic toggle="yes">compact</italic>, and that any covering of a compact set by open sets has a finite subcovering. Thus under these assumptions, we have that just finitely many of the <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are needed to cover <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula>. Thus the argument of the previous paragraph works in this case!</p>
        <p>In order to assume that the <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are open, we can enlarge each slightly and find an open box <inline-formula content-type="math/tex"><tex-math>B'_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>B_i\subset B'_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\operatorname {vol}(B'_i)-\operatorname {vol}(B_i)&lt;\epsilon /2^i</tex-math></inline-formula>.</p>
        <p>In order to assume that <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is closed, first write it as a finite union of disjoint boxes <inline-formula content-type="math/tex"><tex-math>C_1,\ldots ,C_k</tex-math></inline-formula>. Shrinking each <inline-formula content-type="math/tex"><tex-math>C_i</tex-math></inline-formula> slightly, we can find a closed box <inline-formula content-type="math/tex"><tex-math>C'_i\subset C_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m_e(C_i\smallsetminus C'_i)&lt;\epsilon /k</tex-math></inline-formula>. Replacing <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> with <inline-formula content-type="math/tex"><tex-math>\bigcup C'_i</tex-math></inline-formula> we obtain a closed set as desired.</p>
      </statement>
      <p>As a consequence of the theorem, we now know that finite additivity holds for <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> for finite unions of disjoint boxes (after all it is true for the elementary measure). In fact it also holds for finite unions of almost disjoint boxes: here two boxes are said to be <italic toggle="yes">almost disjoint</italic> if they have disjoint interiors. This is because the elementary measure of the boundary of a box is always zero. The next result extends this from finite to countable unions.</p>
      <statement content-type="theorem thm" id="ltxid90" style="thmplain">
        <label>6.3. Theorem</label>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> is a sequence of pairwise almost disjoint boxes. Then <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup B_i)=\sum \operatorname {vol}(B_i)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>By subadditivity together with the previous theorem, we have <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup B_i)\leq \sum m^*(B_i)=\sum \operatorname {vol}(B_i)</tex-math></inline-formula>. Hence it remains only to show <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup B_i)\geq \sum \operatorname {vol}(B_i)</tex-math></inline-formula>. For this, let <inline-formula content-type="math/tex"><tex-math>N\in {\mathbb{N}}</tex-math></inline-formula> be given, and note that <inline-formula content-type="math/tex"><tex-math>\bigcup _1^NB_i</tex-math></inline-formula> is an elementary set. Thus by monotonicity together with the previous theorem, we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(\bigcup B_i)&amp;\geq m^*(\bigcup _1^NB_i)\\
 &amp;=m_e(\bigcup _1^NB_i)\\
 &amp;=\sum _1^N\operatorname {vol}(B_i) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>N\to \infty </tex-math></inline-formula>, we obtain the desired inequality.</p>
      </statement>
      <p>We are finally making some progress: for unions of almost disjoint sequences of boxes, the additivity property holds and the measure of the union is equal to the expected quantity. This leads one to ask what kinds of sets can be written as unions of almost disjoint sequences of boxes, and the following result shows this at least includes the open sets.</p>
      <statement content-type="theorem prop" id="ltxid91" style="thmplain">
        <label>6.4. Proposition</label>
        <p content-type="noindent">Any open set <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> can be written as a union of a sequence of pairwise almost disjoint boxes.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Consider the family <inline-formula content-type="math/tex"><tex-math>\mathcal{Q}</tex-math></inline-formula> of <italic toggle="yes">dyadic cubes</italic>, that is, cubes with each side of the form <inline-formula content-type="math/tex"><tex-math>[m/2^n,(m+1)/2^n]</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>n\geq 0</tex-math></inline-formula>. The family <inline-formula content-type="math/tex"><tex-math>\mathcal{Q}</tex-math></inline-formula> has a <italic toggle="yes">nesting property</italic>: for any two cubes in <inline-formula content-type="math/tex"><tex-math>\mathcal{Q}</tex-math></inline-formula>, either one is contained in the other or else the two cubes are almost disjoint.</p>
        <p>It is not difficult to observe that <inline-formula content-type="math/tex"><tex-math>\mathcal{Q}</tex-math></inline-formula> is a basis for the topology of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. In particular, for any <inline-formula content-type="math/tex"><tex-math>x\in O</tex-math></inline-formula> there exists a cube <inline-formula content-type="math/tex"><tex-math>B_x\in \mathcal{Q}</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>x\in B_x\subset O</tex-math></inline-formula>. Thu union of all <inline-formula content-type="math/tex"><tex-math>B_x</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>x\in O</tex-math></inline-formula> is a covering of <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> by dyadic cubes. Now we eliminate duplicates from this covering, that is, remove any cube in the covering that is contained in some other cube of the covering. Since any nested chain of cubes has a maximal element, the cubes which remain will still cover <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula>. And by the nesting property, the cubes which remain will also be almost disjoint.</p>
      </statement>
      <p>The above result gives a very direct method of calculating the Lebesgue outer measure (and hence the Lebesgue measure) of any open set! We close this section with the following so-called “outer regularity lemma”, which shows that the Lebesgue outer measure is determined by its values on the open sets. When combined with the previous result, this gives a kind of general formula for the outer measure.</p>
      <statement content-type="theorem lem" id="ltxid92" style="thmplain">
        <label>6.5. Lemma</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be any subset of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>m^*(A)=\inf \left\{\,m^*(O)\mid <text><inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> is open and </text>A\subset O\,\right\}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>It is clear from monotonicity of <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> that <inline-formula content-type="math/tex"><tex-math>\leq </tex-math></inline-formula> holds. Thus it remains only to show <inline-formula content-type="math/tex"><tex-math>\geq </tex-math></inline-formula>. Applying the definition of <inline-formula content-type="math/tex"><tex-math>m^*(A)</tex-math></inline-formula> we can find boxes <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset \bigcup B_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)-m^*(A)&lt;\epsilon </tex-math></inline-formula>. Arguing as in an earlier proof, we can enlarge the <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> slightly to assume without loss of generality that they are open. Then</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(A)&amp;\geq \sum \operatorname {vol}(B_i)-\epsilon \\
 &amp;\geq m^*(\bigcup B_i)\\
 &amp;\geq \inf \left\{\,m^*(O)\mid <text><inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> is open and </text>A\subset O\,\right\}-\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we obtain the desired result.</p>
      </statement>
      <p>In the next section we will use these partial results to conclude that the Lebesgue (outer) measure always behaves well on the measurable sets.</p>
      <statement content-type="theorem exerc" id="ltxid93" style="thmdefinition">
        <label>Exercise 6.1</label>
        <title>(Tao, Ex 1.2.5)</title>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is expressible as a countable union of pairwise almost disjoint boxes. Show that <inline-formula content-type="math/tex"><tex-math>m^*(A)=m_{*j}(A)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid94" style="thmdefinition">
        <label>Exercise 6.2</label>
        <title>(Tao, Ex 1.2.6)</title>
        <p content-type="noindent">Show that it is not true in general that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m^*(A)=\sup \left\{\,m^*(O)\mid <text><inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> is open and </text>O\subset A\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid95" specific-use="section">
      <label>7</label>
      <title>Lebesgue measurability</title>
      <statement content-type="theorem reading" id="ltxid96" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.2.2.</p>
      </statement>
      <p>Recall that a set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is called Lebesgue measurable if it can be well-approximated from the outside by a countable union of boxes: for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there is a sequence of boxes <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset \bigcup B_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(\bigcup B_i\smallsetminus A)&lt;\epsilon </tex-math></inline-formula>. In particular, this implies tautologically that countable unions of boxes are Lebesgue measurable. In the next result we work to establish that many, many other sets are Lebesgue measurable too.</p>
      <statement content-type="theorem thm" id="ltxid97" style="thmplain">
        <label>7.1. Theorem</label>
        <p content-type="noindent">Open and closed sets are Lebesgue measurable. Complements, countable unions, and countable intersections of measurable sets are measurable.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Since the boxes form a base for the topology of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula>, any open set can be written as a union of boxes. (Or see Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid91" specific-use="ref">6.4</xref>.) Thus by the remark above, open sets are Lebesgue measurable.</p>
        <p>For countable unions, suppose that <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are Lebesgue measurable. Given <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>, find for each <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> a countable union of boxes <inline-formula content-type="math/tex"><tex-math>U_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A_n\subset U_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(U_n\smallsetminus A_n)&lt;\epsilon /2^n</tex-math></inline-formula>. Then we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(\bigcup U_n\smallsetminus \bigcup A_n) &amp;\leq m^*(\bigcup U_n\smallsetminus A_n)\\
 &amp;\leq \sum m^*(U_n\smallsetminus A_n)\\
 &amp;\leq \sum \epsilon /2^n=2\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>This shows that <inline-formula content-type="math/tex"><tex-math>\bigcup A_n</tex-math></inline-formula> is measurable.</p>
        <p>For closed sets, assume first that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is closed and bounded, and thus compact. Using the outer regularity lemma we can find an open set <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset O</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(O)-m^*(A)&lt;\epsilon </tex-math></inline-formula>. We wish to show that <inline-formula content-type="math/tex"><tex-math>m^*(O\smallsetminus A)&lt;\epsilon </tex-math></inline-formula> too. Since <inline-formula content-type="math/tex"><tex-math>O\smallsetminus A</tex-math></inline-formula> is open, we can use Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid91" specific-use="ref">6.4</xref> to write <inline-formula content-type="math/tex"><tex-math>O\smallsetminus A</tex-math></inline-formula> as an almost disjoint union of closed dyadic cubes <inline-formula content-type="math/tex"><tex-math>C_n</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\bigcup _1^N C_n</tex-math></inline-formula> is compact and thus positively separated from the compact set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>. By Lemma <xref ref-subtype="lem" ref-type="statement" rid="ltxid88" specific-use="ref">6.1</xref>, additivity holds for positively separated sets, so we have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(A)+m^*(\bigcup _1^N C_i)&amp;=m^*(A\cup \bigcup _1^N C_i)\\
 &amp;\leq m^*(O)\\
 &amp;&lt;m^*(A)+\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>It follows that <inline-formula content-type="math/tex"><tex-math>\sum _1^N\operatorname {vol}(C_i)=m^*(\bigcup _1^NC_i)&lt;\epsilon </tex-math></inline-formula>, and taking <inline-formula content-type="math/tex"><tex-math>N\to \infty </tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(C_i)\leq \epsilon </tex-math></inline-formula>. This shows that <inline-formula content-type="math/tex"><tex-math>m^*(O\smallsetminus A)\leq \epsilon </tex-math></inline-formula>, as desired.</p>
        <p>In general a closed set can be written as a countable union of compact sets, and we have already handled the case of countable unions.</p>
        <p>For complements, let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be measurable and for each <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> find a union of boxes <inline-formula content-type="math/tex"><tex-math>U_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A\subset U_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(U_n\smallsetminus A)&lt;1/n</tex-math></inline-formula>. We can enlarge the constituent boxes of each <inline-formula content-type="math/tex"><tex-math>U_n</tex-math></inline-formula> slightly to find an open set <inline-formula content-type="math/tex"><tex-math>O_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>U_n\subset O_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(U_n\smallsetminus O_n)&lt;1/n</tex-math></inline-formula>. (Here we are using normality and subadditivity to achieve this estimate.) Taking the intersection of the <inline-formula content-type="math/tex"><tex-math>O_n</tex-math></inline-formula> we now have <inline-formula content-type="math/tex"><tex-math>A\subset \cap O_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(\bigcap O_n\smallsetminus A)=0</tex-math></inline-formula>. Writing these two expressions in complement, they become <inline-formula content-type="math/tex"><tex-math>\bigcup O_n^c\subset A^c</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(A^c\smallsetminus \bigcup O_n^c)=0</tex-math></inline-formula>. Now <inline-formula content-type="math/tex"><tex-math>A^c</tex-math></inline-formula> can be expressed as a union of two sets: <inline-formula content-type="math/tex"><tex-math>\bigcup O_n^c</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>A^c\smallsetminus \bigcup O_n^c</tex-math></inline-formula>. The first is Lebesgue measurable because it is a countable union of closed sets. The second is Lebesgue measurable because it is null (see an earlier exercise). Appealing again to the closure under unions, we conclude that <inline-formula content-type="math/tex"><tex-math>A^c</tex-math></inline-formula> is measurable too.</p>
        <p>For countable intersections, we can simply apply Demorgan’s laws to reduce it to complements and countable unions. Whew!</p>
      </statement>
      <p>The above theorem thus shows that the Lebesgue measurable sets form a <italic toggle="yes"><inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra</italic>, that is, a family of sets that is closed under countable unions, countable intersections, and complements. It moreover shows that the Lebesgue measurable sets includes the well-known class of <italic toggle="yes">Borel sets</italic>, that is, the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra generated by the open and closed sets. The Borel sets are often identified as those which can be <italic toggle="yes">explicitly described</italic>. Most sets we encounter in analysis can be explicitly described and are thus Borel and Lebesgue measurable.</p>
      <p>We now know that Borel sets are Lebesgue measurable, null sets are Lebesgue measurable, and the measurable sets form a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra. The next result concludes that this information characterizes the Lebesgue measurable sets.</p>
      <statement content-type="theorem prop" id="ltxid98" style="thmplain">
        <label>7.2. Proposition</label>
        <p content-type="noindent">The collection of Lebesgue measurable sets is the least <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra containing both the open sets and the Lebesgue null sets.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>It is clear that the Lebesgue measurable sets are a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra containing the open sets and the Lebesgue null sets. On the other hand suppose that <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is a Lebesgue measurable set. By the previous lemma for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> we can find open sets <inline-formula content-type="math/tex"><tex-math>O_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E\subset O_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(O_n\smallsetminus E)&lt;1/n</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>N=\bigcap O_n\smallsetminus E</tex-math></inline-formula> is Lebesgue null. Now have that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
E=\bigcap (O_n)\cap N^c 
\end{equation*}</tex-math>
        </disp-formula>
        <p>and thus <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> lies in the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra generated by the open sets and the Lebesgue null sets.</p>
      </statement>
      <p>We conclude this section with some useful equivalents of Lebesgue measurability, similar to the ones we developed for Jordan measurability. The following result implies that the Lebesgue measurable sets can be characterized as those which are “almost open.”</p>
      <statement content-type="theorem lem" id="ltxid99" style="thmplain">
        <label>7.3. Lemma</label>
        <p content-type="noindent">A set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable if and only if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists an open set <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(O\bigtriangleup A)&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Our original definition of Lebesgue measurability automatically gives an open set <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(O\bigtriangleup A)&lt;\epsilon </tex-math></inline-formula>. Conversely, let <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> be any set and suppose the condition holds. Then for any <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> we can find an open set <inline-formula content-type="math/tex"><tex-math>O_\epsilon </tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(O_\epsilon \bigtriangleup E)&lt;\epsilon </tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>U_\epsilon =\bigcup O_{\epsilon /2^k}</tex-math></inline-formula>. Then it is not difficult to check that <inline-formula content-type="math/tex"><tex-math>m^*(U_\epsilon \smallsetminus A)\leq \epsilon </tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>m^*(A\smallsetminus U_\epsilon )=0</tex-math></inline-formula>. Finally letting <inline-formula content-type="math/tex"><tex-math>B=\bigcap _nU_{1/n}</tex-math></inline-formula> we have that <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> is a measurable set and both <inline-formula content-type="math/tex"><tex-math>m^*(A\smallsetminus B)=0</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(B\smallsetminus A)=0</tex-math></inline-formula>. We have thus shown that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> differs from a measurable set by a null set, and we leave it as an exercise to check that this implies <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is measurable too.</p>
      </statement>
      <p>Perhaps even more surprising, the Lebesgue measurable sets of finite measure can be characterized as those which are “almost elementary”.</p>
      <statement content-type="theorem lem" id="ltxid100" style="thmplain">
        <label>7.4. Lemma</label>
        <p content-type="noindent">A set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable with finite Lebesgue measure if and only if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(E\bigtriangleup A)&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Suppose that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. Let <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> be an open set such that <inline-formula content-type="math/tex"><tex-math>A\subset O</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(O\smallsetminus A)&lt;\epsilon </tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>O</tex-math></inline-formula> can be written as a union of almost disjoint boxes <inline-formula content-type="math/tex"><tex-math>O=\bigcup B_i</tex-math></inline-formula>, and we know that <inline-formula content-type="math/tex"><tex-math>m(O)=\sum \operatorname {vol}(B_i)</tex-math></inline-formula>.</p>
        <p>Now <inline-formula content-type="math/tex"><tex-math>m(O)&lt;m(A)+\epsilon </tex-math></inline-formula> and the right-hand side is finite, so the sum <inline-formula content-type="math/tex"><tex-math>\sum \operatorname {vol}(B_i)</tex-math></inline-formula> converges. Thus there exists some <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\sum _{N+1}^\infty \operatorname {vol}(B_i)&lt;\epsilon </tex-math></inline-formula>. Letting <inline-formula content-type="math/tex"><tex-math>E=\bigcup _1^N B_i</tex-math></inline-formula>, we have that <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> is elementary and <inline-formula content-type="math/tex"><tex-math>m(O\smallsetminus E)&lt;\epsilon </tex-math></inline-formula>. Thus we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m^*(E\bigtriangleup A)&amp;=m^*(E\smallsetminus A)+m^*(A\smallsetminus E)\\
 &amp;\leq m^*(O\smallsetminus A)+m^*(O\smallsetminus E)\\
 &amp;&lt;2\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>which is sufficient to prove the implication. The converse implication is similar to the previous lemma.</p>
      </statement>
      <p>We have now established many useful properties of the outer measure <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> and shown that it has a broad collection of measurable sets. In the next section we will confirm as promised that <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> behaves very well when restricted to the collection of measurable sets.</p>
      <statement content-type="theorem exerc" id="ltxid101" style="thmdefinition">
        <label>Exercise 7.1</label>
        <title>(See Tao, Ex 1.2.7)</title>
        <def-list content-type="enumerate">
          <def-item id="ltxid102"><term>(a)</term> <def><p>Show that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is measurable iff for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists a closed set <inline-formula content-type="math/tex"><tex-math>F\subset A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(A\smallsetminus F)&lt;\epsilon </tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid103"><term>(b)</term> <def><p>Show that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is measurable iff for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists a measurable set <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(A\bigtriangleup B)&lt;\epsilon </tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="theorem exerc" id="ltxid104" style="thmdefinition">
        <label>Exercise 7.2</label>
        <title>(Tao, Ex 1.2.14)</title>
        <p content-type="noindent">Show that any set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is contained in a Lebesgue measurable set <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m(B)=m^*(A)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid105" style="thmdefinition">
        <label>Exercise 7.3</label>
        <title>(Tao, Ex 1.2.15)</title>
        <p content-type="noindent">Show the <italic toggle="yes">inner regularity</italic> property: If <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable, then</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
m(A)=\sup \left\{\,m(K)\mid K\subset A,<text> <inline-formula content-type="math/tex"><tex-math>K</tex-math></inline-formula> compact</text>\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid106" specific-use="section">
      <label>8</label>
      <title>Lebesgue measure</title>
      <statement content-type="theorem reading" id="ltxid107" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.2.2</p>
      </statement>
      <p>In the previous section we established that many sets are Lebesgue measurable. When <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable we simply write <inline-formula content-type="math/tex"><tex-math>m(A)</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>m^*(A)</tex-math></inline-formula>, and we call <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> the <italic toggle="yes">Lebesgue measure</italic>. We are finally ready to prove that the Lebesgue measure satisfies the requirements of a measure that we laid out in the first section, at least when they are applied to Lebesgue measurable sets.</p>
      <statement content-type="theorem thm" id="ltxid108" style="thmplain">
        <label>8.1. Theorem</label>
        <p content-type="noindent">The Lebesge measure satisfies the axioms</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid109"><term>(a)</term> <def><p>(normality) if <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> is a box then <inline-formula content-type="math/tex"><tex-math>m(B)=\operatorname {vol}(B)</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid110"><term>(b)</term> <def><p>(translation-invariance) <inline-formula content-type="math/tex"><tex-math>m(x+A)=m(A)</tex-math></inline-formula> for every <inline-formula content-type="math/tex"><tex-math>x\in {\mathbb{R}}^n</tex-math></inline-formula> and measurable set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid111"><term>(c)</term> <def><p>(countable additivity) <inline-formula content-type="math/tex"><tex-math>m(\bigcup A_n)=\sum m(A_n)</tex-math></inline-formula> for every sequence of pairwise disjoint measurable sets <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We have already established normality for <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> and hence for <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>. Translation-invariance of <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> is clear from the definition since it is clear for boxes.</p>
        <p>For countable additivity, first recall that we always have subadditivity so we need only show <inline-formula content-type="math/tex"><tex-math>m(\bigcup A_n)\geq \sum m(A_n)</tex-math></inline-formula>. Suppose first that the <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are compact. Then they are pairwise positively separated, so using Lemma <xref ref-subtype="lem" ref-type="statement" rid="ltxid88" specific-use="ref">6.1</xref> inductively we can establish that <inline-formula content-type="math/tex"><tex-math>m(\bigcup _1^N A_n)=\sum _1^N m(A_n)</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>m(\bigcup A_n)\geq \sum _1^Nm(A_n)</tex-math></inline-formula>. Taking <inline-formula content-type="math/tex"><tex-math>N\to \infty </tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>m(\bigcup A_n)\geq \sum m(A_n)</tex-math></inline-formula> as desired.</p>
        <p>Next assume that the <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are bounded but not necessarily closed. By the measurability of <inline-formula content-type="math/tex"><tex-math>A_n^c</tex-math></inline-formula> we can find open sets <inline-formula content-type="math/tex"><tex-math>O_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A_n^c\subset O_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>m^*(O_n\smallsetminus A_n^c)&lt;\epsilon /2^n</tex-math></inline-formula>. Taking complements we thus have compact sets <inline-formula content-type="math/tex"><tex-math>K_n\subset E_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m^*(A_n\smallsetminus K_n)&lt;\epsilon /2^n</tex-math></inline-formula>. Now using the additivity for compact sets,</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(\bigcup A_n)&amp;\geq m(\bigcup K_n)\\
 &amp;=\sum m(K_n)\\
 &amp;\geq \sum (m(A_n)-\epsilon /2^n)\\
 &amp;=\sum m(A_n)-\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we are finished in this case.</p>
        <p>Finally for general <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula>, decompose <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> into disjoint bounded cells <inline-formula content-type="math/tex"><tex-math>C_m</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>A_n=\bigcup _m A_n\cap C_m</tex-math></inline-formula>. Now the sets <inline-formula content-type="math/tex"><tex-math>A_n\cap C_n</tex-math></inline-formula> are bounded, so applying the result for bounded sets twice we have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(\bigcup A_n)&amp;=\sum _n\sum _m m(A_n\cap C_m)\\
 &amp;=\sum _n m(A_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>and the proof is complete.</p>
      </statement>
      <p>We have now established the existence and all of the promised axioms of the Lebesgue measure. Additional useful properties can be derived from the axioms, such as the following result concerning continuity of the measure function.</p>
      <statement content-type="theorem thm" id="ltxid112" style="thmplain">
        <label>8.2. Theorem</label>
        <def-list content-type="itemize">
          <def-item id="ltxid113"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(upwards monotone convergence theorem) If <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are measurable and <inline-formula content-type="math/tex"><tex-math>A_{n+1}\supset A_n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>m(\bigcup A_n)=\lim m(A_n)</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid114"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(downwards monotone convergence theorem) If <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are measurable and <inline-formula content-type="math/tex"><tex-math>A_{n+1}\subset A_n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>m(\bigcap A_n)=\lim m(A_n)</tex-math></inline-formula>, provided some <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> has finite measure.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>For the upwards MCT, let <inline-formula content-type="math/tex"><tex-math>A'_n=A_n\smallsetminus A_{n-1}</tex-math></inline-formula> and note that the <inline-formula content-type="math/tex"><tex-math>A'_n</tex-math></inline-formula> are disjoint and have the same union as before: <inline-formula content-type="math/tex"><tex-math>\bigcup A'_n=\bigcup A_n</tex-math></inline-formula>. Note that we implicitly set the value <inline-formula content-type="math/tex"><tex-math>A_0=\emptyset </tex-math></inline-formula>. Applying countable additivity, we now have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(\bigcup A_n)&amp;=m(\bigcup A'_n)\\
 &amp;=\sum m(A'_n)\\
 &amp;=\sum m(A_n)-m(A_{n-1})\\
 &amp;=\lim _N \sum _1^N m(A_n)-m(A_{n-1})\\
 &amp;=\lim _N m(A_N) 
\end{align*}</tex-math>
        </disp-formula>
        <p>The last equality holds simply by telescoping cancellation.</p>
        <p>For the downwards MCT, we can suppose without loss of generality that <inline-formula content-type="math/tex"><tex-math>A_1</tex-math></inline-formula> has finite measure. We thus take complements inside <inline-formula content-type="math/tex"><tex-math>A_1</tex-math></inline-formula> to obtain the sequence <inline-formula content-type="math/tex"><tex-math>B_n=A_1\smallsetminus A_n</tex-math></inline-formula>. Then the <inline-formula content-type="math/tex"><tex-math>B_n</tex-math></inline-formula> form an increasing sequence and <inline-formula content-type="math/tex"><tex-math>\bigcup B_n=A_1\smallsetminus \bigcap A_n</tex-math></inline-formula>. Using this and the upwards MCT, we now have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 m(A_1)&amp;=m(\bigcap A_n)+m(\bigcup B_n)\\
 &amp;=m(\bigcap A_n)+\lim m(B_n)\\
 &amp;=m(\bigcap A_n)+\lim (m(A_1)-m(A_n))\\
 &amp;=m(\bigcap A_n)+m(A_1)-\lim m(A_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Cancelling the <inline-formula content-type="math/tex"><tex-math>m(A_1)</tex-math></inline-formula> from the first and last expression, we obtain that <inline-formula content-type="math/tex"><tex-math>0=m(\bigcap A_n)-\lim m(A_n)</tex-math></inline-formula>, which implies the desired result.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid115" style="thmdefinition">
        <label>Exercise 8.1</label>
        <title>(Tao Ex 1.2.11(iii))</title>
        <p content-type="noindent">Give a counterexample showing that the hypothesis that some <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> has finite measure is necessary for the downwards MCT.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid116" style="thmdefinition">
        <label>Exercise 8.2</label>
        <title>(Tao Ex 1.2.12)</title>
        <p content-type="noindent">Suppose you know that the domain of <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> is a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra, and <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> satisfies <inline-formula content-type="math/tex"><tex-math>m(\emptyset )=0</tex-math></inline-formula> and the countable additivity property. Show that <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> satisfies the monotonicity property and the countable subadditivity property.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid117" style="thmdefinition">
        <label>Exercise 8.3</label>
        <title>(Tao Ex 1.2.13)</title>
        <p content-type="noindent">Let us say that a sequence of sets <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> if the characteristic functions <inline-formula content-type="math/tex"><tex-math>\chi _{A_n}</tex-math></inline-formula> converge pointwise to <inline-formula content-type="math/tex"><tex-math>\chi _A</tex-math></inline-formula>.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid118"><term>(a)</term> <def><p>Show that if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are Lebesgue measurable and <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is Lebesgue measurable. [Hint: Show that if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>A=\bigcup _n\bigcap _{m&gt;n}A_m</tex-math></inline-formula> and also <inline-formula content-type="math/tex"><tex-math>A=\bigcap _n\bigcup _{m&gt;n}A_m</tex-math></inline-formula>.]</p></def></def-item>
          <def-item id="ltxid119"><term>(b)</term> <def><p>Suppose that if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are all contained in a set of finite measure and <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>m(A_n)\to m(A)</tex-math></inline-formula>. This is an example of the <italic toggle="yes">dominated convergence theorem</italic>.</p></def></def-item>
          <def-item id="ltxid120"><term>(c)</term> <def><p>Give a counterexample showing that the hypothesis that <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are all contained in a set of finite measure cannot be replaced with the hypothesis that the values <inline-formula content-type="math/tex"><tex-math>m(A_n)</tex-math></inline-formula> are bounded.</p></def></def-item>
        </def-list>
      </statement>
    </sec>
  </sec>
  <sec disp-level="1" id="ltxid121" specific-use="chapter">
    <label>Part II</label>
    <title>Measure and integration</title>
    <sec disp-level="2" id="ltxid122" specific-use="section">
      <label>1</label>
      <title>Preview of integration, simple integration</title>
      <statement content-type="theorem reading" id="ltxid123" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.3 introduction</p>
      </statement>
      <p>In this chapter of the course, we investigate integration of real and complex-valued functions. Just as the Jordan measure corresponded tightly with the Darboux/Riemann integral, the Lebesgue measure can be associated with the so-called Lebesgue integral. The integral will serve most of the purposes needed in calculus, and will also help set the stage for the next chapter when we will introduce functional analysis.</p>
      <p>Just as the Lebesgue measure generalized and extended the Jordan measure, the Lebesgue integral will generalize and extend the Darboux/Riemann integral while still ensuring that many of its key properties hold. In addition many new stronger properties will hold as well, such as infinite versions of additivity and stability under limits.</p>
      <p>Recall that the Darboux/Riemann integral was defined first for piecewise constant functions, that is, functions which take constant values on each of finitely many intervals. It was then extended using approximations or limits. Similarly, the Lebesgue integral will be defined first for the so-called “simple” functions, and later extended using approximations or limits.</p>
      <statement content-type="theorem defn" id="ltxid124" style="thmdefinition">
        <label>1.1. Definition</label>
        <p content-type="noindent">A function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> mapping <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> into the extended real numbers <inline-formula content-type="math/tex"><tex-math>[0,\infty ]</tex-math></inline-formula> (or sometimes into <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}</tex-math></inline-formula>) is called <italic toggle="yes">simple</italic> if there exists a partition of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> into finitely many Lebesgue measurable subsets <inline-formula content-type="math/tex"><tex-math>A_1,\ldots ,A_k</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> takes a constant value <inline-formula content-type="math/tex"><tex-math>c_i</tex-math></inline-formula> on each <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula>.</p>
      </statement>
      <p>Equivalently, we may say that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is simple if it is of the form <inline-formula content-type="math/tex"><tex-math>f=\sum _1^kc_n\chi _{A_i}</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> are Lebesgue measurable sets.</p>
      <p>The simple functions are the source of the following commonly held intuition about Lebesgue integration: While Riemann integration relies on cutting into vertical strips, Lebesgue integration relies on cutting into horizontal strips. The idea is that the region below a simple function consists of finitely many horizontal strips with measurable cross-sections, and thus it is very simple to compute the integral of such a function, as is done in the next definition. We can then approximate many non-simple functions using simple functions, as is done in the next section.</p>
      <statement content-type="theorem defn" id="ltxid125" style="thmdefinition">
        <label>1.2. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f=\sum _1^kc_i\chi _{A_i}</tex-math></inline-formula> is a simple function and <inline-formula content-type="math/tex"><tex-math>f\geq 0</tex-math></inline-formula>, then the <italic toggle="yes">simple integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is defined to be <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int f=\sum _1^kc_im(A_i)</tex-math></inline-formula>.</p>
      </statement>
      <p>Note that we assume <inline-formula content-type="math/tex"><tex-math>f\geq 0</tex-math></inline-formula> to ensure that the value of the simple integral is never indeterminate. As was the case with both elementary measure and pc integral, we have to check that the simple integral is well-defined.</p>
      <statement content-type="theorem lem" id="ltxid126" style="thmplain">
        <label>1.3. Lemma</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f=\sum _1^lc_i\chi _{A_i}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f=\sum _1^md_j\chi _{B_j}</tex-math></inline-formula> then we have <inline-formula content-type="math/tex"><tex-math>\sum _1^l c_i m(A_i)=\sum _1^m d_j m(B_j)</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We use a common refinement approach. By considering intersections of all <inline-formula content-type="math/tex"><tex-math>k+l</tex-math></inline-formula> sets, we can find a sequence of nonempty disjoint sets <inline-formula content-type="math/tex"><tex-math>C_1,\ldots ,C_n</tex-math></inline-formula> such that each of the <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>B_j</tex-math></inline-formula> can be written as a union of some of the <inline-formula content-type="math/tex"><tex-math>C_k</tex-math></inline-formula>’s. Note that since the <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>B_j</tex-math></inline-formula> are measurable, the <inline-formula content-type="math/tex"><tex-math>C_k</tex-math></inline-formula> are measurable too. Now let <inline-formula content-type="math/tex"><tex-math>x_k</tex-math></inline-formula> be an arbitrary point in <inline-formula content-type="math/tex"><tex-math>A_k</tex-math></inline-formula>. We can calculate</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \sum _{i=1}^lc_im(A_i) &amp;=\sum _{i=1}^lc_i\sum _{k:A_i\supset C_k}m(C_k)\\
 &amp;=\sum _{k=1}^n\sum _{i:A_i\supset C_k}c_im(C_k)\\
 &amp;=\sum _{k=1}^nf(x_k)m(C_k)\\
 &amp;=\sum _{k=1}^n\sum _{j:B_j\supset C_k}d_jm(C_k)\\
 &amp;=\sum _{j=1}^md_j\sum _{k:B_j\supset C_k}m(C_k)=\sum _{j=1}^md_jm(B_j) 
\end{align*}</tex-math>
        </disp-formula>
        <p>This is what we desired.</p>
      </statement>
      <p>Having defined the simple integral, we outline some of its important properties that will be used later on. The first of these is that the value of the simple integral is insensitive to changes on a null set.</p>
      <p>In order to state this property and others cleanly, we introduce the terminology <italic toggle="yes">almost everywhere</italic>. If a statement <inline-formula content-type="math/tex"><tex-math>S(x)</tex-math></inline-formula> with variable <inline-formula content-type="math/tex"><tex-math>x\in {\mathbb{R}}</tex-math></inline-formula> holds for every <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula> outside of a null set, we sat that <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> is true almost everywhere. For example, if <inline-formula content-type="math/tex"><tex-math>f(x)=0</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>x\notin {\mathbb{Q}}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f(x)=1</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>x\in {\mathbb{Q}}</tex-math></inline-formula> (the Dirichlet function) we can say that <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula> almost everywhere.</p>
      <statement content-type="theorem prop" id="ltxid127" style="thmplain">
        <label>1.4. Proposition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> be simple functions.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid128"><term>(a)</term> <def><p>(equivalence) if <inline-formula content-type="math/tex"><tex-math>f=g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int f=<text>s</text>\kern -3pt\int g</tex-math></inline-formula></p></def></def-item>
          <def-item id="ltxid129"><term>(b)</term> <def><p>(monotonicity) if <inline-formula content-type="math/tex"><tex-math>f\leq g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int f\leq <text>s</text>\kern -3pt\int g</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid130"><term>(c)</term> <def><p>(linearity) <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int (cf)=c\cdot <text>s</text>\kern -3pt\int f</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int (f+g)=<text>s</text>\kern -3pt\int f+<text>s</text>\kern -3pt\int g</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We prove the first property (i), since after that properties (ii) and (iii) are very similar to the analogous properties of the Riemann integral. Given simple functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>, we can refine their expressions to find measurable sets <inline-formula content-type="math/tex"><tex-math>A_1,\ldots ,A_n</tex-math></inline-formula> and a null set <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>f(x)=\sum c_i\chi _{A_i}(x)</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\notin N</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g(x)=\sum c_i\chi _{A_i}(x)</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\notin N</tex-math></inline-formula>. Then clearly the simple integral of both <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> evaluates to <inline-formula content-type="math/tex"><tex-math>\sum c_im(A_i)+0</tex-math></inline-formula>.</p>
      </statement>
      <p>Throwing away null sets is common in analysis, and thanks to our understanding of the Lebesgue measure it carries with it a lot of power. When studying sets and functions in the measure context, it will even be useful to modify our logic. We will use the quantifiers <inline-formula content-type="math/tex"><tex-math>\forall ^*x</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\exists ^*x</tex-math></inline-formula> to mean “the statement holds for all but a null set of <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>” and “there exists a non-null set of <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula> such that the statement holds”.</p>
      <p>We close this section with a preview of how the definition of the Lebesgue integral will proceed in several stages. In the next section, we will use a familiar approximation or limit idea to extend the simple integral to a much wider class of nonnegative functions. In two sections, we will show how to extend the integral from nonnegative function to complex-valued functions.</p>
      <p>To imagine how this latter part will go, it is useful to recall the development of infinite series. Recall that if <inline-formula content-type="math/tex"><tex-math>a_n\geq 0</tex-math></inline-formula> we can define <inline-formula content-type="math/tex"><tex-math>\sum a_n</tex-math></inline-formula> as simply <inline-formula content-type="math/tex"><tex-math>\sup _N\sum _1^Na_n</tex-math></inline-formula>. Next if <inline-formula content-type="math/tex"><tex-math>a_n</tex-math></inline-formula> are arbitrary real numbers we say that the terms are <italic toggle="yes">absolutely summable</italic> if <inline-formula content-type="math/tex"><tex-math>\sum |a_n|&lt;\infty </tex-math></inline-formula>. In that case we split each term into its positive part <inline-formula content-type="math/tex"><tex-math>a_n^+=\max (a_n,0)</tex-math></inline-formula> and its negative part <inline-formula content-type="math/tex"><tex-math>a_n^-=\max (-a_n,0)</tex-math></inline-formula>. In this way we have for each term <inline-formula content-type="math/tex"><tex-math>a_n=a_n^+-a_n^-</tex-math></inline-formula> and we may define <inline-formula content-type="math/tex"><tex-math>\sum a_n=\sum a_n^+-\sum a_n^-</tex-math></inline-formula>. Note that the assumption that <inline-formula content-type="math/tex"><tex-math>a_n</tex-math></inline-formula> is absolutely summable guarantees that the latter expression is not indeterminate. Finally if <inline-formula content-type="math/tex"><tex-math>a_n</tex-math></inline-formula> are complex numbers then we again assume that <inline-formula content-type="math/tex"><tex-math>\sum |a_n|&lt;\infty </tex-math></inline-formula>, that is, the terms are absolutely summable in the complex sense. In that case we can divide each term into its real part <inline-formula content-type="math/tex"><tex-math>\Re a_n</tex-math></inline-formula> and imaginary part <inline-formula content-type="math/tex"><tex-math>\Im a_n</tex-math></inline-formula>, and define <inline-formula content-type="math/tex"><tex-math>\sum a_n=\sum \Re a_n+i\sum \Im a_n</tex-math></inline-formula>.</p>
      <statement content-type="theorem exerc" id="ltxid131" style="thmdefinition">
        <label>Exercise 1.1</label>
        <p content-type="noindent">Show that a function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is simple if and only if it can be expressed as <inline-formula content-type="math/tex"><tex-math>f=\sum _1^kc_i\chi _{A_i}</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> are (not necessarily disjoint) Lebesgue measurable sets.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid132" style="thmdefinition">
        <label>Exercise 1.2</label>
        <title>(see Tao, Ex 1.3.1)</title>
        <p content-type="noindent">Show that the simple integral satisfies the properties:</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid133"><term>(a)</term> <def><p>(finiteness) <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int f&lt;\infty </tex-math></inline-formula> if and only if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is finite almost everywhere and supported on a set of finite measure</p></def></def-item>
          <def-item id="ltxid134"><term>(b)</term> <def><p>(vanishing) <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int f=0</tex-math></inline-formula> if and only if <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula> almost everywhere</p></def></def-item>
          <def-item id="ltxid135"><term>(c)</term> <def><p>(normality) <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int \chi _A=m(A)</tex-math></inline-formula> for any Lebesgue measurable set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula></p></def></def-item>
        </def-list>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid136" specific-use="section">
      <label>2</label>
      <title>Lebesgue measurability of functions</title>
      <statement content-type="theorem reading" id="ltxid137" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.3.2</p>
      </statement>
      <p>Just as the Riemann integral was able to integrate functions that can be well approximated by pc functions, the Lebesgue integral will be able to integrate functions that can be well approximated by simple functions. At the time we did not give a direct definition of the Riemann integrable functions. This time we will define in advance the class of functions for which the Lebesgue integral will make sense. As indicated, we begin with just the nonnegative real-valued functions.</p>
      <statement content-type="theorem defn" id="ltxid138" style="thmdefinition">
        <label>2.1. Definition</label>
        <p content-type="noindent">A nonnegative function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula> is said to be a <italic toggle="yes">measurable function</italic> if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is the pointwise limit of nonnegative simple functions.</p>
      </statement>
      <p>As was the case with Lebsegue measurable sets, the Lebesgue measurable functions can be equivalently described in a number of ways, each being in useful in some situations.</p>
      <statement content-type="theorem thm" id="ltxid139" style="thmplain">
        <label>2.2. Theorem</label>
        <p content-type="noindent">A nonnegative function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable if and only if either of the following holds.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid140"><term>(a)</term> <def><p>there is a sequence <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> of simple functions such that the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> are bounded and have bounded support, the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> are increasing <inline-formula content-type="math/tex"><tex-math>f_n\leq f_{n+1}</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>f=\sup f_n</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid141"><term>(b)</term> <def><p>for any open set <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> (respectively: closed set, interval, ray, etc) the preimage <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> is Lebesgue measurable.</p></def></def-item>
        </def-list>
      </statement>
      <p>Before the proof, recall that given a sequence <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula> we define <inline-formula content-type="math/tex"><tex-math>\limsup x_n=\inf _N\sup _{n\geq N}x_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\liminf x_n=\sup _N\inf _{n\geq N}x_n</tex-math></inline-formula>. The <inline-formula content-type="math/tex"><tex-math>\limsup </tex-math></inline-formula> is the largest limit point of <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula>, that is, the largest number that is the limit of a subsequence of <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula>. Similarly, the <inline-formula content-type="math/tex"><tex-math>\liminf </tex-math></inline-formula> is the smallest limit point of <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula>. The limit <inline-formula content-type="math/tex"><tex-math>\lim x_n</tex-math></inline-formula> exists if and only if <inline-formula content-type="math/tex"><tex-math>\limsup x_n=\liminf x_n</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\lim x_n</tex-math></inline-formula> equals this common value.</p>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We first show that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable, then (b) holds. So let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be simple functions such that <inline-formula content-type="math/tex"><tex-math>f=\lim f_n</tex-math></inline-formula> pointwise. Note that by the above discussion, we have that <inline-formula content-type="math/tex"><tex-math>f=\limsup f_n</tex-math></inline-formula> pointwise. Now suppose that <inline-formula content-type="math/tex"><tex-math>S=(\lambda ,\infty )</tex-math></inline-formula> is an open ray. Then we want to say that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 x\in f^{-1}(S)&amp;\iff f(x)&gt;\lambda \\
 &amp;\iff \inf _N\sup _{n\geq N}f_n(x)&gt;\lambda \\
 &amp;\iff (\forall N)(\exists n\geq N)f_n(x)&gt;\lambda \\
 &amp;\iff x\in \bigcap _N\bigcup _{n\geq N}f_n^{-1}(\lambda ,\infty ] 
\end{align*}</tex-math>
        </disp-formula>
        <p>Since the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> are simple, it is clear that the set in the last line is measurable and therefore <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> would be measurable. However the argument isn’t right, since for instance it isn’t quite true that <inline-formula content-type="math/tex"><tex-math>(\forall n)z_n&gt;\lambda </tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>\inf _n z_n&gt;\lambda </tex-math></inline-formula>. The correct calculation introduces a couple additional steps but ultimately accomplishes the same thing:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 x\in f^{-1}(S)&amp;\iff f(x)&gt;\lambda \\
 &amp;\iff (\exists \epsilon )f(x)\geq \lambda +\epsilon \\
 &amp;\iff (\exists \epsilon )(\forall N)\sup _{n\geq N} f_n(x)\geq \lambda +\epsilon \\
 &amp;\iff (\exists \epsilon )(\forall N)(\forall \eta )\sup _{n\geq N}f_n(x)&gt;\lambda +\epsilon -\eta \\
 &amp;\iff (\exists \epsilon )(\forall N)(\forall \eta )(\exists n\geq N)f_n(x)&gt;\lambda +\epsilon -\eta \\
 &amp;\iff x\in \bigcup _i\bigcap _N\bigcap _j\bigcup _{n\geq N}f_n^{-1}\left(\lambda +\frac{1}{i}-\frac{1}{j},\infty \right] 
\end{align*}</tex-math>
        </disp-formula>
        <p>Once again, this establishes that <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> is measurable. Now an analogous argument will allow us to handle the case when <inline-formula content-type="math/tex"><tex-math>S=(-\infty ,\mu )</tex-math></inline-formula>. Since any open interval is an intersection of two open rays, and any open set is a countable union of intervals, we can conclude that for any open <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> the set <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> is measurable. This establishes (b).</p>
        <p>Next we argue that (b) implies (a). Suppose that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> satisfies condition (b). Given any <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, we will define a nonnegative simple function <inline-formula content-type="math/tex"><tex-math>f_n\leq f</tex-math></inline-formula> as follows:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
f_n(x)= \begin{cases}
\max \left\{\,\frac{i}{2^n}\mid \frac{i}{2^n}\leq f(x)<text> and </text> \frac{i}{2^n}\leq n\,\right\}&amp;x\in [-n,n]^d\\
 0&amp;<text>otherwise</text> \end{cases} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>The above prescription clearly ensures that <inline-formula content-type="math/tex"><tex-math>f_n\leq f</tex-math></inline-formula>, that <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is bounded above by <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, and that <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> has bounded support <inline-formula content-type="math/tex"><tex-math>[-n,n]^d</tex-math></inline-formula>. Moreover it is not difficult to check that <inline-formula content-type="math/tex"><tex-math>f_n\leq f_{n+1}</tex-math></inline-formula> and that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula>. It remains only to show that <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is simple, and since <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> clearly takes just finitely many values we really only have to check that it takes each of its values on a measurable set. For this, for example we have <inline-formula content-type="math/tex"><tex-math>f_n(x)=\frac{i}{2^n}</tex-math></inline-formula> if and only if <inline-formula content-type="math/tex"><tex-math>f(x)</tex-math></inline-formula> lies in the interval <inline-formula content-type="math/tex"><tex-math>[\frac{i}{2^n},\frac{i+1}{2^n})</tex-math></inline-formula>. It follows from property (b) that <inline-formula content-type="math/tex"><tex-math>f_n^{-1}(\frac{i}{2^n})</tex-math></inline-formula> is a measurable set, and therefore we have that <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is simple and <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> satisfies property (a).</p>
        <p>Finally it is trivial that (a) implies <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable, so we have completed the proof.</p>
      </statement>
      <p>It is worth remarking that by property (b) of the Lemma, measurability can be viewed as a massive generalization of continuity. Recall that a function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is continuous if and only if whenever <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> is open we have <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> open. In property (b), we ask merely that <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> be Lebesgue measurable, a much weaker demand.</p>
      <p>Notice also that since preimages are stable under unions, intersections, and complements, property (b) implies that if <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> is Borel then <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> will be measurable too. But if <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> is merely measurable, there is no guarantee that <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> will be measurable! To see this consider a function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> which is a bijection between <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula> and a null set. For example one can map <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula> into the Cantor set <inline-formula content-type="math/tex"><tex-math>C</tex-math></inline-formula> injectively almost everywhere by operating on binary and ternary expansions as follows:</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
0.b_1b_2b_3\cdots <text> (base 2)</text>\quad \mapsto \quad 0.(2b_1)(2b_2)(2b_3)\cdots <text> (base 3)</text> 
\end{equation*}</tex-math>
      </disp-formula>
      <p>Now if <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> is a Lebesgue nonmeasurable subset of <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula>, we have that <inline-formula content-type="math/tex"><tex-math>S=f(N)</tex-math></inline-formula> is null but the preimage <inline-formula content-type="math/tex"><tex-math>f^{-1}(S)</tex-math></inline-formula> is non-measurable.</p>
      <p>To close the section, we extended the definition of measurable function from nonnegative functions only to complex-valued functions in the following way. Recall that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a real-valued function, then we can define its <italic toggle="yes">positive and negative parts</italic>:</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{align*}
 f^+&amp;=\max (f,0)\\
 f^-&amp;=\max (-f,0) 
\end{align*}</tex-math>
      </disp-formula>
      <p>We then have that <inline-formula content-type="math/tex"><tex-math>f^+</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f^-</tex-math></inline-formula> are nonnegative functions with <inline-formula content-type="math/tex"><tex-math>f=f^+-f^-</tex-math></inline-formula>.</p>
      <statement content-type="theorem defn" id="ltxid142" style="thmdefinition">
        <label>2.3. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is an almost-everywhere defined complex-valued function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a <italic toggle="yes">measurable function</italic> if and only if the positive and negative parts of its real and imaginary parts are measurable functions.</p>
      </statement>
      <p>We note that the above defintion is equivalent to the alternate approach of simply replacing nonnegative simple functions with complex-valued simple functions in the definition of measurable function.</p>
      <statement content-type="theorem lem" id="ltxid143" style="thmplain">
        <label>2.4. Lemma</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a complex-valued function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable if and only if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a pointwise limit of complex-valued simple functions.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid144" style="thmdefinition">
        <label>Exercise 2.1</label>
        <p content-type="noindent">Show that <inline-formula content-type="math/tex"><tex-math>\lim x_n=x</tex-math></inline-formula> if and only if <inline-formula content-type="math/tex"><tex-math>\liminf x_n=x=\limsup x_n</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid145" style="thmdefinition">
        <label>Exercise 2.2</label>
        <title>(Tao, Ex 1.3.3)</title>
        <p content-type="noindent">…</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid146" style="thmdefinition">
        <label>Exercise 2.3</label>
        <title>(Tao, Ex 1.3.4)</title>
        <p content-type="noindent">Show that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a bounded, nonnegative measurable function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>, then there is a sequence of bounded simple functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> which converges uniformly to <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> (not just pointwise).</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid147" style="thmdefinition">
        <label>Exercise 2.4</label>
        <title>(Tao, Ex 1.3.5)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is simple if and only if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable and takes on at most finitely many values.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid148" style="thmdefinition">
        <label>Exercise 2.5</label>
        <title>(Tao, Ex 1.3.6)</title>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a nonnegative measurable function, show that the region under <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a measurable set.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid149" specific-use="section">
      <label>3</label>
      <title>Lebesgue integration of nonnegative functions</title>
      <statement content-type="theorem reading" id="ltxid150" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.3.3</p>
      </statement>
      <p>Previously we defined the simple functions, showed that they can be integrated in an obvious way, and showed that integral satisfied basic desirable properties such as additivity. Next we will define the lower integral for an arbitrary nonnegative function using approximations by simple integrals. After establishing some basic properties of the lower integral, we will see that it behaves very well when applied to measurable functions, and in that case we will simply call it the Lebesgue integral.</p>
      <statement content-type="theorem defn" id="ltxid151" style="thmdefinition">
        <label>3.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>. We define the <italic toggle="yes">lower Lebesgue integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> by</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\underline{\int }f=\sup \left\{\left.<text>s</text>\kern -2pt\int g\;\right|\; g\leq f,<text> <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> nonnegative simple</text>\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable, we define the <italic toggle="yes">Lebesgue integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> to be <inline-formula content-type="math/tex"><tex-math>\int f=\underline{\int }f</tex-math></inline-formula>.</p>
      </statement>
      <p>Before investigating the Lebesgue integral itself, we will describe several properties of the lower Lebesgue integral. While it is also possible to define the upper Lebesgue integral, it is of more limited use than in the Riemann case. Later we will define the upper Lebesgue integral just for bounded functions with bounded support. In general there are functions which are measurable and should have finite integral, that do have the correct lower Lebesgue integral, but do not have a finite upper Lebesgue integral.</p>
      <p>It is clear that the lower Lebesgue integral agrees with the simple integral on the simple functions. It also inherits the equivalence and monotonicity properties from the simple integral, but not linearity. Recall that <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> was merely subadditive; this is essentially because it was defined as an infumum. On the other hand the lower Lebesgue integral will be superadditive; this is essentially because it is defined as a supremum.</p>
      <statement content-type="theorem prop" id="ltxid152" style="thmplain">
        <label>3.2. Proposition</label>
        <p content-type="noindent">The lower Lebesgue integral satisfies the properties:</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid153"><term>(a)</term> <def><p>(equivalence) if <inline-formula content-type="math/tex"><tex-math>f=g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math>\underline{\int }f=\underline{\int }g</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid154"><term>(b)</term> <def><p>(monotonicity) if <inline-formula content-type="math/tex"><tex-math>f\leq g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math>\underline{\int }f\leq \underline{\int }g</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid155"><term>(c)</term> <def><p>(superadditivity) <inline-formula content-type="math/tex"><tex-math>\underline{\int }(f+g)\geq \underline{\int }f+\underline{\int }g</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The equivalence and monotonicity properties are clear from the analogous properties of simple integrals. For superadditivity, let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given and find simple functions <inline-formula content-type="math/tex"><tex-math>h</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>k</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>h\leq f</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>k\leq g</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\underline{\int }f-<text>s</text>\kern -3pt\int h&lt;\epsilon </tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\underline{\int }g-<text>s</text>\kern -3pt\int k&lt;\epsilon </tex-math></inline-formula>. Then we have <inline-formula content-type="math/tex"><tex-math>h+k\leq f+g</tex-math></inline-formula>, and using monotinicity plus additivity for simple integrals:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \underline{\int }(f+g)&amp;\geq <text>s</text>\kern -3pt\int (h+k)\\
 &amp;=<text>s</text>\kern -3pt\int h+<text>s</text>\kern -3pt\int k\\
 &amp;&gt;\underline{\int }f+\underline{\int }g-2\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Letting <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we obtain the desired result.</p>
      </statement>
      <p>The following fundamental pair of results establish that arbitrary functions can be approximated well by bounded functions with bounded support. This will be very useful since the Lebesgue integral is much easier to work with in this case.</p>
      <statement content-type="theorem lem" id="ltxid156" style="thmplain">
        <label>3.3. Lemma</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>. The lower Lebesgue integral satisfies the following identities.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid157"><term>(a)</term> <def><p>(range truncation) If <inline-formula content-type="math/tex"><tex-math>f^N=\min (f,N)</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\underline{\int }f^N\to \underline{\int }f</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid158"><term>(b)</term> <def><p>(support trunctation) If <inline-formula content-type="math/tex"><tex-math>f_N=f\chi _{[-N,N]^d}</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\underline{\int }f_N\to \underline{\int }f</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>(a) Let us first assume that <inline-formula content-type="math/tex"><tex-math>\underline{\int }f&lt;\infty </tex-math></inline-formula>. Given <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we can find a simple function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g\leq f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\underline{\int }f-<text>s</text>\kern -3pt\int g&lt;\epsilon </tex-math></inline-formula>. By our assumption <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> must be bounded almost everywhere, which implies that for <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> large enough we have <inline-formula content-type="math/tex"><tex-math>g\leq f^N</tex-math></inline-formula> too. Now by monotonicity <inline-formula content-type="math/tex"><tex-math>\underline{\int }f-\underline{\int }f^N\leq \underline{\int }f-<text>s</text>\kern -3pt\int g&lt;\epsilon </tex-math></inline-formula>, which shows the desired result. The argument is similar in the case <inline-formula content-type="math/tex"><tex-math>\underline{\int }f=\infty </tex-math></inline-formula>.</p>
        <p>(b) Again let <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> be given and find a simple function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g\leq f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\underline{\int }f-<text>s</text>\kern -3pt\int g&lt;\epsilon </tex-math></inline-formula>. Write <inline-formula content-type="math/tex"><tex-math>g=\sum _1^kc_i\chi _{A_i}</tex-math></inline-formula>. Now we look at the simple integral of <inline-formula content-type="math/tex"><tex-math>g_N</tex-math></inline-formula>:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 <text>s</text>\kern -3pt\int g_N&amp;=\sum _1^kc_im(A_i\cap [-N,N]^d)\\
 &amp;\to \sum _1^kc_im(A_i)=<text>s</text>\kern -3pt\int g 
\end{align*}</tex-math>
        </disp-formula>
        <p>Where here <inline-formula content-type="math/tex"><tex-math>N\to \infty </tex-math></inline-formula> and we are applying the upwards monotone convergence theorem. Thus we can find <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> large enough that <inline-formula content-type="math/tex"><tex-math><text>s</text>\kern -3pt\int g-<text>s</text>\kern -3pt\int g_N&lt;\epsilon </tex-math></inline-formula>. Again using monotonicity we conclude that <inline-formula content-type="math/tex"><tex-math>\underline{\int }f-\underline{\int }f_N\leq \underline{\int }f-<text>s</text>\kern -3pt\int g_N&lt;2\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <p>We are now ready to show that the Lebesgue integral behaves well when applied to measurable functions.</p>
      <statement content-type="theorem thm" id="ltxid159" style="thmplain">
        <label>3.4. Theorem</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are nonnegative measurable functions, then <inline-formula content-type="math/tex"><tex-math>\int (f+g)=\int f+\int g</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>First suppose that <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are bounded functions with bounded supports. For such functions, it is useful to define the upper Lebesgue integral in the obvious way:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\overline{\int }f=\inf \left\{\left.<text>s</text>\kern -3pt\int h\;\right|\;f\leq h<text>, <inline-formula content-type="math/tex"><tex-math>h</tex-math></inline-formula> simple</text>\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>We claim that under our hypotheses, we in fact have <inline-formula content-type="math/tex"><tex-math>\underline{\int }f=\overline{\int }f</tex-math></inline-formula> (and similarly for <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f+g</tex-math></inline-formula>).</p>
        <p>To see this recall that since <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable, we can find simple functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>f_n\leq f_{n+1}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula>. Note also that since <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is bounded, the construction of the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> from Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid139" specific-use="ref">2.2</xref> in fact showed that the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> converge <italic toggle="yes">uniformly</italic> to <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. Thus given <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we can find <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> such that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
f\geq f_n\geq f-\epsilon \chi _S 
\end{equation*}</tex-math>
        </disp-formula>
        <p>where <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> is a support for <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. Taking <inline-formula content-type="math/tex"><tex-math>\underline{\int }</tex-math></inline-formula> of the first inequality and <inline-formula content-type="math/tex"><tex-math>\overline{\int }</tex-math></inline-formula> of the second, we obtain</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\underline{\int }f\geq <text>s</text>\kern -3pt\int f_n\geq \overline{\int }(f-\epsilon \chi _S)=\overline{\int }f-\epsilon m(S) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Letting <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula> we obtain the desired result.</p>
        <p>Now we have already shown that <inline-formula content-type="math/tex"><tex-math>\underline{\int }</tex-math></inline-formula> satisfies the superadditivity property. Using a parallel argument, it is easy to show that <inline-formula content-type="math/tex"><tex-math>\overline{\int }</tex-math></inline-formula> satisfies the analogous <italic toggle="yes">subadditivity</italic> property. And since <inline-formula content-type="math/tex"><tex-math>\underline{\int }=\overline{\int }</tex-math></inline-formula> on the functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>f+g</tex-math></inline-formula>, we can put the two together to conclude the additivity property!</p>
        <p>Finally for general measurable functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>, we can always apply the truncation lemmas to replace <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> with bounded functions with bounded supports. Each truncation costs us an <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> in the additivity property, but afterwards we can let <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula> and obtain the desired result.</p>
      </statement>
      <p>Later we will show that the Lebesgue integral even satisfies countable additivity for nonnegative measurable functions.</p>
      <statement content-type="theorem exerc" id="ltxid160" style="thmdefinition">
        <label>Exercise 3.1</label>
        <title>(Tao, ex 1.3.13)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative measurable function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>\int f</tex-math></inline-formula> is equal to the <inline-formula content-type="math/tex"><tex-math>2</tex-math></inline-formula>-dimensional Lebesgue measure of the region</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\left\{\,(x,y)\mid 0\leq y\leq f(x)\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <statement content-type="theorem exerc" id="ltxid161" style="thmdefinition">
        <label>Exercise 3.2</label>
        <title>(Tao, ex 1.3.18)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be an nonnegative measurable function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid162"><term>(a)</term> <def><p>Show that if <inline-formula content-type="math/tex"><tex-math>\int f&lt;\infty </tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is finite almost everywhere. Give a counterexample to show that the converse is false.</p></def></def-item>
          <def-item id="ltxid163"><term>(b)</term> <def><p>Show that <inline-formula content-type="math/tex"><tex-math>\int f=0</tex-math></inline-formula> if and only if <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula> almost everywhere.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="theorem exerc" id="ltxid164" style="thmdefinition">
        <label>Exercise 3.3</label>
        <p content-type="noindent">Give an example of a nonnegative function which is measurable, but has different lower and upper Lebesgue integrals.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid165" specific-use="section">
      <label>4</label>
      <title>Lebesgue integration</title>
      <statement content-type="theorem reading" id="ltxid166" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.3.4</p>
      </statement>
      <p>We have now defined and explored the Lebesgue integral for nonnegative functions. As previously explained, we will now proceed to extend this definition to signed and even complex-valued functions. Some care will of course be needed; to see this consider what would happen when trying to find the integral of <inline-formula content-type="math/tex"><tex-math>\sin (x)</tex-math></inline-formula> or of <inline-formula content-type="math/tex"><tex-math>1/x</tex-math></inline-formula> over the whole real line! In order to proceed, we will provide an assumption which guarantees that such issues will not occur.</p>
      <statement content-type="theorem defn" id="ltxid167" style="thmdefinition">
        <label>4.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a complex-valued measurable function on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> (it need only be defined almost everywhere). We say that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is <italic toggle="yes">absolutely integrable</italic>, or a member of <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula>, if <inline-formula content-type="math/tex"><tex-math>\int |f|&lt;\infty </tex-math></inline-formula>.</p>
      </statement>
      <p>We can now define the Lebesgue integral for absolutely integrable functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, by using the real, imaginary, positive, and negative parts.</p>
      <statement content-type="theorem defn" id="ltxid168" style="thmdefinition">
        <label>4.2. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is absolutely integrable and real-valued, let <inline-formula content-type="math/tex"><tex-math>\int f=\int f^+-\int f^-</tex-math></inline-formula>. If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is absolutely integrable and complex-valued, let <inline-formula content-type="math/tex"><tex-math>\int f=\int \Re f+i\int \Im f</tex-math></inline-formula>.</p>
      </statement>
      <p>Since <inline-formula content-type="math/tex"><tex-math>f^+,f^-\leq |f|</tex-math></inline-formula>, the hypothesis of absolute integrability means that <inline-formula content-type="math/tex"><tex-math>\int f</tex-math></inline-formula> will not be an indeterminate expression. The definition of <inline-formula content-type="math/tex"><tex-math>\int f</tex-math></inline-formula> agrees with the nonnegative integral when both are defined.</p>
      <p>Functions which are not absolutely integrable include <inline-formula content-type="math/tex"><tex-math>\sin (x)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>1/x</tex-math></inline-formula>, defined on all of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. Another interesting example is the function <inline-formula content-type="math/tex"><tex-math>f=(-1)^n/n\chi _{[n,n+1)}</tex-math></inline-formula>. In some sense this integral “should” have value <inline-formula content-type="math/tex"><tex-math>\sum (-1)^n/n</tex-math></inline-formula>, which is a convergent series. One may wish to define an improper integral which works for <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, but it is difficult to do so without sacrificing some of the properties of the Lebesgue integral.</p>
      <p>Next, we consider some of the elementary properties of the absolutely convergent integral. Our first result states that the real-valued version of the absolutely convergent Lebesgue integral agrees with and extends the Riemann integral.</p>
      <statement content-type="theorem prop" id="ltxid169" style="thmplain">
        <label>4.3. Proposition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f\colon [a,b]\to {\mathbb{R}}</tex-math></inline-formula> be a Riemann integrable function. Then intepreting <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> as a function defined on all of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> which is zero outside of <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>, we have that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is Lebesgue absolutely integrable with the same value.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Let us first assume that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is nonnegative. Then since pc functions are simple, we clearly have that the lower Darboux integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is less than or equal to the lower Lebesgue integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. On the other hand by monotonicity the lower Lebesgue integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is less than or equal to the upper Darboux integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. Since the lower and upper Darboux integrals are equal, we must have that it agrees with the Lebesgue integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>.</p>
        <p>If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is real-valued, then we can write <inline-formula content-type="math/tex"><tex-math>\int f=\int f^+-\int f^-</tex-math></inline-formula>, and this expression is valid for both the Darboux and absolutely convergent Lebesgue integrals. Applying the previous argument to both <inline-formula content-type="math/tex"><tex-math>f^+</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f^-</tex-math></inline-formula>, we have the desired result.</p>
      </statement>
      <p>Next, the absolutely convergent Lebsegue integral of course inherits many of the properties of the nonnegative integral, and has some new ones too.</p>
      <statement content-type="theorem prop" id="ltxid170" style="thmplain">
        <label>4.4. Proposition</label>
        <def-list content-type="enumerate">
          <def-item id="ltxid171"><term>(a)</term> <def><p>(linearity and conjugation) <inline-formula content-type="math/tex"><tex-math>\int (f+g)=\int f+\int g</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\int cf=c\int f</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int \bar{f}=\overline{\int f}</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid172"><term>(b)</term> <def><p>(triangle inequality for integrals) <inline-formula content-type="math/tex"><tex-math>\left|\int f\right|\leq \int |f|</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We should first check that if <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are absolutely integrable, then <inline-formula content-type="math/tex"><tex-math>f+g</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>cf</tex-math></inline-formula> are absolutely integrable. For the first we can simply use the classical triangle inequality <inline-formula content-type="math/tex"><tex-math>|f+g|\leq |f|+|g|</tex-math></inline-formula>. Then monotonicity implies that <inline-formula content-type="math/tex"><tex-math>\int |f+g|\leq \int |f|+\int |g|</tex-math></inline-formula> is finite. For the second, simply note that <inline-formula content-type="math/tex"><tex-math>\int |cf|=\int |c||f|=|c|\int |f|</tex-math></inline-formula> is again finite.</p>
        <p>Now linearity is easily proved using the analogous property for the nonnegative integral. For example, if <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are real-valued and <inline-formula content-type="math/tex"><tex-math>h=f+g</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>h^+-h^-=f^+-f^-+g^+-g^-</tex-math></inline-formula>. Rearranging terms we have <inline-formula content-type="math/tex"><tex-math>f^-+g^-+h^+=f^++g^++h^-</tex-math></inline-formula>. From the nonnegative linearity we know <inline-formula content-type="math/tex"><tex-math>\int f^-+\int g^-+\int h^+=\int f^++\int g^++\int h^-</tex-math></inline-formula>. Rearranging back, we obtain <inline-formula content-type="math/tex"><tex-math>\int h=\int f+\int g</tex-math></inline-formula>.</p>
        <p>For the triangle inequality for integrals, first assume that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is real-valued. Then we can write <inline-formula content-type="math/tex"><tex-math>f=f^+-f^-</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>|f|=f^++f^-</tex-math></inline-formula>. Thus using linearity together with the triangle inequality, we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \left|\int f\right|&amp;=\left|\int f^+-\int f^-\right|\\
 &amp;\leq \int f^++\int f^-\\
 &amp;=\int |f| 
\end{align*}</tex-math>
        </disp-formula>
        <p>Next if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is complex-valued we can find an angle <inline-formula content-type="math/tex"><tex-math>\theta </tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>e^{i\theta }\int f=\left|\int f\right|</tex-math></inline-formula>. Again using linearity, together with the definition of the complex-valued integral, we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \left|\int f\right|&amp;=\Re \left|\int f\right|\\
 &amp;=\Re e^{i\theta }\int f\\
 &amp;=\int \Re e^{i\theta }f\\
 &amp;\leq \int |f| 
\end{align*}</tex-math>
        </disp-formula>
        <p>The last inequality following from monotonicity, and gives the desired result.</p>
      </statement>
      <p>One of the most appreciable aspects of the theory of integration is that the class of absolutely integrable functions forms a vector space. Although the space is of course infinite dimensional, it has a substantial amount of structure! Recall that a nonnegative function <inline-formula content-type="math/tex"><tex-math>\|\cdot \|</tex-math></inline-formula> defined on a vector space is called a <italic toggle="yes">seminorm</italic> if <inline-formula content-type="math/tex"><tex-math>\|v+w\|\leq \|v\|+\|w\|</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\|cv\|=|c|\|v\|</tex-math></inline-formula>.</p>
      <statement content-type="theorem prop" id="ltxid173" style="thmplain">
        <label>4.5. Proposition</label>
        <p content-type="noindent">The collection of absolutely integrable functions forms a vector space. In fact it is a seminormed vector space with the seminorm <inline-formula content-type="math/tex"><tex-math>\|f\|=\int |f|</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We argued in the previous proof that <inline-formula content-type="math/tex"><tex-math>\int |f+g|\leq \int |f|+\int |g|</tex-math></inline-formula> and also that <inline-formula content-type="math/tex"><tex-math>\int |cf|=|c|\int |f|</tex-math></inline-formula>. These two identities imply that the space of absolutely integrable functions is closed under linear combinations and moreover that the two properties of the seminorm hold.</p>
      </statement>
      <p>A seminorm is called a <italic toggle="yes">norm</italic> if it additionally satisfies <inline-formula content-type="math/tex"><tex-math>\|v\|=0\implies v=0</tex-math></inline-formula>. If one is willing to <italic toggle="yes">identify</italic> functions <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> which agree almost everywhere as being equal, then the norm <inline-formula content-type="math/tex"><tex-math>\|f\|=\int |f|</tex-math></inline-formula> becomes a true norm. Indeed, it is an exercise to check that if <inline-formula content-type="math/tex"><tex-math>\int |f|=0</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula> almost everywhere, and thus in this sense <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula>.</p>
      <p>While the vector space of absolutely integrable functions is infinite dimensional, the next result shows that it is not too unwieldy topologically. Recall that a subset <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> of a (semi-)normed vector space <inline-formula content-type="math/tex"><tex-math>V</tex-math></inline-formula> is <italic toggle="yes">dense</italic> if for every <inline-formula content-type="math/tex"><tex-math>v\in V</tex-math></inline-formula> and every <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>d\in D</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|v-d\|&lt;\epsilon </tex-math></inline-formula>. In other words, <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> is dense if every element of <inline-formula content-type="math/tex"><tex-math>V</tex-math></inline-formula> can be approximated by elements of <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid174" style="thmplain">
        <label>4.6. Theorem</label>
        <p content-type="noindent">The following are all dense subsets of the space of absolutely integrable functions.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid175"><term>(a)</term> <def><p>absolutely integrable simple functions;</p></def></def-item>
          <def-item id="ltxid176"><term>(b)</term> <def><p>absolutely integrable simple functions <inline-formula content-type="math/tex"><tex-math>\sum _1^kc_i\chi _{B_i}</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>B_i</tex-math></inline-formula> are all boxes; and</p></def></def-item>
          <def-item id="ltxid177"><term>(c)</term> <def><p>continuous, compactly supported functions.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>(a) First assume that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is nonnegative. Then by the definition of the integral, we can find a simple function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g\leq f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\int f-\int g&lt;\epsilon </tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>\int (f-g)&lt;\epsilon </tex-math></inline-formula>, and since <inline-formula content-type="math/tex"><tex-math>f-g</tex-math></inline-formula> is nonnegative, clearly <inline-formula content-type="math/tex"><tex-math>\int |f-g|&lt;\epsilon </tex-math></inline-formula>. It is easy to extend this argument to complex-valued functions using the standard technique.</p>
        <p>(b) We now know from (a) that it is sufficient to approximate any simple function by a function of this type. Using linearity, it is enough to approximate a single term <inline-formula content-type="math/tex"><tex-math>\chi _A</tex-math></inline-formula>, with <inline-formula content-type="math/tex"><tex-math>m(A)&lt;\infty </tex-math></inline-formula>, by a function of this type. We have already seen that for any such <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> there exists an elementary set <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m(A\bigtriangleup E)&lt;\epsilon </tex-math></inline-formula>. This means that <inline-formula content-type="math/tex"><tex-math>\int |\chi _A-\chi _E|&lt;\epsilon </tex-math></inline-formula>, so the result follows.</p>
        <p>(c) We now know from (b) that it is sufficient to approximate any <inline-formula content-type="math/tex"><tex-math>\chi _B</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> a box, by a function of this type. It is possible to do this explicity. For example in one dimension we have <inline-formula content-type="math/tex"><tex-math>B=I</tex-math></inline-formula> is an interval, and the step function <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> can easily be approximated by a continuous function which looks like a trapezoid.</p>
      </statement>
      <p>We will see later that this density result fits in with several results which loosely state that integrable functions are “almost continuous.”</p>
      <statement content-type="theorem exerc" id="ltxid178" style="thmdefinition">
        <label>Exercise 4.1</label>
        <title>(Tao, ex 1.3.25(i))</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be absolutely integrable. Show that for any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists a bounded measurable set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\int |f|\chi _{A^c}&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid179" style="thmdefinition">
        <label>Exercise 4.2</label>
        <title>(Tao, ex 1.3.25(ii))</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative measurable function, and assume <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is finite almost everywhere. Show that for any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>, there exists a measurable set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m(A)&lt;\epsilon </tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is locally bounded outside of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>. In other words, for every <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>x\in [-n,n]^d\smallsetminus A</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>f(x)\leq M</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid180" style="thmdefinition">
        <label>Exercise 4.3</label>
        <p content-type="noindent">Show that the space of absolutely integrable functions is separable, that is, has a countable dense subset.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid181" specific-use="section">
      <label>5</label>
      <title>Convergence theorems</title>
      <statement content-type="theorem reading" id="ltxid182" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.4.5, though assume all functions are defined on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>.</p>
      </statement>
      <p>In the previous section we have seen that the Lebesgue integral satisfies all of the key properties that the Riemann integral does, while at the same time being able to integrate many more functions. But given that the Lebesgue measure enjoys much stronger properties than the Jordan measure does, it is natural to ask whether the Lebesgue integral does too.</p>
      <p>In order to find such strong properties, a good test question to ask is whether <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>\int f_n\to f</tex-math></inline-formula>. We saw that in the case of the Riemann integral, this does hold if <inline-formula content-type="math/tex"><tex-math>f_n,f</tex-math></inline-formula> are all defined on an interval and <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> uniformly. In the case of the Lebesgue integral, the same proof shows that it works when <inline-formula content-type="math/tex"><tex-math>f_n,f</tex-math></inline-formula> are all supported on a common set of finite measure, and <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> uniformly.</p>
      <p>But without these special hypotheses, such a convergence theorem can fail. So before looking for situations where it does hold, let us examine some of the examples where it does not.</p>
      <statement content-type="theorem example" id="ltxid183" style="thmremark">
        <label>5.1. Example</label>
        <title>(Domain escape to infinity)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n=\chi _{[n,n+1]}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula>. That is, <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is a sequence of moving unit bumps. Then <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> pointwise (not uniformly), but we have <inline-formula content-type="math/tex"><tex-math>\int f_n=1</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int f=0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem example" id="ltxid184" style="thmremark">
        <label>5.2. Example</label>
        <title>(Support escape to infinity)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n=\frac{1}{n}\chi _{[0,n]}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula>. That is, <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is a sequence of widening and shortening bumps. Then <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> uniformly, but once again we have <inline-formula content-type="math/tex"><tex-math>\int f_n=1</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int f=0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem example" id="ltxid185" style="thmremark">
        <label>5.3. Example</label>
        <title>(Range escape to infinity)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n=n\chi _{[1/n,2/n]}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f=0</tex-math></inline-formula>. That is, <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is a sequence of narrowing and tallening bumps. Then <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> pointwise (not uniformly), but once again we have <inline-formula content-type="math/tex"><tex-math>\int f_n=1</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int f=0</tex-math></inline-formula>.</p>
      </statement>
      <p>One should observe that in all three of our examples where a convergence theorem fails, mass was destroyed in the limit. In particular, we do not have an example where new mass is created in the limit. The next result states that mass can only be destroyed, and never created.</p>
      <statement content-type="theorem thm" id="ltxid186" style="thmplain">
        <label>5.4. Theorem</label>
        <title>(Fatou’s lemma)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be nonnegative measurable functions. Then</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int \liminf f_n\leq \liminf \int f_n 
\end{equation*}</tex-math>
        </disp-formula>
        <p>In particular, if <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> then we have <inline-formula content-type="math/tex"><tex-math>\int f\leq \liminf \int f_n</tex-math></inline-formula>.</p>
      </statement>
      <p>We will prove Fatou’s lemma shortly, but first we will use it to prove the dominated convergence theorem. The dominated convergence theorem essentially states that so long as we can close off the avenues through which the mass of a region can escape to infinity, then we will have a convergence theorem.</p>
      <statement content-type="theorem thm" id="ltxid187" style="thmplain">
        <label>5.5. Theorem</label>
        <title>(Dominated convergence theorem)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be a sequence of measurable complex-valued functions and suppose that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula>. Suppose that there exists a nonnegative function <inline-formula content-type="math/tex"><tex-math>G</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\int |G|&lt;\infty </tex-math></inline-formula> and for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>|f_n|\leq G</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\int f_n\to \int f</tex-math></inline-formula>.</p>
      </statement>
      <p>Intuitively speaking, the function <inline-formula content-type="math/tex"><tex-math>G</tex-math></inline-formula> acts as an umbrella under which the convergence <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> occurs. The assumption that the umbrella covers just a finite amount of area guarantees that mass cannot escape! The following proof will be carried out under the assumption that Fatou’s lemma is true.</p>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof of the dominated convergence theorem</title>
        <p>By separating <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> into their real and imaginary parts, we may assume that they are all real-valued. Thus our hypothesis says that <inline-formula content-type="math/tex"><tex-math>-G\leq f_n\leq G</tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> we also have that <inline-formula content-type="math/tex"><tex-math>-G\leq f\leq G</tex-math></inline-formula>. Now <inline-formula content-type="math/tex"><tex-math>f_n+G</tex-math></inline-formula> is nonnegative, so we can use Fatou’s lemma to obtain:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int f+G\leq \liminf \int f_n+G 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Similarly <inline-formula content-type="math/tex"><tex-math>G-f_n</tex-math></inline-formula> is nonnegative so we can again use Fatou’s lemma to obtain:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int G-f\leq \liminf \int G-f_n 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Putting the two equations together, we conclude that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\limsup \int f_n\leq \int f\leq \liminf \int f_n 
\end{equation*}</tex-math>
        </disp-formula>
        <p>It follows that <inline-formula content-type="math/tex"><tex-math>\int f=\lim \int f_n</tex-math></inline-formula>.</p>
      </statement>
      <p>We still have to give a proof of Fatou’s lemma. As a first approximation, we will examine what happens in the special case that the functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> are nonnegative and the sequence of <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula>’s is monotone increasing in <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid188" style="thmplain">
        <label>5.6. Theorem</label>
        <title>(Monotone convergence theorem)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be a sequence of nonnegative measurable functions, and suppose that <inline-formula content-type="math/tex"><tex-math>f_n\leq f_{n+1}</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>f=\sup f_n</tex-math></inline-formula>, so that we automatically have <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\int f_n\to \int f</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We first observe that if the <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> were all characteristic functions, then this theorem would follow directly from the upwards monotone convergence theorem for Lebesgue measurable sets. Thus our strategy is to reduce to a situation in which we can apply the upwards monotone convergence theorem.</p>
        <p>First, since <inline-formula content-type="math/tex"><tex-math>f_n\leq f_{n+1}</tex-math></inline-formula>, by the montonicity of the integral we know that <inline-formula content-type="math/tex"><tex-math>\int f_n\leq \int f_{n+1}</tex-math></inline-formula>. Similarly since <inline-formula content-type="math/tex"><tex-math>f_n\leq f</tex-math></inline-formula> we know that <inline-formula content-type="math/tex"><tex-math>\int f_n\leq \int f</tex-math></inline-formula>. It follows that the values <inline-formula content-type="math/tex"><tex-math>\int f_n</tex-math></inline-formula> converge and that <inline-formula content-type="math/tex"><tex-math>\lim \int f_n\leq \int f</tex-math></inline-formula>.</p>
        <p>To show that <inline-formula content-type="math/tex"><tex-math>\int f\leq \lim \int f_n</tex-math></inline-formula>, it is sufficient to show that <inline-formula content-type="math/tex"><tex-math>\int g\leq \lim \int f_n</tex-math></inline-formula> for any simple function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g\leq f</tex-math></inline-formula>. Given such a <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>, we can express it as <inline-formula content-type="math/tex"><tex-math>g=\sum c_i\chi _{A_i}</tex-math></inline-formula> where the <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> are disjoint measurable sets. Using the range truncation lemma, we can suppose that <inline-formula content-type="math/tex"><tex-math>c_i\neq \infty </tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>i</tex-math></inline-formula>.</p>
        <p>Now fix just one of the sets <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> and let <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> be given. We define the sets</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
A_{i,n}=\{x\in A_i\mid f_n(x)&gt;(1-\epsilon )c_i\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>About this defintion, we first note that it immediately implies <inline-formula content-type="math/tex"><tex-math>f_n&gt;\sum (1-\epsilon )c_i\chi _{A_{i,n}}</tex-math></inline-formula>. We second note that for all <inline-formula content-type="math/tex"><tex-math>x\in A_i</tex-math></inline-formula>, for <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> large enough, we have <inline-formula content-type="math/tex"><tex-math>f_n(x)\geq (1-\epsilon )g(x)=(1-\epsilon )c_i</tex-math></inline-formula>. This means that <inline-formula content-type="math/tex"><tex-math>A_i</tex-math></inline-formula> is the union of the <inline-formula content-type="math/tex"><tex-math>A_{i,n}</tex-math></inline-formula>. Thus the upwards monotone convergence theorem for sets implies that <inline-formula content-type="math/tex"><tex-math>m(A_{i,n})\to m(A_i)</tex-math></inline-formula> as <inline-formula content-type="math/tex"><tex-math>n\to \infty </tex-math></inline-formula>.</p>
        <p>Putting this all together, we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \lim \int f_n&amp;\geq \lim \int \sum (1-\epsilon )c_i\chi _{A_{i,n}}\\
 &amp;=\lim \sum (1-\epsilon )c_im(A_{i,n})\\
 &amp;=\sum (1-\epsilon )c_im(A_i)\\
 &amp;=(1-\epsilon )\int g 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula> we therefore conclude that <inline-formula content-type="math/tex"><tex-math>\lim \int f_n\geq \int g</tex-math></inline-formula>, as desired.</p>
      </statement>
      <p>It is worth remarking that the monotone convergence theorem can fail for signed functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula>. As a silly example, if <inline-formula content-type="math/tex"><tex-math>f_n=-1/n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>f_n\to 0</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\int f_n=-\infty </tex-math></inline-formula> but <inline-formula content-type="math/tex"><tex-math>\int f=0</tex-math></inline-formula>. The monotone convergence theorem has the following easy but important consequence that the nonnegative Lebesgue integral is <italic toggle="yes">countably</italic> linear, not just finitely linear!</p>
      <statement content-type="theorem cor" id="ltxid189" style="thmplain">
        <label>5.7. Corollary</label>
        <title>(Tonelli’s theorem)</title>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> is a sequence of nonnegative measurable functions, then <inline-formula content-type="math/tex"><tex-math>\int \sum f_n=\sum \int f_n</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Using the monotone convergence theorem and then finite linearity, we have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \int \sum f_n&amp;=\int \lim \sum _1^Nf_n\\
 &amp;=\lim _N\int \sum _1^Nf_n\\
 &amp;=\lim _N\sum _1^N\int f_n\\
 &amp;=\sum \int f_n 
\end{align*}</tex-math>
        </disp-formula>
        <p>as desired.</p>
      </statement>
      <p>Next we use the very special monotone convergence theorem to establish Fatou’s lemma, which we needed in the proof of the dominated convergence theorem.</p>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof of Fatou’s lemma</title>
        <p>We will need the general fact that <inline-formula content-type="math/tex"><tex-math>\int \inf g_n\leq \inf \int g_n</tex-math></inline-formula>. This holds simply because <inline-formula content-type="math/tex"><tex-math>\int \inf g_n\leq \int g_n</tex-math></inline-formula> for any particular <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>, and then one can take the <inline-formula content-type="math/tex"><tex-math>\inf _n</tex-math></inline-formula> over both sides.</p>
        <p>Now recall that <inline-formula content-type="math/tex"><tex-math>\liminf f_n=\lim _N\inf _{n\geq N}f_n</tex-math></inline-formula>. The functions <inline-formula content-type="math/tex"><tex-math>\inf _{n\geq N}f_n</tex-math></inline-formula> are increasing in <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula>, so using the monotone convergence theorem together with the above we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \int \liminf f_n&amp;=\int \lim _N\inf _{n\geq N} f_n\\
 &amp;=\lim _N\int \inf _{n\geq N}f_n\\
 &amp;\leq \lim _N\inf _{n\geq N}\int f_n\\
 &amp;=\liminf \int f_n 
\end{align*}</tex-math>
        </disp-formula>
        <p>as desired.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid190" style="thmdefinition">
        <label>Exercise 5.1</label>
        <title>(Tao, ex 1.44, 1.45)</title>
        <def-list content-type="enumerate">
          <def-item id="ltxid191"><term>(a)</term> <def><p>Let <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> be measurable sets and assume that <inline-formula content-type="math/tex"><tex-math>\sum m(A_n)&lt;\infty </tex-math></inline-formula>. Show that almost every <inline-formula content-type="math/tex"><tex-math>x\in {\mathbb{R}}^d</tex-math></inline-formula> is contained in at most finitely many of the <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula>. [Hint: Use Tonelli’s theorem on the functions <inline-formula content-type="math/tex"><tex-math>\chi _{A_n}</tex-math></inline-formula>.] This is the Borel–Cantelli lemma.</p></def></def-item>
          <def-item id="ltxid192"><term>(b)</term> <def><p>Give a counterexample to the above conclusion, showing that the hypothesis <inline-formula content-type="math/tex"><tex-math>\sum m(A_n)&lt;\infty </tex-math></inline-formula> cannot be replaced by the weaker condition <inline-formula content-type="math/tex"><tex-math>\lim m(A_n)=0</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="theorem exerc" id="ltxid193" style="thmdefinition">
        <label>Exercise 5.2</label>
        <p content-type="noindent">Use the dominated convergence theorem to show that the harmonic series <inline-formula content-type="math/tex"><tex-math>\sum \frac{1}{n}</tex-math></inline-formula> diverges. [Hint: Let <inline-formula content-type="math/tex"><tex-math>f_n=\frac{1}{n}\chi _{[0,n]}</tex-math></inline-formula>, show that <inline-formula content-type="math/tex"><tex-math>\sum \frac{1}{n}&lt;\infty </tex-math></inline-formula> plus the dominated convergence theorem implies <inline-formula content-type="math/tex"><tex-math>\int f_n\to 0</tex-math></inline-formula>, and obtain a contradiction from this.]</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid194" specific-use="section">
      <label>6</label>
      <title>Abstract measure theory</title>
      <statement content-type="theorem reading" id="ltxid195" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.4.1–1.4.3</p>
      </statement>
      <p>The Lebesgue measure and integration theory that we have developed can be regarded as a model for an abstract concept of a measure and integral. The situation is very similar to other areas of mathematics. Consider the following examples of a concrete and abstract concept:</p>
      <def-list content-type="itemize">
        <def-item id="ltxid196"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>the space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> with its distance measurement <inline-formula content-type="math/tex"><tex-math>\|x-y\|</tex-math></inline-formula> is a model for the definition of metric space;</p></def></def-item>
        <def-item id="ltxid197"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>the space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> with its family of open sets is a model for the definition of topological space;</p></def></def-item>
        <def-item id="ltxid198"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>the spaces <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}</tex-math></inline-formula> with their addition and multiplication operations are models for the definition of field;</p></def></def-item>
        <def-item id="ltxid199"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>the space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> with its <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>-linear combinations is a model for the definiton of vector space.</p></def></def-item>
      </def-list>
      <p>An abstract measure function <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> on a space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> will be one which satisfies the most fundamental properties that we have worked to prove for the Lebesgue measure. Of course the Lebesgue measure <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> can only be applied to the measurable subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>, so we should only expect to be able to apply an abstract measure <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> to a subcollection of the subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Thus we make the following definition of an abstract space to take the place of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> and its measurable sets.</p>
      <statement content-type="theorem defn" id="ltxid200" style="thmdefinition">
        <label>6.1. Definition</label>
        <p content-type="noindent">A <italic toggle="yes">measurable space</italic> is a pair <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is any set and <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> is a Boolean <italic toggle="yes"><inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>: a collection of subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> which contains the sets <inline-formula content-type="math/tex"><tex-math>\emptyset </tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and is closed under countable intersections, countable unions, and complements.</p>
      </statement>
      <p>Thus if we let <inline-formula content-type="math/tex"><tex-math>\mathcal{L}</tex-math></inline-formula> denote the Lebesgue measurable subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>, we have that <inline-formula content-type="math/tex"><tex-math>({\mathbb{R}}^d,\mathcal{L})</tex-math></inline-formula> is a measurable space. For another example, if <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is any set then we can always let <inline-formula content-type="math/tex"><tex-math>\mathcal{F}</tex-math></inline-formula> be the collection of all countable or co-countable subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Finally if <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is any topological space then it can be viewed as a measurable space by taking its <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra to be the collection of Borel subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>: A set is said to be Borel if it is constructible from the open sets using countable intersections, countable unions, and complements.</p>
      <statement content-type="theorem defn" id="ltxid201" style="thmdefinition">
        <label>6.2. Definition</label>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a set and <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> is a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. A function <inline-formula content-type="math/tex"><tex-math>\mu \colon \mathcal{B}\to [0,\infty ]</tex-math></inline-formula> is said to be a <italic toggle="yes">measure</italic> if it satisfies</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid202"><term>(a)</term> <def><p>(empty set) <inline-formula content-type="math/tex"><tex-math>\mu (\emptyset )=0</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid203"><term>(b)</term> <def><p>(countable additivity) for every sequence of pairwise disjoint sets <inline-formula content-type="math/tex"><tex-math>A_n\in \mathcal{B}</tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>\mu (\bigcup A_n)=\sum (\mu (A_n))</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>Thus the Lebesgue measure <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>({\mathbb{R}}^d,\mathcal{L})</tex-math></inline-formula> is an example of a measure. For another example, the cardinality measure <inline-formula content-type="math/tex"><tex-math>\mu (A)=|A|</tex-math></inline-formula> is a measure on the measurable space <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{P}(X))</tex-math></inline-formula>. Another very simple example is a Dirac measure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{P}(X))</tex-math></inline-formula>: if <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> we can define <inline-formula content-type="math/tex"><tex-math>\mu _x(A)=1</tex-math></inline-formula> if <inline-formula content-type="math/tex"><tex-math>x\in A</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>=0</tex-math></inline-formula> if <inline-formula content-type="math/tex"><tex-math>x\notin A</tex-math></inline-formula>. Finally it is worth noting that given several measures <inline-formula content-type="math/tex"><tex-math>\mu _i</tex-math></inline-formula> on the same measurable space <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula>, we can form new measures using linear combinations. That is, the measure <inline-formula content-type="math/tex"><tex-math>\mu =\sum c_i\mu _i</tex-math></inline-formula> is defined by <inline-formula content-type="math/tex"><tex-math>\mu (A)=\sum c_i\mu _i(A)</tex-math></inline-formula>.</p>
      <p>Many of the properties of Lebesgue measure that we have established can be proved solely using the axioms of a measure.</p>
      <statement content-type="theorem prop" id="ltxid204" style="thmplain">
        <label>6.3. Proposition</label>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> is a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure on <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> denote elements of <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula>. Then we have:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid205"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(monotonicity) if <inline-formula content-type="math/tex"><tex-math>A\subset B</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu (A)\leq \mu (B)</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid206"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(inclusion–exclusion) <inline-formula content-type="math/tex"><tex-math>\mu (A\cup B)+\mu (A\cap B)=\mu (A)+\mu (B)</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid207"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(countable subadditivity) <inline-formula content-type="math/tex"><tex-math>\mu (\bigcup A_n)\leq \sum \mu (A_n)</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid208"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(upwards monotone convergence) if <inline-formula content-type="math/tex"><tex-math>A_{n+1}\supset A_n</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu (\bigcup A_n)=\lim \mu (A_n)</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid209"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(downwards monotone convergence) if <inline-formula content-type="math/tex"><tex-math>A_{n+1}\subset A_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\mu (A_1)&lt;\infty </tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu (\bigcap A_n)=\lim \mu (A_n)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>Each of these items may be proved in exactly the same way as we have done for Lebesgue measure. Of course some properties of Lebesgue measure don’t even make sense to state for a general measure. For instance the normality and translation-invariance properties don’t make sense in general, since we may not have the notions of boxes or translations on a general space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p>
      <p>One further property of the Lebesgue measure which does not appear in the above list is that subsets of null sets should be null. This property does not follow directly from the axioms of a measure, and instead must be made into an additional axiom. We say that a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> is <italic toggle="yes">complete</italic> if whenever <inline-formula content-type="math/tex"><tex-math>A\in \mathcal{B}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>A'\subset A</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>A'\subset \mathcal{B}</tex-math></inline-formula>. We also say that measure <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is <italic toggle="yes">complete</italic> if it is defined on a complete <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra. It is an exercise to check that if <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure, then it can always be extended to a complete measure.</p>
      <p>At this point we have only given very trivial examples of measure, besides the Lebesgue measure. Given the effort we invested to find the right construction of the Lebesgue measure, it may not surprise you to know that it is difficult to construct interesting examples of measures. In fact there is a very general and powerful method for constructing measures. The basic idea behind it is that it is easy to construct measures which are just finitely additive first. This mirrors the construction of Lebesgue measure, where we first constructed the elementary and Jordan measures.</p>
      <p>In order to define finitely additive measures, we have to modify the definition of measurable space.</p>
      <statement content-type="theorem defn" id="ltxid210" style="thmdefinition">
        <label>6.4. Definition</label>
        <p content-type="noindent">A <italic toggle="yes">Boolean algebra</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a collection of subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> which contains the sets <inline-formula content-type="math/tex"><tex-math>\emptyset </tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and is closed under pairwise intersections, pairwise unions, and complements.</p>
      </statement>
      <p>We have seen several key examples of Boolean algebras on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>: the collection of elementary sets together with their complements, and the collection of Jordan measurable sets together with their complements. If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is any set we can always discuss the trivial Boolean algebra <inline-formula content-type="math/tex"><tex-math>\{\emptyset ,X\}</tex-math></inline-formula> and the maximal Boolean algebra <inline-formula content-type="math/tex"><tex-math>\mathcal{P}(X)</tex-math></inline-formula>.</p>
      <statement content-type="theorem defn" id="ltxid211" style="thmdefinition">
        <label>6.5. Definition</label>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a set and <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> is a Boolean algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. A function <inline-formula content-type="math/tex"><tex-math>\mu \colon \mathcal{A}\to [0,\infty ]</tex-math></inline-formula> is said to be a <italic toggle="yes">finitely additive measure</italic> if it satisfies</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid212"><term>(a)</term> <def><p>(empty set) <inline-formula content-type="math/tex"><tex-math>\mu (\emptyset )=0</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid213"><term>(b)</term> <def><p>(finite additivity) for all disjoint sets <inline-formula content-type="math/tex"><tex-math>A,B\in \mathcal{A}</tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>\mu (A\cup B)=\mu (A)+\mu (B)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>The elementary measure is an example of a finitely additive measure, provided we take its value to be <inline-formula content-type="math/tex"><tex-math>\infty </tex-math></inline-formula> on any set which is the complement of an elementary set. A similar statement holds for the Jordan measure. But there are many other examples of finitely additive measures. For a simple example let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be any set, and <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> the Boolean algebra of all finite or cofinite subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Then we can define a finitely additive measure by <inline-formula content-type="math/tex"><tex-math>\mu (A)=|A|</tex-math></inline-formula>, the cardinality of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>.</p>
      <p>Similar to the case with measures, the two simple axioms of a finitely additive measure further imply the monotonicity, inclusion–exclusion, and finite subadditivity properties.</p>
      <p>Unfortunately not all finitely additive measures give rise to true measures, necessitating the following definition.</p>
      <statement content-type="theorem defn" id="ltxid214" style="thmdefinition">
        <label>6.6. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be any set, <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> a Boolean algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> a finitely additive measure on <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> is said to be a <italic toggle="yes">premeasure</italic> if it satisfies the additional axiom:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid215"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>for every sequence of pairwise disjoint sets <inline-formula content-type="math/tex"><tex-math>A_n\in \mathcal{A}</tex-math></inline-formula>, if <inline-formula content-type="math/tex"><tex-math>\bigcup A_n\in \mathcal{A}</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\mu _0(\bigcup A_n)=\sum \mu (A_n)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>The condition does not quite say that <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> is countably additive, but rather that it has the potential to be countably additive. This is confirmed by the following keystone result of the subject, which we will prove in the next section.</p>
      <statement content-type="theorem thm" id="ltxid216" style="thmplain">
        <label>6.7. Theorem</label>
        <title>(Consequence of Carathéodory’s extension theorem)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a set, <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> an algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> a premeasure on <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> be the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra generated by <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> extends to a measure <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula>.</p>
      </statement>
      <p>The idea behind the proof is to use an analog of our construction of the Lebesgue outer measure <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula>. First we define the notion of an abstract outer measure.</p>
      <statement content-type="theorem defn" id="ltxid217" style="thmdefinition">
        <label>6.8. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be any set and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> a function on all subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Then <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is said to be a <italic toggle="yes">outer measure</italic> if it satisfies</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid218"><term>(a)</term> <def><p>(empty set) <inline-formula content-type="math/tex"><tex-math>\mu ^*(\emptyset )=0</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid219"><term>(b)</term> <def><p>(monotonicity) if <inline-formula content-type="math/tex"><tex-math>A\subset B</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu ^*(A)\leq \mu ^*(B)</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid220"><term>(c)</term> <def><p>(countable subadditivity) <inline-formula content-type="math/tex"><tex-math>\mu ^*(\bigcup A_n)\leq \sum \mu ^*(A_n)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>If <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> is an algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> is any function on <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> which satisfies the empty set axiom, then we can define</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation}
  \mu ^*(E)=\inf \left\{\left.\sum \mu _0(A_i)\;\right|\;A_i\in \mathcal{A},<text> and </text>E\subset \bigcup A_i\right\} <target id="texmlid1"><tag parens="yes">6.e1</tag></target>
\end{equation}</tex-math>
      </disp-formula>
      <statement content-type="theorem prop" id="ltxid221" style="thmplain">
        <label>6.9. Proposition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is constructed as in Equation <x>(</x><xref ref-subtype="equation" ref-type="disp-formula" rid="texmlid1" specific-use="ref">6.e1</xref><x>)</x>, then <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is an outer measure.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The empty set and monotonicity axioms are clear from the definition. For countable subadditivity, let <inline-formula content-type="math/tex"><tex-math>E_i</tex-math></inline-formula> be given and <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>. Then for every <inline-formula content-type="math/tex"><tex-math>i</tex-math></inline-formula> there exists a sequence of <inline-formula content-type="math/tex"><tex-math>A_i^n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>E_i\subset A_i^n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum _n\mu _0(A_i^n)-\mu ^*(E_i)&lt;\epsilon /2^i</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>\bigcup E_i\subset \bigcup _{i,n} A_i^n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum _{n.i}\mu (A_i^n)-\sum \mu ^*(E_i)\leq \epsilon </tex-math></inline-formula>. Therefore we have <inline-formula content-type="math/tex"><tex-math>\mu ^*(\bigcup E_i)-\sum (\mu ^*(E_i))\leq \epsilon </tex-math></inline-formula>. Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula> the proof is complete.</p>
      </statement>
      <p>Recall that after we constructed Lebesgue outer measure <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula> we defined the collection of <inline-formula content-type="math/tex"><tex-math>m^*</tex-math></inline-formula>-measurable sets as those which could be approximated well by open sets. If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is just a set with an algebra or <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra, we can’t refer to the open sets. Thus to prove Carathéodory’s extension theorem, it remains to show how to identify the collection of <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. We will investigate this in the next section, as well as some applications of the extension theorem.</p>
      <statement content-type="theorem exerc" id="ltxid222" style="thmdefinition">
        <label>Exercise 6.1</label>
        <title>(Tao, ex 1.4.26)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> be a measure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> can be extended to <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra <inline-formula content-type="math/tex"><tex-math>\hat{\mathcal{B}}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> to a measure <inline-formula content-type="math/tex"><tex-math>\hat{\mu }</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>(X,\hat{\mathcal{B}})</tex-math></inline-formula> in such a way that <inline-formula content-type="math/tex"><tex-math>\hat{\mu }</tex-math></inline-formula> is complete.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid223" style="thmdefinition">
        <label>Exercise 6.2</label>
        <title>(Tao, ex 1.4.49)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a nonnegative Lebesgue measurable function. Show that <inline-formula content-type="math/tex"><tex-math>\mu (A)=\int f\chi _A</tex-math></inline-formula> is a measure.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid224" style="thmdefinition">
        <label>Exercise 6.3</label>
        <title>(Tao, ex 1.7.6)</title>
        <p content-type="noindent">Give an example of a finitely additive measure that is not a premeasure. [Hint: work on the measurable space <inline-formula content-type="math/tex"><tex-math>({\mathbb{N}},\mathcal{P}({\mathbb{N}}))</tex-math></inline-formula> and define <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> separately for finite and infinite sets.]</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid225" specific-use="section">
      <label>7</label>
      <title>Construction of abstract measures</title>
      <statement content-type="theorem reading" id="ltxid226" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.7</p>
      </statement>
      <p>In the previous section, we showed how to abstract the properties of the elementary measure to a finitely additive measure, and how to abstract the properties of the Lebesgue outer measure too. What we lacked was a definition of measurability, which in the Lebesgue case relied on the boxes or open subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>. For a general space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, we use the following much more subtle definition.</p>
      <statement content-type="theorem defn" id="ltxid227" style="thmdefinition">
        <label>7.1. Definition</label>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is any set and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is an outer measure on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Then a subset <inline-formula content-type="math/tex"><tex-math>A\subset X</tex-math></inline-formula> is said to be <italic toggle="yes"><inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable</italic> if for every subset <inline-formula content-type="math/tex"><tex-math>S\subset X</tex-math></inline-formula> we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\mu ^*(S)=\mu ^*(S\cap A)+\mu ^*(S\smallsetminus A) 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>To put this definition in context, it is an exercise to show that this property holds for Lebesgue measurable sets. Moreover it is this property that can be used to prove that a bounded set is Lebesgue measurable if and only if its inner and outer measures agree.</p>
      <p>The next result shows that the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets are a good choice, in the sense that <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> behaves well on the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets (it is a measure).</p>
      <statement content-type="theorem thm" id="ltxid228" style="thmplain">
        <label>7.2. Theorem</label>
        <title>(Carathéodory’s extension theorem part 1)</title>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is an outer measure on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, then the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable subsets of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> form a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra, and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is a measure when restricted to the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The first part of the proof will be to show that the collection of <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets is a Boolean algebra and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is finitely additive on the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. To begin, it is clear that a set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable if and only if <inline-formula content-type="math/tex"><tex-math>A^c</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable.</p>
        <p>We now show that the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets are closed under pairwise unions. Suppose that <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable. Since we have already proved <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is subadditive for arbitrary sets, it suffices to prove that for any set <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\mu ^*(S)\geq \mu ^*(S\cap (A\cup B))+\mu ^*(S\smallsetminus (A\cup B)) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>To achieve this, we expand the right-hand side and then apply the measurability of <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> followed by the measurability of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 &amp;\mu ^*(S\cap (A\cup B))+\mu ^*(S\cap (A\cup B)^c)\\
 &amp;\leq \mu ^*(S\cap A\cap B^c)+\mu ^*(S\cap A\cap B)+\mu ^*(S\cap A^c\cap B)+\mu ^*(S\cap A^c\cap B^c)\\
 &amp;=\mu ^*(S\cap A)+\mu ^*(S\cap A^c)\\
 &amp;=\mu (S) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Next we show that <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is finitely additive on the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. Suppose that <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are disjoint and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable. Then using the measurability of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>, we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu ^*(A\cup B)&amp;=\mu ^*((A\cup B)\cap A)+\mu ^*((A\cup B)\smallsetminus A)\\
 &amp;=\mu ^*(A)+\mu ^*(B) 
\end{align*}</tex-math>
        </disp-formula>
        <p>The second part of the proof is to show that the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets form a <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra and that <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is countably additive on the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. Let <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> be a sequence of <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. Since the <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets form an algebra, we can assume without loss of generality that the <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are pairwise disjoint. Then using the argument of the previous paragraph, with <inline-formula content-type="math/tex"><tex-math>S\cap </tex-math></inline-formula> inserted and then induction, for any set <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\mu ^*(S\cap \bigcup _1^N A_n)=\sum _1^N\mu ^*(S\cap A_n)</tex-math></inline-formula>. It follows that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu ^*(S)&amp;=\mu ^*(S\cap \bigcup _1^N A_n)+\mu ^*(S\smallsetminus \bigcup _1^N A_n)\\
 &amp;=\sum _1^N\mu ^*(S\cap A_n)+\mu ^*(S\smallsetminus \bigcup A_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>N\to \infty </tex-math></inline-formula>, we obtain</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu ^*(S)&amp;=\sum \mu ^*(S\cap A_n)+\mu ^*(S\smallsetminus \bigcup A_n)\\
 &amp;\geq \mu ^*(\bigcup (S\cap A_n))+\mu ^*(S\smallsetminus \bigcup A_n)\\
 &amp;=\mu ^*(S\cap \bigcup A_n)+\mu ^*(S\smallsetminus \bigcup A_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Thus we have shown that <inline-formula content-type="math/tex"><tex-math>\bigcup A_n</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable.</p>
        <p>Finally if we take <inline-formula content-type="math/tex"><tex-math>S=\bigcup A_n</tex-math></inline-formula> in the above, we obtain that <inline-formula content-type="math/tex"><tex-math>\mu ^*(\bigcup A_n)\geq \sum \mu ^*(A_n)</tex-math></inline-formula>, which shows that <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is countably additive as desired.</p>
      </statement>
      <p>Now we return to the motivational context where the outer measure <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is constructed from a finitely additive measure <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula>, as was done for Lebesgue measure. In this case, provided the finitely additive measure <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> was in fact a premeasure, <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> will be the desired Carathéodory extension of <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid229" style="thmplain">
        <label>7.3. Theorem</label>
        <title>(Carathéodory’s extension theorem part 2/Hahn–Kolmogorov)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> be a Boolean algebra on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> a premeasure on <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> be the outer measure induced by <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> according to Equation <x>(</x><xref ref-subtype="equation" ref-type="disp-formula" rid="texmlid1" specific-use="ref">6.e1</xref><x>)</x> and <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra of <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable sets. Then <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula> is an extension of <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> is an extension of <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We first show that if <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> lies in <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable. For this, let <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> be an arbitrary set and find sets <inline-formula content-type="math/tex"><tex-math>B_n\in \mathcal{A}</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>S\subset \bigcup B_n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\sum \mu _0(B_n)-\mu ^*(S)&lt;\epsilon </tex-math></inline-formula>. Then</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu ^*(S\cap A)+\mu ^*(S\smallsetminus A)&amp;\leq \sum \mu _0(B_n\cap A) +\sum \mu _0(B_n\smallsetminus A)\\
 &amp;=\sum \mu _0(B_n)\\
 &amp;&lt;\mu ^*(S)+\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>, we conclude that <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula>-measurable.</p>
        <p>Next we show that if <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> lies in <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu ^*(A)=\mu _0(A)</tex-math></inline-formula>. It is clear from the definition that <inline-formula content-type="math/tex"><tex-math>\mu ^*(A)\leq \mu _0(A)</tex-math></inline-formula>. To show that <inline-formula content-type="math/tex"><tex-math>\mu _0(A)\leq \mu ^*(A)</tex-math></inline-formula>, let <inline-formula content-type="math/tex"><tex-math>B_n\in \mathcal{A}</tex-math></inline-formula> be such that <inline-formula content-type="math/tex"><tex-math>A\subset \bigcup B_n</tex-math></inline-formula>. We can assume without loss of generality that the <inline-formula content-type="math/tex"><tex-math>B_n</tex-math></inline-formula> are pairwise disjoint. Then using the axiom of a premeasure, we obtain</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu _0(A)&amp;=\sum \mu _0(A\cap B_n)\\
 &amp;\leq \sum \mu _0(B_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Taking the infemum over all such sequences <inline-formula content-type="math/tex"><tex-math>B_n</tex-math></inline-formula>, we conclude that <inline-formula content-type="math/tex"><tex-math>\mu _0(A)\leq \mu ^*(A)</tex-math></inline-formula>, as desired.</p>
      </statement>
      <p>This concludes our proof of Carathéodory’s extension theorem. As an application, we will now show how to produce a family of interesting measures on the real line, beyond just the Lebesgue measures.</p>
      <statement content-type="theorem defn" id="ltxid230" style="thmdefinition">
        <label>7.4. Definition</label>
        <p content-type="noindent">An interval is said to be <italic toggle="yes">half-open</italic> if it is of the form <inline-formula content-type="math/tex"><tex-math>(a,b]</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>a\in [-\infty ,\infty )</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>b\in {\mathbb{R}}</tex-math></inline-formula>, or else of the form <inline-formula content-type="math/tex"><tex-math>(a,\infty )</tex-math></inline-formula>. We let <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula> denote the Boolean algebra generated by the half-open intervals.</p>
      </statement>
      <p>It is easy to see that <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula> consists of finite disjoint unions of half-open intervals. The <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-aglebra generated by <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula> is exactly the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra of Borel subsets of <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. If <inline-formula content-type="math/tex"><tex-math>F\colon {\mathbb{R}}\to {\mathbb{R}}</tex-math></inline-formula> is an increasing, right-continuous function, then we can define a measuring function on <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula> by letting <inline-formula content-type="math/tex"><tex-math>\mu _F((a,b])=F(b)-F(a)</tex-math></inline-formula>, and extending <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> to disjoint unions in the obvious way.</p>
      <statement content-type="theorem thm" id="ltxid231" style="thmplain">
        <label>7.5. Theorem</label>
        <p content-type="noindent">For any increasing, right-continuous function <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> is a premeasure on <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof outline</title>
        <p>It is not difficult to see that <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> is well-defined on <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula>. Moreover <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> is finitely additive by construction.</p>
        <p>Thus it remains only to show that <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> satisfies the axiom of a premeasure. Suppose that <inline-formula content-type="math/tex"><tex-math>A_n\in \mathcal{H}</tex-math></inline-formula> and that <inline-formula content-type="math/tex"><tex-math>\bigcup A_n\in \mathcal{H}</tex-math></inline-formula> too. We can assume without loss of generality that <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are each single half-open intervals, and that <inline-formula content-type="math/tex"><tex-math>\bigcup A_n</tex-math></inline-formula> is a single half-open interval <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula>.</p>
        <p>It is clear from monotonicity that <inline-formula content-type="math/tex"><tex-math>\mu _F(\bigcup A_n)\geq \sum \mu _F(A_n)</tex-math></inline-formula>, so it suffices to show that <inline-formula content-type="math/tex"><tex-math>\mu _F(\bigcup A_n)\leq \sum \mu _F(A_n)</tex-math></inline-formula>. In order to achieve this, let us define <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula> on open intervals by letting <inline-formula content-type="math/tex"><tex-math>\mu _F((a,b))=\lim _{x\to b^-}F(x)-F(a)</tex-math></inline-formula>, and similarly for closed intervals. Then using the right-continuity of <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula>, we can pay <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> to replace each <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> with an open <inline-formula content-type="math/tex"><tex-math>U_n</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>A_n\subset U_n</tex-math></inline-formula>. Similarly we can pay <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> to replace <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> with a closed (bounded) interval <inline-formula content-type="math/tex"><tex-math>K</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>K\subset I</tex-math></inline-formula>.</p>
        <p>Now by the Heine–Borel theorem, just finitely many of the <inline-formula content-type="math/tex"><tex-math>U_n</tex-math></inline-formula> suffice to cover <inline-formula content-type="math/tex"><tex-math>K</tex-math></inline-formula>, and hence <inline-formula content-type="math/tex"><tex-math>\mu _F(K)\leq \sum \mu _F(U_n)</tex-math></inline-formula>. It follows that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \mu _F(\bigcup A_n) &amp;\leq \mu _F(K)+\epsilon \\
 &amp;\leq \sum \mu _F(U_n)+\epsilon \\
 &amp;\leq \sum \mu _F(A_n)+2\epsilon 
\end{align*}</tex-math>
        </disp-formula>
        <p>Thus the result follows by taking <inline-formula content-type="math/tex"><tex-math>\epsilon \to 0</tex-math></inline-formula>.</p>
      </statement>
      <p>If <inline-formula content-type="math/tex"><tex-math>F(x)=x</tex-math></inline-formula>, then the above construction simply gives <inline-formula content-type="math/tex"><tex-math>\mu _F=</tex-math></inline-formula> the Lebesgue measure <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>. And in general, <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> acts as the cumulative density of the measure <inline-formula content-type="math/tex"><tex-math>\mu _F</tex-math></inline-formula>. Measures of this form are called <italic toggle="yes">Lebesgue-Stieltjes measures</italic>.</p>
      <statement content-type="theorem exerc" id="ltxid232" style="thmdefinition">
        <label>Exercise 7.1</label>
        <title>(Tao, ex 1.7.9(i))</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> be a premeasure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{A})</tex-math></inline-formula> and let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be the Carathéodory extension. Show that for any <inline-formula content-type="math/tex"><tex-math>B\in \mathcal{B}</tex-math></inline-formula> [such that <inline-formula content-type="math/tex"><tex-math>\mu (B)&lt;\infty </tex-math></inline-formula>?] there exists <inline-formula content-type="math/tex"><tex-math>C</tex-math></inline-formula> in the <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-algebra generated by <inline-formula content-type="math/tex"><tex-math>\mathcal{A}</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>B\subset C</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\mu (C\smallsetminus B)=0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid233" style="thmdefinition">
        <label>Exercise 7.2</label>
        <title>(Tao, ex 1.7.9(ii)(iii))</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>\mu _0</tex-math></inline-formula> be a premeasure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{A})</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\mu ^*</tex-math></inline-formula> the corresponding outer measure, and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> the Carathéodory extension. Show that for any set <inline-formula content-type="math/tex"><tex-math>B</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\mu ^*(B)&lt;\infty </tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>B\in \mathcal{B}</tex-math></inline-formula> if and only if for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>A\in \mathcal{A}</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\mu ^*(A\bigtriangleup B)&lt;\epsilon </tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid234" style="thmdefinition">
        <label>Exercise 7.3</label>
        <title>(Tao, ex 1.7.15(i))</title>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> is a monotone and non-decreasing function. Show that <inline-formula content-type="math/tex"><tex-math>F</tex-math></inline-formula> is continuous if and only if <inline-formula content-type="math/tex"><tex-math>\mu _F(\{x\})=0</tex-math></inline-formula> for every <inline-formula content-type="math/tex"><tex-math>x\in {\mathbb{R}}</tex-math></inline-formula>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid235" specific-use="section">
      <label>8</label>
      <title>Abstract integration theory</title>
      <statement content-type="theorem reading" id="ltxid236" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">Tao, §1.4.4</p>
      </statement>
      <p>In the past several sections we have explained in detail how the theory of the Lebesgue measure on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> can be abstracted to yield a theory of abstract measures on abstract measurable spaces. In this section we give a brief tour of how the theory can also be used to describe abstract measurable functions, and to carry out integration with respect to arbitrary measures.</p>
      <p>Although the definition of measurable functions has many equivalent formulations, our official definition will be the following “pre-image” version.</p>
      <statement content-type="theorem defn" id="ltxid237" style="thmdefinition">
        <label>8.1. Definition</label>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> is a measurable space. A function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> which maps <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>[0,\infty ]</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>, or <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}</tex-math></inline-formula> is called <italic toggle="yes">measurable</italic> if the pre-image of any open set is in <inline-formula content-type="math/tex"><tex-math>\mathcal{B}</tex-math></inline-formula>, that is, for every open subset <inline-formula content-type="math/tex"><tex-math>U</tex-math></inline-formula> of the codomain, <inline-formula content-type="math/tex"><tex-math>f^{-1}(U)\in \mathcal{B}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem prop" id="ltxid238" style="thmplain">
        <label>8.2. Proposition</label>
        <p content-type="noindent">The measurable functions on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> are closed under sums, products, continuous compositions, and pointwise limits.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof outline</title>
        <p>We address only the last point, that measurable functions are closed under pointwise limits. For this we refer to the method of proof of Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid139" specific-use="ref">2.2</xref>. The idea is that if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is the limit of the functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula>, then it is also the <inline-formula content-type="math/tex"><tex-math>\limsup </tex-math></inline-formula> of the functions <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula>. This allows one to write <inline-formula content-type="math/tex"><tex-math>f^{-1}(U)</tex-math></inline-formula> as a countable Boolean combination of the sets <inline-formula content-type="math/tex"><tex-math>f_n^{-1}(U)</tex-math></inline-formula>.</p>
      </statement>
      <p>We next turn to the task of defining integration with respect to an abstract measure <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>. Intuitively <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a distribution or density on the space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu </tex-math></inline-formula> is a weighted, continuous sum. For another kind of intuition, if <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a probability on a probability space, and <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a random variable, then <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu </tex-math></inline-formula> denotes the expectation of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>.</p>
      <p>In order to define the integral with respect to <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>, we mimic our original strategy and begin with simple functions.</p>
      <statement content-type="theorem defn" id="ltxid239" style="thmdefinition">
        <label>8.3. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space. A function <inline-formula content-type="math/tex"><tex-math>f\colon X\to [0,\infty ]</tex-math></inline-formula> is said to be <italic toggle="yes">simple</italic> if it is measurable and takes finitely many values, that is, if <inline-formula content-type="math/tex"><tex-math>f=\sum _1^kc_i\chi _{A_i}</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>A_i\in \mathcal{B}</tex-math></inline-formula>.</p>
        <p>If <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is the simple function above, and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula>, then we define the <italic toggle="yes">simple integral</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> with respect to <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> by</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
<text>s</text>\kern -3pt\int f\,d\mu =\sum _1^kc_i\mu (A_i) 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>It is possible to check, as we have done in the case of Lebesgue integration, that the simple integral is well-defined, linear, and has numerous other familiar properties.</p>
      <statement content-type="theorem defn" id="ltxid240" style="thmdefinition">
        <label>8.4. Definition</label>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> is a measurable space, and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure on it. If <inline-formula content-type="math/tex"><tex-math>f\colon X\to [0,\infty ]</tex-math></inline-formula> is measurable, then we define the <italic toggle="yes">integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> with respect to <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula></italic> by</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int f\,d\mu =\sup \left\{\left.<text>s</text>\kern -3pt\int g\,d\mu \;\right|\;g\leq f<text>, <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> simple</text>\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>It is not difficult to establish most of the basic properties of measurable functions previously stated in the Lebesgue case.</p>
      <statement content-type="theorem prop" id="ltxid241" style="thmplain">
        <label>8.5. Proposition</label>
        <p content-type="noindent">The integral of nonnegative measurable functions satisfies the following properties</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid242"><term>(a)</term> <def><p>(equivalence) if <inline-formula content-type="math/tex"><tex-math>f=g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu =\int g\,d\mu </tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid243"><term>(b)</term> <def><p>(monotonicity) if <inline-formula content-type="math/tex"><tex-math>f\leq g</tex-math></inline-formula> almost everywhere then <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu \leq \int g\,d\mu </tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid244"><term>(c)</term> <def><p>(range truncation) if <inline-formula content-type="math/tex"><tex-math>f^N=\min (f,N)</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\int f^N\,d\mu \to \int f\,d\mu </tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid245"><term>(d)</term> <def><p>(support truncation) if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> is a sequence of measurable sets such that <inline-formula content-type="math/tex"><tex-math>A_n\subset A_{n+1}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\bigcup A_n=X</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\int f\chi _{A_n}\,d\mu \to \int f\,d\mu </tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid246"><term>(e)</term> <def><p>(Markov’s inequality) if <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable, then <inline-formula content-type="math/tex"><tex-math>\mu (\{x\mid f(x)\geq \lambda \})\leq \frac{1}{\lambda }\int f\,d\mu </tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid247"><term>(f)</term> <def><p>(additivity) <inline-formula content-type="math/tex"><tex-math>\int (f+g)\,d\mu =\int f\,d\mu +\int g\,d\mu </tex-math></inline-formula>;</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>All of the properties (a)–(d) can be proved in a fashion similar to the case of the Lebesgue integral.</p>
        <p>The same is true of property (e), but we neglected to state it earlier so let us provide the proof now. Let <inline-formula content-type="math/tex"><tex-math>g=\lambda \chi _{\{x\mid f(x)\geq \lambda \}}</tex-math></inline-formula>. Then clearly <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> is a simple function and <inline-formula content-type="math/tex"><tex-math>g\leq f</tex-math></inline-formula>. It follows that the simple integral of <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> is a lower bound for the integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, so <inline-formula content-type="math/tex"><tex-math>\lambda \mu (\{x\mid f(x)\geq \lambda \})\leq \int f\,d\mu </tex-math></inline-formula>, as desired.</p>
        <p>The proof of additivity is similar to the Lebesgue case, with one wrinkle. Recall that in the Lebesgue proof we applied the truncation lemma to the sets <inline-formula content-type="math/tex"><tex-math>[-N,N]^d</tex-math></inline-formula> to assume without loss of generality that <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> have finite measure support. In general we cannot assume that <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a union of countably many sets of finite measure. Instead we let <inline-formula content-type="math/tex"><tex-math>A_n=\{x\mid f(x)&gt;\frac{1}{n}<text> or </text>g(x)&gt;\frac{1}{n}\}</tex-math></inline-formula>. This family of sets is increasing and the union contains the supports of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>. By Markov’s inequality, the sets <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> have finite measure, and the proof can now proceed by truncating to <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula>.</p>
      </statement>
      <p>Now that the integral of nonnegative functions has been defined, we may again define the absolutely convergent Lebesgue integral for complex-valued functions.</p>
      <statement content-type="theorem defn" id="ltxid248" style="thmdefinition">
        <label>8.6. Definition</label>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> is a measurable space and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure on it. If <inline-formula content-type="math/tex"><tex-math>f\colon X\to {\mathbb{C}}</tex-math></inline-formula> is measurable and defined <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>-almost everywhere, we say that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is <italic toggle="yes">absolutely integrable with respect to <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula></italic> if <inline-formula content-type="math/tex"><tex-math>\int |f|\,d\mu &lt;\infty </tex-math></inline-formula>.</p>
        <p>In this case, we define <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu =\int \Re f\,d\mu +i\int \Im f\,d\mu </tex-math></inline-formula>, where for real-valued functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> we define <inline-formula content-type="math/tex"><tex-math>\int f\,d\mu =\int f^+\,d\mu -\int f^-\,d\mu </tex-math></inline-formula>.</p>
      </statement>
      <p>Once again, if <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> is a measurable space and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is a measure on it, we can define <inline-formula content-type="math/tex"><tex-math>L^1(\mu )</tex-math></inline-formula> to be the space of measurable complex-valued functions on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, where two such functions are identified if they agree <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>-almost everywhere. We can also define a norm on the space <inline-formula content-type="math/tex"><tex-math>L^1(\mu )</tex-math></inline-formula> by <inline-formula content-type="math/tex"><tex-math>\|f\|=\int |f|\,d\mu </tex-math></inline-formula>. The following result follows using the same proof as before.</p>
      <statement content-type="theorem prop" id="ltxid249" style="thmplain">
        <label>8.7. Proposition</label>
        <p content-type="noindent">The space <inline-formula content-type="math/tex"><tex-math>L^1(\mu )</tex-math></inline-formula> together with the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|</tex-math></inline-formula> is a normed vector space.</p>
      </statement>
      <p>Finally we remark that our major convergence theorems all hold true for integration with respect to an abstract measure <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>. These include the monotone convergence theorem, Tonelli’s theorem, Fatou’s lemma, and the dominated convergence theorem.</p>
      <statement content-type="theorem exerc" id="ltxid250" style="thmdefinition">
        <label>Exercise 8.1</label>
        <title>(See Tao, ex 1.4.29)</title>
        <def-list content-type="itemize">
          <def-item id="ltxid251"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>Show that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is measurable if and only if <inline-formula content-type="math/tex"><tex-math>f^+</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f^-</tex-math></inline-formula> are measurable.</p></def></def-item>
          <def-item id="ltxid252"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>Show that sums and products of measurable functions are measurable.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="theorem exerc" id="ltxid253" style="thmdefinition">
        <label>Exercise 8.2</label>
        <title>(See Tao, ex 1.4.36)</title>
        <p content-type="noindent">Establish the support truncation property: if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> is a sequence of measurable sets such that <inline-formula content-type="math/tex"><tex-math>A_n\subset A_{n+1}</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\bigcup A_n=X</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\int f\chi _{A_n}\,d\mu \to \int f\,d\mu </tex-math></inline-formula>.</p>
      </statement>
    </sec>
  </sec>
  <sec disp-level="1" id="ltxid254" specific-use="chapter">
    <label>Part III</label>
    <title>Functional analysis</title>
    <sec disp-level="2" id="ltxid255" specific-use="section">
      <label>1</label>
      <title>Normed vector spaces</title>
      <statement content-type="theorem reading" id="ltxid256" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §12.1, §12.3</p>
      </statement>
      <p>In our study of integration theory, we studied several classes of real and complex-valued functions. For example we studied the class of Lebesgue measurable functions, and the class of absolutely integrable functions. Across analysis there are many other important classes of functions, including the continuous functions, uniformly continuous functions, differentiable functions, and so on.</p>
      <p>Such function spaces have a lot of internal structure. For example if you can add or scale the elements of the function space, then it will have the algebraic structure of a vector space. And if you can measure distances between functions in the space, it should have a geometry too. In the best cases, the algebraic and geometric structures make the function space into a normed vector space.</p>
      <statement content-type="theorem defn" id="ltxid257" style="thmdefinition">
        <label>1.1. Definition</label>
        <p content-type="noindent">A <italic toggle="yes">normed vector space</italic> consists of a (real or complex) vector space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> together with a mapping <inline-formula content-type="math/tex"><tex-math>\|\cdot \|\colon X\to [0,\infty )</tex-math></inline-formula> satisfying:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid258"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(homogeneity) <inline-formula content-type="math/tex"><tex-math>\|ax\|=|a|\cdot \|x\|</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid259"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(triangle inequality) <inline-formula content-type="math/tex"><tex-math>\|x+y\|\leq \|x\|+\|y\|</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid260"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>(non-vanishing) <inline-formula content-type="math/tex"><tex-math>\|x\|=0</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>x=0</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
        <p>The mapping <inline-formula content-type="math/tex"><tex-math>\|\cdot \|</tex-math></inline-formula> is called a <italic toggle="yes">norm</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p>
      </statement>
      <p>The norm gives rise to a metric on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> defined by <inline-formula content-type="math/tex"><tex-math>d(x,y)=\|x-y\|</tex-math></inline-formula>. The metric has several special properties not true in a general metric space. For example, it is uniform throughout the space in the sense that it is translation invariant: <inline-formula content-type="math/tex"><tex-math>d(x+z,y+z)=d(x,y)</tex-math></inline-formula>.</p>
      <statement content-type="theorem defn" id="ltxid261" style="thmdefinition">
        <label>1.2. Definition</label>
        <p content-type="noindent">A normed vector space is called a <italic toggle="yes">Banach space</italic> if the associated metric <inline-formula content-type="math/tex"><tex-math>d(x,y)=\|x-y\|</tex-math></inline-formula> is complete.</p>
      </statement>
      <p>Recall the definition of a complete metric <inline-formula content-type="math/tex"><tex-math>d</tex-math></inline-formula>: whenever <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula> is Cauchy, that is</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
(\forall \epsilon &gt;0)(\exists N)(\forall n,m\geq N)\;d(x_n,x_m)&lt;\epsilon 
\end{equation*}</tex-math>
      </disp-formula>
      <p>then there exists <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>x_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>, that is</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
(\forall \epsilon &gt;0)(\exists N)(\forall n\geq N)\;d(x_n,x)&lt;\epsilon 
\end{equation*}</tex-math>
      </disp-formula>
      <p>The property means that there are no holes in the space—any apparent point which can be approximated actually exists. We will see the value of assuming that our normed vector spaces are complete in later sections.</p>
      <p>We now describe several familiar examples of normed vector spaces (in fact most of them will be Banach spaces).</p>
      <statement content-type="theorem example" id="ltxid262" style="thmremark">
        <label>1.3. Example</label>
        <p content-type="noindent">The ordinary finite-dimensional vector space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>, together with its usual Euclidean norm <inline-formula content-type="math/tex"><tex-math>\|x\|=\left(\sum _1^dx_i^2\right)^{1/2}</tex-math></inline-formula>, is a Banach space. It is a classical annoying exercise to establish the triangle inequality. One can also verify that the completeness property holds, using the classical fact/construction that it is true for <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem example" id="ltxid263" style="thmremark">
        <label>1.4. Example</label>
        <p content-type="noindent">The space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^{\mathbb{N}}</tex-math></inline-formula> consisting of all real sequences will not be a Banach space in any reasonable way. However it does contain many classical Banach spaces. For example we can consider the space of all square summable sequences</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\ell ^2=\left\{\,x\in {\mathbb{R}}^{\mathbb{N}}\mid \sum x_n^2&lt;\infty \,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>This is a Banach space with its generalized Euclidean norm <inline-formula content-type="math/tex"><tex-math>\|x\|_2=\left(\sum x_i^2\right)^{1/2}</tex-math></inline-formula>. It is not particularly easy to verify that <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula> is a Banach space and <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_2</tex-math></inline-formula> is a complete norm on it. We will do this later!</p>
      </statement>
      <statement content-type="theorem example" id="ltxid264" style="thmremark">
        <label>1.5. Example</label>
        <p content-type="noindent">As we have mentioned, spaces of integrable functions may also form Banach spaces. Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> a measure on it. We have already described the space <inline-formula content-type="math/tex"><tex-math>L^1(\mu )</tex-math></inline-formula> of all absolutely integrable functions on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. It is also possible to use other powers, for example, let</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
L^2(\mu )=\left\{\,f\colon X\to {\mathbb{C}}\mid \int |f|^2\,d\mu &lt;\infty \,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>We may then define a norm on <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> be <inline-formula content-type="math/tex"><tex-math>\|f\|_2=\left(\int |f|^2\right)^{1/2}</tex-math></inline-formula>. The spaces <inline-formula content-type="math/tex"><tex-math>L^1(\mu )</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>L^2(\mu )</tex-math></inline-formula> are not quite Banach spaces, but only because they fail to satisfy the non-vanishing property. This can easily be remedied by identifying two functions if they agree almost everywhere.</p>
      </statement>
      <statement content-type="theorem example" id="ltxid265" style="thmremark">
        <label>1.6. Example</label>
        <p content-type="noindent">As a final series of examples, if <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> is any closed, bounded interval then let <inline-formula content-type="math/tex"><tex-math>B[a,b]</tex-math></inline-formula> be the space of all bounded functions <inline-formula content-type="math/tex"><tex-math>f\colon [a,b]\to {\mathbb{R}}</tex-math></inline-formula> together with the supremum norm <inline-formula content-type="math/tex"><tex-math>\|f\|=\sup \left\{\,f(x)\mid x\in [a,b]\,\right\}</tex-math></inline-formula>. This is a Banach space which contains many other spaces of independent interest. For example it contains the space <inline-formula content-type="math/tex"><tex-math>C[a,b]</tex-math></inline-formula> of continuous functions on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>, the space <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> of all differentiable functions on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> with continuous derivative, and the space <inline-formula content-type="math/tex"><tex-math>P[a,b]</tex-math></inline-formula> of all polynomial functions on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>. The last two turn out to be incomplete.</p>
      </statement>
      <p>Having given the definition and basic examples of Banach spaces, we now briefly study mappings between them. For ordinary vector spaces, the most natural mappings are the <italic toggle="yes">operators</italic>, or linear mappings. For Banach spaces we primarily study operators which are also continuous.</p>
      <p>The motivating examples are the operators from <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}^n</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}^m</tex-math></inline-formula>, which are simply the familiar matrix transformations studied in linear algebra. It turns out that all operators from <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}^n</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}^m</tex-math></inline-formula> are continuous. It is tempting to believe that all operators are continuous because they are linear, but this turns out not to be the case in infinite-dimensional settings.</p>
      <p>Another example of a linear operator is the mapping <inline-formula content-type="math/tex"><tex-math>L^1(\mu )\to {\mathbb{C}}</tex-math></inline-formula> given by <inline-formula content-type="math/tex"><tex-math>f\mapsto \int f\,d\mu </tex-math></inline-formula>. We have of course seen that the mapping is linear, and it turns out to be continuous as well.</p>
      <p>As a final example, the mapping from <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>B[a,b]</tex-math></inline-formula> which takes a differentiable function to its derivative is also linear. However it fails to be continuous with respect to the supremum norm. Two functions can be very close together but also have very different slopes!</p>
      <p>In the next two results, we show that the continuity of operators is very special when compared with arbitrary continuous functions.</p>
      <statement content-type="theorem lem" id="ltxid266" style="thmplain">
        <label>1.7. Lemma</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be normed vector spaces and let <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> be an operator. If <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous at one point <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is uniformly continuous.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Using the translation-invariance property, we can assume that <inline-formula content-type="math/tex"><tex-math>x=0</tex-math></inline-formula>. By definition this means that for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>\delta &gt;0</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|x\|&lt;\delta \implies \|Tx\|&lt;\epsilon </tex-math></inline-formula>. Given two points <inline-formula content-type="math/tex"><tex-math>x,x'</tex-math></inline-formula> we can apply the latter property to <inline-formula content-type="math/tex"><tex-math>x-x'</tex-math></inline-formula> and use the linearity of <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> to conclude that <inline-formula content-type="math/tex"><tex-math>\|x-x'\|&lt;\delta \implies \|Tx-Tx'\|&lt;\epsilon </tex-math></inline-formula>. In other words, <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is uniformly continuous.</p>
      </statement>
      <p>In the following lemma, an operator <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> is said to be <italic toggle="yes">bounded</italic> if there exists a real number <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|Tx\|\leq M\|x\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>. Note the abuse of terminology! A bounded operator is not bounded in the traditional sense that it takes values inside a ball of finite radius. Rather a bounded operator is one which <italic toggle="yes">maps bounded sets to bounded sets</italic>.</p>
      <statement content-type="theorem lem" id="ltxid267" style="thmplain">
        <label>1.8. Lemma</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be normed vector spaces and let <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> be an operator. Then <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous if and only if <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>First suppose that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continous. Apply the continuity with <inline-formula content-type="math/tex"><tex-math>\epsilon =1</tex-math></inline-formula> to obtain <inline-formula content-type="math/tex"><tex-math>\delta &gt;0</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|x\|&lt;\delta \implies \|Tx\|&lt;1</tex-math></inline-formula>. The for any <inline-formula content-type="math/tex"><tex-math>x\neq 0</tex-math></inline-formula> we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\|Tx\|=\left\|T\left(\frac{x}{\|x\|}\delta \right)\right\|\frac{\|x\|}{\delta }\leq 1\frac{\|x\|}{\delta } 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Conversely suppose that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded, and let <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> be such that <inline-formula content-type="math/tex"><tex-math>\|Tx\|\leq M\|x\|</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>. Given any <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we let <inline-formula content-type="math/tex"><tex-math>\delta =\epsilon /M</tex-math></inline-formula>. Then we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\|x\|&lt;\delta \implies \|Tx\|\leq M\|x\|&lt;M\left(\frac{\epsilon }{M}\right)=\epsilon 
\end{equation*}</tex-math>
        </disp-formula>
        <p>This shows that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous at the point <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula>, and hence by the previous lemma <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid268" style="thmdefinition">
        <label>Exercise 1.1</label>
        <title>(BBT, ex 12:1.2)</title>
        <p content-type="noindent">Show that the addition and constant multiple operations are continuous on a normed vector space.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid269" style="thmdefinition">
        <label>Exercise 1.2</label>
        <title>(BBT, ex 12:1.3)</title>
        <p content-type="noindent">Show that the unit ball of a normed vector space is convex. That is, for <inline-formula content-type="math/tex"><tex-math>x,y</tex-math></inline-formula> in the ball and <inline-formula content-type="math/tex"><tex-math>\lambda \in (0,1)</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\lambda x+(1-\lambda )y</tex-math></inline-formula> is also in the ball.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid270" style="thmdefinition">
        <label>Exercise 1.3</label>
        <title>(BBT, ex 12:3.1)</title>
        <p content-type="noindent">Consider the operators <inline-formula content-type="math/tex"><tex-math>D(f)=f'</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>(Sf)(x)=\int _a^x fd\mu </tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>I(f)=\int fd\mu </tex-math></inline-formula>. What are appropriate domains and codomains of each operator? Show that <inline-formula content-type="math/tex"><tex-math>S</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>I</tex-math></inline-formula> are continuous, and <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> is not continuous.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid271" style="thmdefinition">
        <label>Exercise 1.4</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>D[0,1]</tex-math></inline-formula> denote the space of differentiable functions on <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula> with continuous derivative, equipped with the supremum norm of <inline-formula content-type="math/tex"><tex-math>B[0,1]</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> is not complete.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid272" specific-use="section">
      <label>2</label>
      <title>The Hahn–Banach theorem</title>
      <statement content-type="theorem reading" id="ltxid273" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §1.5</p>
      </statement>
      <p>In this section we continue our study of operators on a space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. However we confine our attention to the simplest operators, which are the ones that take values in the scalar field <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> or <inline-formula content-type="math/tex"><tex-math>{\mathbb{C}}</tex-math></inline-formula>. Such operators are so fundamental that we give them the special name “functional”. In this section we consider only the case of real normed vector spaces, but the same results hold for complex spaces too.</p>
      <statement content-type="theorem defn" id="ltxid274" style="thmdefinition">
        <label>2.1. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a normed vector space, a <italic toggle="yes">linear functional</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is an operator <inline-formula content-type="math/tex"><tex-math>\phi \colon X\to {\mathbb{R}}</tex-math></inline-formula>. A <italic toggle="yes">bounded linear functional</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a bounded, which is to say continuous, linear functional <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p>
      </statement>
      <p>Let us briefly recall the situation for <inline-formula content-type="math/tex"><tex-math>X={\mathbb{R}}^d</tex-math></inline-formula> with any of its norms. Here a linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is determined by its values on a basis, and it follows that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is of the form <inline-formula content-type="math/tex"><tex-math>\mathbf{x}\mapsto \mathbf{y}^T\mathbf{x}</tex-math></inline-formula>, that is, the dot product with a row vector or “dual vector”. It should not be surprising that these mappings are always bounded, regardless of the norm on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula>.</p>
      <p>When <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is an infinite-dimensional normed vector space, it is not true that all linear functionals on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> are bounded. In fact, given an infinite dimensional normed vector space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, it is not immediately obvious that there are any nonzero bounded linear functionals on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. In the rest of this section we present the Hahn–Banach theorem, which implies that on any normed vector space, there really are lots of bounded linear functionals.</p>
      <p>In order to state the Hahn–Banach theorem in its most powerful form, we need the following generalization of a norm on a vector space.</p>
      <statement content-type="theorem defn" id="ltxid275" style="thmdefinition">
        <label>2.2. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a vector space. A <italic toggle="yes">sublinear functional</italic> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a function <inline-formula content-type="math/tex"><tex-math>p\colon X\to {\mathbb{R}}</tex-math></inline-formula> that satisfies:</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid276"><term>(a)</term> <def><p>(positive homogeneity) <inline-formula content-type="math/tex"><tex-math>p(cx)=cp(x)</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>c\geq 0</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid277"><term>(b)</term> <def><p>(subadditivity) <inline-formula content-type="math/tex"><tex-math>p(x+y)\leq p(x)+p(y)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>Norms and seminorms are both examples of sublinear functionals. Another example is the upper Riemann integral, defined on the space <inline-formula content-type="math/tex"><tex-math>M[a,b]</tex-math></inline-formula> of bounded functions on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid278" style="thmplain">
        <label>2.3. Theorem</label>
        <title>(Hahn–Banach)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a vector space, <inline-formula content-type="math/tex"><tex-math>Y\leq X</tex-math></inline-formula> a subspace of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> a sublinear functional on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Then any linear functional <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi _0\leq p</tex-math></inline-formula> extends to a linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi \leq p</tex-math></inline-formula>.</p>
      </statement>
      <p>Before proving the above abstract form of the Hahn–Banach theorem, we present several key consequences regarding the construction of bounded linear functionals.</p>
      <statement content-type="theorem cor" id="ltxid279" style="thmplain">
        <label>2.4. Corollary</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a normed vector space, and <inline-formula content-type="math/tex"><tex-math>Y\leq X</tex-math></inline-formula> a subspace of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid280"><term>(a)</term> <def><p>Any bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> extends to a bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid281"><term>(b)</term> <def><p>If <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is closed and <inline-formula content-type="math/tex"><tex-math>z\notin Y</tex-math></inline-formula>, then there exists a bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (Y)=0</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\phi (z)\neq 0</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid282"><term>(c)</term> <def><p>The bounded linear functionals separate points: for all <inline-formula content-type="math/tex"><tex-math>x,x'\in X</tex-math></inline-formula>, if <inline-formula content-type="math/tex"><tex-math>x\neq x'</tex-math></inline-formula> then there is a bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (x)\neq \phi (x')</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>(a) Since <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> is a bounded linear functional on <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>, there exists some <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi _0(y)\leq M\|y\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula>. We may therefore apply the Hahn–Banach theorem with the sublinear functional <inline-formula content-type="math/tex"><tex-math>p(x)=M\|x\|</tex-math></inline-formula>. Thus <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> extends to a linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (x)\leq M\|x\|</tex-math></inline-formula>. In particular, <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is bounded too.</p>
        <p>(b) We first define a function <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> on the space <inline-formula content-type="math/tex"><tex-math>Y+{\mathbb{R}}z</tex-math></inline-formula> which is bounded by <inline-formula content-type="math/tex"><tex-math>p=</tex-math></inline-formula> the norm. For this we will let <inline-formula content-type="math/tex"><tex-math>\phi _0(y+cz)=c\phi _0(z)</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>\phi _0(z)</tex-math></inline-formula> remains to be determined. In order to satisfy <inline-formula content-type="math/tex"><tex-math>\phi _0(y+cz)\leq \|y+cz\|</tex-math></inline-formula> we require that <inline-formula content-type="math/tex"><tex-math>c\phi _0(z)\leq \|y+cz\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula>.</p>
        <p>Substituting <inline-formula content-type="math/tex"><tex-math>y</tex-math></inline-formula> with <inline-formula content-type="math/tex"><tex-math>-cy</tex-math></inline-formula>, we see that we must choose <inline-formula content-type="math/tex"><tex-math>\phi _0(z)\leq \|-y+z\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is closed we must have <inline-formula content-type="math/tex"><tex-math>\inf _{y\in Y}\|y+z\|\neq 0</tex-math></inline-formula> (otherwise <inline-formula content-type="math/tex"><tex-math>z</tex-math></inline-formula> would be a limit of elements of <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> and hence in <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>). It follows that we can choose a nonzero value of <inline-formula content-type="math/tex"><tex-math>\phi _0(z)</tex-math></inline-formula>, and we may then use part (a) to extend <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> to a bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> that meets our requirements.</p>
        <p>(c) If <inline-formula content-type="math/tex"><tex-math>x\neq x'</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>x-x'\neq 0</tex-math></inline-formula>. Applying part (b) with <inline-formula content-type="math/tex"><tex-math>Y=\{0\}</tex-math></inline-formula> we can find a bounded linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (x-x')\neq 0</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>\phi (x)\neq \phi (x')</tex-math></inline-formula>.</p>
      </statement>
      <p>We now return to the proof of the Hahn–Banach theorem.</p>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof of Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid278" specific-use="ref">2.3</xref></title>
        <p>We begin by showing that we can find a proper extension of <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula>. Specifically, given any <inline-formula content-type="math/tex"><tex-math>z\in X\smallsetminus Y</tex-math></inline-formula> we will find an extension of <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> to a linear functional <inline-formula content-type="math/tex"><tex-math>\phi _1</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>Y\oplus {\mathbb{R}}z</tex-math></inline-formula> satisfying <inline-formula content-type="math/tex"><tex-math>\phi _1\leq p</tex-math></inline-formula>. For this we will define</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\phi _1(y+cz)=\phi _0(y)+c\phi _1(z) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>where <inline-formula content-type="math/tex"><tex-math>\phi _1(z)</tex-math></inline-formula> will be determined a little bit later. When we do choose <inline-formula content-type="math/tex"><tex-math>\phi _1(z)</tex-math></inline-formula>, it will have to satisfy the requirement that for all <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula> and all <inline-formula content-type="math/tex"><tex-math>c\in {\mathbb{R}}</tex-math></inline-formula>:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\phi _0(y)+c\phi _1(z)\leq p(y+cz) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>To isolate <inline-formula content-type="math/tex"><tex-math>\phi _1(z)</tex-math></inline-formula> we must consider the cases of negative and positive values of the coefficient <inline-formula content-type="math/tex"><tex-math>c</tex-math></inline-formula> separately. Thus assume <inline-formula content-type="math/tex"><tex-math>c&gt;0</tex-math></inline-formula> and split the last equation into two conditions:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 (\forall y)\;\phi _0(y)+c\phi _1(z)&amp;\leq p(y+cz)\\
 (\forall y)\;\phi _0(y)-c\phi _1(z)&amp;\leq p(y-cz) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Solving each for <inline-formula content-type="math/tex"><tex-math>\phi '(z)</tex-math></inline-formula> and substituting <inline-formula content-type="math/tex"><tex-math>y</tex-math></inline-formula> with <inline-formula content-type="math/tex"><tex-math>cy</tex-math></inline-formula> in each gives us the two new conditions:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 (\forall y)\;\phi _1(z)&amp;\leq p(y+z)-\phi _0(y)\\
 (\forall y)\;\phi _1(z)&amp;\geq -p(y-z)+\phi _0(y) 
\end{align*}</tex-math>
        </disp-formula>
        <p>In order for the constraints to be satisfiable, it is sufficient to have for all <inline-formula content-type="math/tex"><tex-math>y,y'\in Y</tex-math></inline-formula> that <inline-formula content-type="math/tex"><tex-math>-p(y-z)+\phi _0(y)\leq p(y'+z)-\phi _0(y')</tex-math></inline-formula>. And this is indeed the case, since</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \phi _0(y)+\phi _0(y')&amp;=\phi _0(y+y')\\
 &amp;\leq p(y+y')\\
 &amp;=p(y-z+y'+z)\\
 &amp;\leq p(y-z)+p(y'+z) 
\end{align*}</tex-math>
        </disp-formula>
        <p>Thus we can find a suitable value for <inline-formula content-type="math/tex"><tex-math>\phi _1(z)</tex-math></inline-formula> and successfully extend <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>\phi '</tex-math></inline-formula> as required.</p>
        <p>To complete the proof we wish to apply the above step repeatedly. Since the number of steps will be uncountable in general, it is necessary to phrase our construction using the standard <italic toggle="yes">Zorn’s lemma</italic>: if <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> is a partially ordered set and every chain of <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> has an upper bound, then <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> has a maximal element.</p>
        <p>Now let <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> be the collection of all linear functionals <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> such that the domain of <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is a subspace of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> extends <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\phi \leq p</tex-math></inline-formula>. We partially order <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> by function extension. A chain <inline-formula content-type="math/tex"><tex-math>\mathcal{C}</tex-math></inline-formula> in <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> always has an upper bound, namely the set-theoretic union <inline-formula content-type="math/tex"><tex-math>\bigcup \mathcal{C}</tex-math></inline-formula> of the members of the chain. Moreover the union will be <inline-formula content-type="math/tex"><tex-math>\leq p</tex-math></inline-formula> because each member of the chain is <inline-formula content-type="math/tex"><tex-math>\leq p</tex-math></inline-formula>.</p>
        <p>Therefore we can apply Zorn’s lemma to find an element <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> of <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula> which is maximal with respect to function extension. We claim moreover that the domain of <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> must be all of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Indeed, otherwise we can use the argument above to properly extend the domain of <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> to find a larger element <inline-formula content-type="math/tex"><tex-math>\phi '</tex-math></inline-formula> of <inline-formula content-type="math/tex"><tex-math>P</tex-math></inline-formula>. This contradicts the maximality of <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula>, and completes the proof.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid283" style="thmdefinition">
        <label>Exercise 2.1</label>
        <title>(BBT, ex 12:5.1)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> be a bounded real-valued function on <inline-formula content-type="math/tex"><tex-math>[0,1]</tex-math></inline-formula>, and let <inline-formula content-type="math/tex"><tex-math>U(f)</tex-math></inline-formula> denote the Upper Lebesgue integral of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>. Show that <inline-formula content-type="math/tex"><tex-math>U</tex-math></inline-formula> is a sublinear functional. What can you conclude from the Hahn–Banach theorem?</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid284" style="thmdefinition">
        <label>Exercise 2.2</label>
        <title>(BBT, ex 12:5.2)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>\ell ^\infty </tex-math></inline-formula> denote the space of bounded real sequences with the supremum norm, and let <inline-formula content-type="math/tex"><tex-math>c</tex-math></inline-formula> denote the subspace of convergent real sequences. Define <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>\ell ^\infty </tex-math></inline-formula> by</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
p(x)=\limsup _{n\to \infty }\frac{x_1+\cdots +x_n}{n} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Verify that <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> is a sublinear functional such that <inline-formula content-type="math/tex"><tex-math>\lim x\leq p(x)</tex-math></inline-formula>. If we apply the Hahn–Banach theorem to obtain a bounded linear functional <inline-formula content-type="math/tex"><tex-math>L</tex-math></inline-formula> extending <inline-formula content-type="math/tex"><tex-math>\lim </tex-math></inline-formula>, show that <inline-formula content-type="math/tex"><tex-math>\liminf x\leq L(x)\leq \limsup x</tex-math></inline-formula> and calculate the value of <inline-formula content-type="math/tex"><tex-math>L(0,1,0,1,\ldots )</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid285" style="thmdefinition">
        <label>Exercise 2.3</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> be equipped with any norm that makes it into a normed vector space. Show that every linear functional on <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> is continuous.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid286" specific-use="section">
      <label>3</label>
      <title>Spaces of operators and the dual space</title>
      <statement content-type="theorem reading" id="ltxid287" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §12.3, 12.7</p>
      </statement>
      <p>In the past two sections we have introduced and discussed the continuous operators <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> between two normed vector spaces. In this section we study the collection of all such operators as a space in its own right.</p>
      <statement content-type="theorem defn" id="ltxid288" style="thmdefinition">
        <label>3.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be normed vector spaces. Then <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> denotes the space of bounded linear operators <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula>.</p>
      </statement>
      <p>We equip <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> with the operations of <italic toggle="yes">pointwise addition</italic> and <italic toggle="yes">pointwise scaling</italic>. In other words, if <inline-formula content-type="math/tex"><tex-math>T,T'\in B(X,Y)</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>T+T'</tex-math></inline-formula> is defined to be the operator <inline-formula content-type="math/tex"><tex-math>(T+T')(x)=T(x)+T'(x)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>cT</tex-math></inline-formula> is defined to be the operator <inline-formula content-type="math/tex"><tex-math>(cT)(x)=cT(x)</tex-math></inline-formula>. We also equip <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> with the <italic toggle="yes">operator norm</italic>:</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\|T\|=\inf \left\{\,M\mid (\forall x)\;\|Tx\|\leq M\|x\|\,\right\} 
\end{equation*}</tex-math>
      </disp-formula>
      <p>In other words, the operator norm of a bounded operator <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is the least value of <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> which witnesses that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded. Naturally we must show that the operations and norm satisfy the properties of a normed vector space.</p>
      <statement content-type="theorem prop" id="ltxid289" style="thmplain">
        <label>3.2. Proposition</label>
        <def-list content-type="enumerate">
          <def-item id="ltxid290"><term>(a)</term> <def><p><inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> is a normed vector space with the operations of pointwise addition and scaling, and with the operator norm.</p></def></def-item>
          <def-item id="ltxid291"><term>(b)</term> <def><p>If <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is a Banach space then so is <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>(a) We first show that the operator norm is indeed a norm. The homogeneity and non-vanishing properties are easy to check. For the triangle inequality let <inline-formula content-type="math/tex"><tex-math>T,T'\in B(X,Y)</tex-math></inline-formula>, and calculate <inline-formula content-type="math/tex"><tex-math>\|(T+T')(x)\|=\|Tx+T'x\|\leq \|Tx\|+\|T'x\|\leq \|T\|\|x\|+\|T'\|\|x\|</tex-math></inline-formula>. It follows that <inline-formula content-type="math/tex"><tex-math>\|T+T'\|\leq \|T\|+\|T'\|</tex-math></inline-formula>, as desired.</p>
        <p>It also follows from homogeneity and the triangle inequality that <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> is closed under scalar multiplication and addition. Thus <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> is a normed vector space.</p>
        <p>(b) It remains only to show that <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> is complete. For this let <inline-formula content-type="math/tex"><tex-math>T_n</tex-math></inline-formula> be a sequence of elements of <inline-formula content-type="math/tex"><tex-math>B(X,Y)</tex-math></inline-formula> and assume that it is Cauchy in the operator norm. This means that for all <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula>, there exists <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>m,n\geq N</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|T_m-T_n\|&lt;\epsilon </tex-math></inline-formula>.</p>
        <p>Now for any fixed <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, it follows from the last equation that <inline-formula content-type="math/tex"><tex-math>\|T_mx-T_nx\|&lt;\epsilon \|x\|</tex-math></inline-formula>. In particular, the sequence <inline-formula content-type="math/tex"><tex-math>T_nx</tex-math></inline-formula> is a Cauchy sequence in the space <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>. Since we are assuming that <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is complete, the sequence <inline-formula content-type="math/tex"><tex-math>T_nx</tex-math></inline-formula> converges and we define <inline-formula content-type="math/tex"><tex-math>Tx=\lim T_nx</tex-math></inline-formula>.</p>
        <p>Now <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is a well-defined function from <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>, and by definition <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is the pointwise limit of the <inline-formula content-type="math/tex"><tex-math>T_n</tex-math></inline-formula>. We need to check that <inline-formula content-type="math/tex"><tex-math>T\in B(X,Y)</tex-math></inline-formula> and moreover that <inline-formula content-type="math/tex"><tex-math>T_n\to T</tex-math></inline-formula> in the operator norm.</p>
        <p>To see that <inline-formula content-type="math/tex"><tex-math>T\in B(X,Y)</tex-math></inline-formula>, first note that it is easy to check <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is a linear map. For example, <inline-formula content-type="math/tex"><tex-math>T(x+y)=\lim T_n(x+y)=\lim T_n(x)+T_n(y)=T(x)+T(y)</tex-math></inline-formula>. To see that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded, we first claim that the sequence of operator norms <inline-formula content-type="math/tex"><tex-math>\|T_n\|</tex-math></inline-formula> is itself bounded. For this claim, recall from the reverse triangle inequality that <inline-formula content-type="math/tex"><tex-math>|\|T_n\|-\|T_m\||\leq \|T_n-T_m\|</tex-math></inline-formula>. Thus the fact that <inline-formula content-type="math/tex"><tex-math>T_n</tex-math></inline-formula> is Cauchy implies that <inline-formula content-type="math/tex"><tex-math>\|T_n\|</tex-math></inline-formula> is Cauchy in <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>, and any Cauchy sequence in <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> is bounded. This completes the claim.</p>
        <p>Now let <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> be a bound for the sequence <inline-formula content-type="math/tex"><tex-math>\|T_n\|</tex-math></inline-formula>. Then given <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|T_nx\|\leq M\|x\|</tex-math></inline-formula>. Taking the limit of both sides, we conclude that <inline-formula content-type="math/tex"><tex-math>\|Tx\|\leq M\|x\|</tex-math></inline-formula>, and this means that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is a bounded operator. Thus we have shown that <inline-formula content-type="math/tex"><tex-math>T\in B(X,Y)</tex-math></inline-formula>.</p>
        <p>Last we establish that <inline-formula content-type="math/tex"><tex-math>T_n\to T</tex-math></inline-formula> in operator norm. For this, given <inline-formula content-type="math/tex"><tex-math>\epsilon &gt;0</tex-math></inline-formula> we have already argued that we can find <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>m,n\geq N</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>\|T_mx-T_nx\|&lt;\epsilon \|x\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>. Now let <inline-formula content-type="math/tex"><tex-math>n\geq N</tex-math></inline-formula> be fixed and take the limit as <inline-formula content-type="math/tex"><tex-math>m\to \infty </tex-math></inline-formula>. This gives us <inline-formula content-type="math/tex"><tex-math>\|Tx-T_nx\|\leq \epsilon \|x\|</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>. We thus have that <inline-formula content-type="math/tex"><tex-math>\|T-T_n\|\leq \epsilon </tex-math></inline-formula>, which means that <inline-formula content-type="math/tex"><tex-math>T_n\to T</tex-math></inline-formula> in operator norm.</p>
      </statement>
      <p>The argument for part (b) is our first instance of a standard argument template. To show that a given function space is complete, given a Cauchy sequence <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> one first constructs a proposed limit function <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, often the pointwise limit. One then checks that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> actually lies in the desired space, and that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> in the desired norm.</p>
      <p>In the previous section we investigated the special case of operators valued in the scalar field <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. Thus it is natural to focus on the space <inline-formula content-type="math/tex"><tex-math>B(X,{\mathbb{R}})</tex-math></inline-formula> of bounded linear functionals on a space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. We have previously hinted that the bounded linear functionals play the role of dual vectors (or row vectors) in infinite-dimensional spaces. We are now ready to make this a formal definition.</p>
      <statement content-type="theorem defn" id="ltxid292" style="thmdefinition">
        <label>3.3. Definition</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a normed (real) vector space then the <italic toggle="yes">dual</italic> of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>X^*=B(X,{\mathbb{R}})</tex-math></inline-formula>.</p>
      </statement>
      <p>By the results of this section, the dual space <inline-formula content-type="math/tex"><tex-math>X^*</tex-math></inline-formula> is always a Banach space with the operator norm. By the Corollary to the Hahn–Banach theorem, the elements of the dual space are plentiful in the sense that they separate the points of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. In fact, now that we have introduced the operator norm, we can strengthen two of the statements in Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid279" specific-use="ref">2.4</xref>.</p>
      <statement content-type="theorem cor" id="ltxid293" style="thmplain">
        <label>3.4. Corollary</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a normed vector space, <inline-formula content-type="math/tex"><tex-math>Y\leq X</tex-math></inline-formula> a subspace of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>.</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid294"><term>(a)</term> <def><p>Any <inline-formula content-type="math/tex"><tex-math>\phi _0\in Y^*</tex-math></inline-formula> extends to an element <inline-formula content-type="math/tex"><tex-math>\phi \in X^*</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|\phi \|=\|\phi _0\|</tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid295"><term>(b)</term> <def><p>If <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is closed and <inline-formula content-type="math/tex"><tex-math>z\notin Y</tex-math></inline-formula>, then there exists <inline-formula content-type="math/tex"><tex-math>\phi \in X^*</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (Y)=0</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\phi (z)\neq 0</tex-math></inline-formula>. Moreover one may take <inline-formula content-type="math/tex"><tex-math>\|\phi \|=1</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\phi (z)=\inf _{y\in Y}\|y+z\|</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>(a) Since <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is an extension of <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula>, we always have <inline-formula content-type="math/tex"><tex-math>\|\phi \|\geq \|\phi _0\|</tex-math></inline-formula>. And in the proof Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid279" specific-use="ref">2.4</xref>(a), it is apparent that <inline-formula content-type="math/tex"><tex-math>\|\phi \|\leq \|\phi _0\|</tex-math></inline-formula>.</p>
        <p>(b) Recall that in the proof of Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid279" specific-use="ref">2.4</xref>(b), we showed one may define <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>Y+{\mathbb{R}}z</tex-math></inline-formula> in such a way that <inline-formula content-type="math/tex"><tex-math>\phi (Y)=0</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\phi (z)=\inf _{y\in Y}\|y+z\|</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\phi _0\leq \|\cdot \|</tex-math></inline-formula>. It is not too difficult to argue that with this definition, <inline-formula content-type="math/tex"><tex-math>\|\phi _0\|=1</tex-math></inline-formula>. Therefore by part (a) we can extend <inline-formula content-type="math/tex"><tex-math>\phi _0</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> with <inline-formula content-type="math/tex"><tex-math>\|\phi \|=1</tex-math></inline-formula> as desired.</p>
      </statement>
      <p>We close this section with the following result about the double dual of a space.</p>
      <statement content-type="theorem prop" id="ltxid296" style="thmplain">
        <label>3.5. Proposition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a normed vector space. Then there is a norm-preserving operator from <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> into its double dual <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We define an embedding <inline-formula content-type="math/tex"><tex-math>x\mapsto \hat{x}</tex-math></inline-formula> from <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula> as follows. Given an element <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, we define the corresponding element <inline-formula content-type="math/tex"><tex-math>\hat{x}\in X^{**}</tex-math></inline-formula> by the formula:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\hat{x}(\phi )=\phi (x) 
\end{equation*}</tex-math>
        </disp-formula>
        <p>So <inline-formula content-type="math/tex"><tex-math>\hat{x}</tex-math></inline-formula> is a function from <inline-formula content-type="math/tex"><tex-math>X^*</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula>. And <inline-formula content-type="math/tex"><tex-math>\hat{x}</tex-math></inline-formula> is linear because <inline-formula content-type="math/tex"><tex-math>\hat{x}(\phi _1+\phi _2)=(\phi _1+\phi _2)(x)=\phi _1(x)+\phi _2(x)=\hat{x}(\phi _1)+\hat{x}(\phi _2)</tex-math></inline-formula>. Next <inline-formula content-type="math/tex"><tex-math>\hat{x}</tex-math></inline-formula> is bounded because <inline-formula content-type="math/tex"><tex-math>|\hat{x}(\phi )|=|\phi (x)|\leq \|\phi \|\cdot \|x\|</tex-math></inline-formula>. Thus we have verified that <inline-formula content-type="math/tex"><tex-math>\hat{x}\in X^{**}</tex-math></inline-formula>.</p>
        <p>Now we verify that the map <inline-formula content-type="math/tex"><tex-math>x\mapsto \hat{x}</tex-math></inline-formula> is itself linear. Indeed, we have <inline-formula content-type="math/tex"><tex-math>\widehat{x_1+x_2}(\phi )=\phi (x_1+x_2)=\phi (x_1)+\phi (x_2)=\hat{x}_1(\phi )+\hat{x}_2(\phi )</tex-math></inline-formula>. And similarly for scalar multiplication.</p>
        <p>Finally to show that <inline-formula content-type="math/tex"><tex-math>x\mapsto \hat{x}</tex-math></inline-formula> is norm-preserving, note that the calculation in the first paragraph shows that <inline-formula content-type="math/tex"><tex-math>\|\hat{x}\|\leq \|x\|</tex-math></inline-formula>. To show that <inline-formula content-type="math/tex"><tex-math>\|\hat{x}\|\geq \|x\|</tex-math></inline-formula>, we use Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid293" specific-use="ref">3.4</xref>(a) to obtain <inline-formula content-type="math/tex"><tex-math>\phi \in X^*</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (x)=\|x\|</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|\phi \|=1</tex-math></inline-formula>. Thus we have that <inline-formula content-type="math/tex"><tex-math>\hat{x}(\phi )=\phi (x)=\|x\|=\|x\|\|\phi \|</tex-math></inline-formula>, which witnesses that <inline-formula content-type="math/tex"><tex-math>\|\hat{x}\|\geq \|x\|</tex-math></inline-formula>.</p>
      </statement>
      <p>The above proposition may seem esoteric, but it has many uses. For example, if <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is incomplete then we can use it to give a concrete construction of the Banach space completion of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. For this, observe that since <inline-formula content-type="math/tex"><tex-math>x\mapsto \hat{x}</tex-math></inline-formula> is norm-preserving, we have that <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is isomorphic to its image <inline-formula content-type="math/tex"><tex-math>\hat{X}</tex-math></inline-formula> in <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula>. Since we have shown above that every dual is complete, we know that <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula> is complete. It follows that the completion of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is isomorphic to the closure of <inline-formula content-type="math/tex"><tex-math>\hat{X}</tex-math></inline-formula> in <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula>.</p>
      <p>It can even happen that the map <inline-formula content-type="math/tex"><tex-math>x\mapsto \hat{x}</tex-math></inline-formula> is surjective onto <inline-formula content-type="math/tex"><tex-math>X^{**}</tex-math></inline-formula>. This special property will be investigated in future sections.</p>
      <statement content-type="theorem exerc" id="ltxid297" style="thmdefinition">
        <label>Exercise 3.1</label>
        <p content-type="noindent">Show that <inline-formula content-type="math/tex"><tex-math>\|T\|</tex-math></inline-formula> is equal to <inline-formula content-type="math/tex"><tex-math>\sup \left\{\,\|Tx\|:\|x\|\leq 1\,\right\}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid298" style="thmdefinition">
        <label>Exercise 3.2</label>
        <title>(BBT, ex 12:7.2)</title>
        <p content-type="noindent">Show that <inline-formula content-type="math/tex"><tex-math>\|x\|=\sup \left\{\,|\phi (x)|:\phi \in X^*<text> and </text>\|\phi \|=1\,\right\}</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid299" style="thmdefinition">
        <label>Exercise 3.3</label>
        <title>(BBT, ex 17:7.5)</title>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> are Banach spaces and <inline-formula content-type="math/tex"><tex-math>T\in B(X,Y)</tex-math></inline-formula>, show that <inline-formula content-type="math/tex"><tex-math>(T^*\phi )(x)=\phi (Tx)</tex-math></inline-formula> defines an element of <inline-formula content-type="math/tex"><tex-math>B(Y^*,X^*)</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|T^*\|=\|T\|</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid300" style="thmdefinition">
        <label>Exercise 3.4</label>
        <title>(BBT, ex 12:7.6(b))</title>
        <p content-type="noindent">Show that a Banach space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is reflexive if and only if <inline-formula content-type="math/tex"><tex-math>X^*</tex-math></inline-formula> is reflexive.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid301" style="thmdefinition">
        <label>Exercise 3.5</label>
        <p content-type="noindent">Complete the proof of Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid293" specific-use="ref">3.4</xref>(b).</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid302" specific-use="section">
      <label>4</label>
      <title>Three results on Banach spaces</title>
      <statement content-type="theorem reading" id="ltxid303" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §12.11, 12.13, 12.14</p>
      </statement>
      <p>In our introduction to normed vector spaces, we singled out the special case when the space is complete and called it a Banach space. However in our investigation we have said very little that is special to Banach spaces. In this section we present several key results that are essentially unique to Banach spaces because they rely on the completeness property.</p>
      <p>The three key results we will present are called the uniform boundedness principle, the open mapping theorem, and the closed graph theorem. In ecah case, rather than provide a proof we will state the result and give a sample application.</p>
      <statement content-type="theorem thm" id="ltxid304" style="thmplain">
        <label>4.1. Theorem</label>
        <title>(Uniform boundedness principle)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be Banach spaces and <inline-formula content-type="math/tex"><tex-math>\mathcal{F}</tex-math></inline-formula> a family of bounded operators from <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>. Suppose that for all <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula> there exists a constant <inline-formula content-type="math/tex"><tex-math>M_x</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>T\in \mathcal{F}</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|Tx\|\leq M_x</tex-math></inline-formula>. Then there exists a constant <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>T\in \mathcal{F}</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|T\|\leq M</tex-math></inline-formula>.</p>
      </statement>
      <p>It is often remarked that the uniform boundedness principle sounds too good to be true—it has a pointwise hypothesis and a uniform conclusion. Regardless, it is true and has a short proof from the Baire category theorem for complete metric spaces. Because of its power the uniform boundedness principle is used quite frequently. We present just one simple consequence concerning pointwise convergence of operators.</p>
      <statement content-type="theorem cor" id="ltxid305" style="thmplain">
        <label>4.2. Corollary</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be Banach spaces and let <inline-formula content-type="math/tex"><tex-math>T_n\colon X\to Y</tex-math></inline-formula> be a sequence of bounded operators. If <inline-formula content-type="math/tex"><tex-math>T_n\to T</tex-math></inline-formula> pointwise, then <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is a bounded operator too.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We have already observed that a pointwise limit of operators is an operator. Hence it remains only to check that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded. Now given any <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, since <inline-formula content-type="math/tex"><tex-math>\{T_nx\}</tex-math></inline-formula> is a convergent sequence of <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>, it is necessarily a bounded sequence of <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>. In other words, the sequence <inline-formula content-type="math/tex"><tex-math>\{\|T_nx\|\}</tex-math></inline-formula> is bounded. By the uniform boundedness principle, there exists a constant <inline-formula content-type="math/tex"><tex-math>M</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|T_n\|\leq M</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula>. Thus for any <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \|Tx\|&amp;=\|\lim T_nx\|\\
 &amp;=\lim \|T_nx\|\\
 &amp;\leq \limsup \|T_n\|\|x\|\\
 &amp;\leq M\|x\| 
\end{align*}</tex-math>
        </disp-formula>
        <p>In particular, <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded and <inline-formula content-type="math/tex"><tex-math>\|T\|\leq M</tex-math></inline-formula>.</p>
      </statement>
      <p>For our next result, recall that a function is continuous if the preimage of any open set is open. A somewhat less used but still very important property is the reverse. A function is called <italic toggle="yes">open</italic> if the image of any open set is open. In the case that a function has an inverse, the open property simply means that the inverse is continuous. However it is still a valuable property even for functions which are not bijections.</p>
      <statement content-type="theorem thm" id="ltxid306" style="thmplain">
        <label>4.3. Theorem</label>
        <title>(Open mapping theorem)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be Banach spaces and <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> be a bounded operator. If <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is onto, then <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is open.</p>
      </statement>
      <p>We present just one simple consequence here concerning equivalence of norms. If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a normed vector space with two norms, <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_a</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_b</tex-math></inline-formula>, we say that <inline-formula content-type="math/tex"><tex-math>a,b</tex-math></inline-formula> are <italic toggle="yes">equivalent</italic> if there exist constants <inline-formula content-type="math/tex"><tex-math>c,d</tex-math></inline-formula> such that for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|x\|_a\leq c\|x\|_b</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|x\|_b\leq d\|x\|_a</tex-math></inline-formula>.</p>
      <p>In other words, norms are equivalent if their unit balls can be rescaled to fit inside one another. For example, the space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^2</tex-math></inline-formula> can be equipped with the usual Euclidean norm <inline-formula content-type="math/tex"><tex-math>\|(x,y)\|_2=\sqrt {x^2+y^2}</tex-math></inline-formula>, and also with the taxicab norm <inline-formula content-type="math/tex"><tex-math>\|(x,y)\|=|x|+|y|</tex-math></inline-formula>. The Euclidean norm has a circular unit ball, and the taxicab norm has a diamond shaped unit ball. The diamond fits inside the circle, and the circle can be scaled down by <inline-formula content-type="math/tex"><tex-math>\sqrt 2</tex-math></inline-formula> to fit inside the diamond. Thus the two norms are equivalent.</p>
      <statement content-type="theorem cor" id="ltxid307" style="thmplain">
        <label>4.4. Corollary</label>
        <p content-type="noindent">Suppose <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a Banach space with two complete norms <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_a</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_b</tex-math></inline-formula>. Then if there is a constant <inline-formula content-type="math/tex"><tex-math>c</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|x\|_a\leq c\|x\|_b</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_a</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_b</tex-math></inline-formula> are equivalent.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Let <inline-formula content-type="math/tex"><tex-math>\operatorname {id}\colon X\to X</tex-math></inline-formula> denote the identity mapping. If we consider <inline-formula content-type="math/tex"><tex-math>\operatorname {id}</tex-math></inline-formula> as an operator from <inline-formula content-type="math/tex"><tex-math>(X,\|\cdot \|_b)</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>(X,\|\cdot \|_a)</tex-math></inline-formula>, then the hypothesis implies that <inline-formula content-type="math/tex"><tex-math>\operatorname {id}</tex-math></inline-formula> is bounded and hence continuous. It follows from the open mapping theorem that <inline-formula content-type="math/tex"><tex-math>\operatorname {id}</tex-math></inline-formula> is open, that is, it maps open sets to open sets. Since <inline-formula content-type="math/tex"><tex-math>\operatorname {id}</tex-math></inline-formula> is a bijection, this simply means that <inline-formula content-type="math/tex"><tex-math>\operatorname {id}^{-1}</tex-math></inline-formula> is continuous and hence bounded. Thus we conclude that there exists a constant <inline-formula content-type="math/tex"><tex-math>d</tex-math></inline-formula> suh that <inline-formula content-type="math/tex"><tex-math>\|x\|_b\leq d\|x\|_d</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>.</p>
      </statement>
      <p>Before stating our final result, recall from topology that if <inline-formula content-type="math/tex"><tex-math>f\colon X\to Y</tex-math></inline-formula> is a continuous function then <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> has a <italic toggle="yes">closed graph</italic>, that is, the set of pairs <inline-formula content-type="math/tex"><tex-math>\{(x,y)\in X\times Y\mid f(x)=y\}</tex-math></inline-formula> is closed in <inline-formula content-type="math/tex"><tex-math>X\times Y</tex-math></inline-formula>. The next theorem states that the converse holds for bounded operators on Banach spaces.</p>
      <statement content-type="theorem thm" id="ltxid308" style="thmplain">
        <label>4.5. Theorem</label>
        <title>(Closed graph theorem)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X,Y</tex-math></inline-formula> be Banach spaces and <inline-formula content-type="math/tex"><tex-math>T\colon X\to Y</tex-math></inline-formula> be an operator. If the graph of <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is a closed subset of <inline-formula content-type="math/tex"><tex-math>X\times Y</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is bounded.</p>
      </statement>
      <p>Observe that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> has a closed graph if and only if <inline-formula content-type="math/tex"><tex-math>x_n\to x</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>Tx_n\to y</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>y=Tx</tex-math></inline-formula>. On the other hand, recall that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous if and only if <inline-formula content-type="math/tex"><tex-math>x_n\to x</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>Tx_n\to Tx</tex-math></inline-formula>. So it is easier to check that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> has a closed graph than to check that <inline-formula content-type="math/tex"><tex-math>T</tex-math></inline-formula> is continuous, because when checking the former one can assume for free that <inline-formula content-type="math/tex"><tex-math>T_nx</tex-math></inline-formula> converges to <italic toggle="yes">something</italic>.</p>
      <p>Rather than give a consequence of the closed graph theorem, we will give an important example. Let <inline-formula content-type="math/tex"><tex-math>C[a,b]</tex-math></inline-formula> be the Banach space of continious functions on <inline-formula content-type="math/tex"><tex-math>[a,b]</tex-math></inline-formula> with the supremum norm, and let <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> be the subspace of all functions with continuous derivative. Let <inline-formula content-type="math/tex"><tex-math>D\colon D[a,b]\to C[a,b]</tex-math></inline-formula> be the derivative operator. To check <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> has a closed graph, we suppose that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>Df_n\to g</tex-math></inline-formula> in supremum norm and verify that <inline-formula content-type="math/tex"><tex-math>Df=g</tex-math></inline-formula>. For this we integrate both sides of <inline-formula content-type="math/tex"><tex-math>Df_n\to g</tex-math></inline-formula> and use the fundamental theorem of calculus to conclude that <inline-formula content-type="math/tex"><tex-math>f_n\to G</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>G</tex-math></inline-formula> is an antiderivative of <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>f=G</tex-math></inline-formula>. Now differentiating both sides we conclude that <inline-formula content-type="math/tex"><tex-math>Df=g</tex-math></inline-formula>, as desired.</p>
      <p>While have just checked that <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> has a closed graph, it is also easy to check that <inline-formula content-type="math/tex"><tex-math>D</tex-math></inline-formula> is not bounded. Thus the contrapositive of the closed graph theorem implies that <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> is not a Banach space! This is an admittedly somewhat silly way to see this fact, since it is also possible to argue directly that <inline-formula content-type="math/tex"><tex-math>D[a,b]</tex-math></inline-formula> is not complete.</p>
      <statement content-type="theorem exerc" id="ltxid309" style="thmdefinition">
        <label>Exercise 4.1</label>
        <p content-type="noindent">Give an example of a function from <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> which has a closed graph but is not continuous. Give an example of function from <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> to <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}</tex-math></inline-formula> which is continuous and surjective but not open. Is it possible to give a bijective example?</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid310" style="thmdefinition">
        <label>Exercise 4.2</label>
        <title>(BBT, ex 12:13.2)</title>
        <p content-type="noindent">Equip the space <inline-formula content-type="math/tex"><tex-math>C[0,1]</tex-math></inline-formula> with both the <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula> norm and the supremum norm. Show that the <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula> norm is bounded by a constant times the supremum norm. Show that the reverse is not true. Explain why the two results do not contradict Corollary <xref ref-subtype="cor" ref-type="statement" rid="ltxid307" specific-use="ref">4.4</xref>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid311" specific-use="section">
      <label>5</label>
      <title>The Banach space <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula></title>
      <alt-title>The Banach space 𝐿^{𝑝}</alt-title>
      <statement content-type="theorem reading" id="ltxid312" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §13.1, 13.2</p>
      </statement>
      <p>As we have seen, many of the most important Banach spaces are function spaces arising in other areas of analysis. We have already seen the Banach space <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula> of absolutely integrable functions, and we have seen that there are several other norms derived from summation and integration. In this section we further investigate the <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>-spaces, which generalize many of these important examples.</p>
      <statement content-type="theorem defn" id="ltxid313" style="thmdefinition">
        <label>5.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space and let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> be a measure on it. For any measurable <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> defined on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> we let</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\|f\|_p=\left(\int |f|^p\;d\mu \right)^{1/p} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>We then define the space</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
L^p(\mu )=\left\{\,f\mid <text><inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a measurable function on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> and </text> \|f\|_p&lt;\infty \,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>with the understanding that <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> are identified when <inline-formula content-type="math/tex"><tex-math>f-g=0</tex-math></inline-formula> almost everywhere.</p>
      </statement>
      <p>Thus the spaces <inline-formula content-type="math/tex"><tex-math>L^1(X)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>L^2(X)</tex-math></inline-formula> are each examples of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>-spaces, but so are a variety of others. When <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is the finite set <inline-formula content-type="math/tex"><tex-math>\{1,\ldots ,n\}</tex-math></inline-formula> with the counting measure, the resulting space is just <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> with its <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula>-norm. When <inline-formula content-type="math/tex"><tex-math>X={\mathbb{N}}</tex-math></inline-formula> with the counting measure, the resulting space is the sequence space <inline-formula content-type="math/tex"><tex-math>\ell ^p</tex-math></inline-formula> with its <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula>-norm.</p>
      <p>The rest of this section is devoted to verifying that whenever <inline-formula content-type="math/tex"><tex-math>p\geq 1</tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> really is a Banach space with respect to the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula>. Before we can prove this result, it is necessary to establish the following fundamental inequality.</p>
      <statement content-type="theorem thm" id="ltxid314" style="thmplain">
        <label>5.2. Theorem</label>
        <title>(Hölder’s inequality)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>p,q\geq 1</tex-math></inline-formula> be real numbers such that <inline-formula content-type="math/tex"><tex-math>1/p+1/q=1</tex-math></inline-formula>. If <inline-formula content-type="math/tex"><tex-math>f\in L^p(\mu )</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g\in L^q(\mu )</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>fg</tex-math></inline-formula> is absolutely integrable and</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int |fg|\;d\mu \leq \|f\|_p\|g\|_q 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The theorem follows from a classical inequality which we will call Hölder’s inequality for real numbers:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
ab\leq \frac{a^p}{p}+\frac{b^q}{q} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>There are many proofs and one is left as an exercise.</p>
        <p>To begin the proof, note that given <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> as in the theorem statement, we can rescale to assume that <inline-formula content-type="math/tex"><tex-math>\|f\|_p=\|g\|_q=1</tex-math></inline-formula>. This is because both <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_q</tex-math></inline-formula> satisfy the positive homogeneity property.</p>
        <p>Now our objective is to show that <inline-formula content-type="math/tex"><tex-math>\int |fg|\,d\mu \leq 1</tex-math></inline-formula>. For this we plug <inline-formula content-type="math/tex"><tex-math>a=|f(x)|</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>b=|g(x)|</tex-math></inline-formula> into Hölder’s inequality for real numbers to obtain</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
|f(x)g(x)|\leq \frac{1}{p}|f(x)|^p+\frac{1}{q}|g(x)|^q 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Taking the integral of both sides we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int |fg|\,d\mu \leq \frac{1}{p}(\|f\|_p)^p+\frac{1}{q}(\|g\|_q)^q =\frac{1}{p}+\frac{1}{q}=1 
\end{equation*}</tex-math>
        </disp-formula>
        <p>as desired.</p>
      </statement>
      <p>The next result, known officially as Minkowski’s inequality, states that the norms <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula> satisfy the triangle inequality.</p>
      <statement content-type="theorem thm" id="ltxid315" style="thmplain">
        <label>5.3. Theorem</label>
        <title>(Minkowski’s inequality)</title>
        <p content-type="noindent">Suppose that <inline-formula content-type="math/tex"><tex-math>p\geq 1</tex-math></inline-formula>. If <inline-formula content-type="math/tex"><tex-math>f,g\in L^p(\mu )</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>\|f+g\|_p\leq \|f\|_p+\|g\|_p</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>We can assume without loss of generality that <inline-formula content-type="math/tex"><tex-math>f,g</tex-math></inline-formula> never take the value <inline-formula content-type="math/tex"><tex-math>\infty </tex-math></inline-formula>. We begin by writing</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 |f(x)+g(x)|^p&amp;=|f(x)+g(x)|\cdot |f(x)+g(x)|^{p-1}\\
 &amp;\leq |f(x)|\cdot |f(x)+g(x)|^{p-1} +|g(x)|\cdot |f(x)+g(x)|^{p-1} 
\end{align*}</tex-math>
        </disp-formula>
        <p>We now integrate both sides of this inequality, and then apply Hölder’s inequality to each of the resulting terms. In the following calculation, we also note that our hypothesis implies that the value <inline-formula content-type="math/tex"><tex-math>q</tex-math></inline-formula> used in Hölder’s inequality is equal to <inline-formula content-type="math/tex"><tex-math>p/(p-1)</tex-math></inline-formula>. Here is the computation:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 (\|f+g\|_p)^p&amp;\leq \int |f|\cdot |f+g|^{p-1}\,d\mu +\int |g|\cdot |f+g|^{p-1}\,d\mu \\
 &amp;\leq \|f\|_p\cdot \|(f+g)^{p-1}\|_q +\|g\|_p\cdot (\|(f+g)^{p-1}\|_q\\
 &amp;=\|f\|_p\cdot \|(f+g)^{p-1}\|_{p/(p-1)} +\|g\|_p\cdot \|(f+g)^{p-1}\|_{p/(p-1)}\\
 &amp;=\|f\|_p\cdot (\|f+g\|_p)^{p-1} +\|g\|_p\cdot (\|f+g\|_p)^{p-1}\\
 &amp;=(\|f\|_p+\|g\|_p)(\|f+g\|_p)^{p-1} 
\end{align*}</tex-math>
        </disp-formula>
        <p>We may now divide both sides by <inline-formula content-type="math/tex"><tex-math>(\|f+g\|_p)^{p-1}</tex-math></inline-formula> to obtain the desired conclusion.</p>
      </statement>
      <p>We are now ready to prove that the <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> spaces are in fact Banach spaces.</p>
      <statement content-type="theorem thm" id="ltxid316" style="thmplain">
        <label>5.4. Theorem</label>
        <p content-type="noindent">The space <inline-formula content-type="math/tex"><tex-math>L^p(\mu )</tex-math></inline-formula> with the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula> is a Banach space.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>It is clear that the norm is homogeneous and non-vanishing, and we have just shown it satisfies the triangle inequality. This also implies that <inline-formula content-type="math/tex"><tex-math>L^p(\mu )</tex-math></inline-formula> is closed under linear combinations and therefore it is a vector space. So it only remains to show that the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula> is complete.</p>
        <p>For this let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be a sequence of elements of <inline-formula content-type="math/tex"><tex-math>L^p(\mu )</tex-math></inline-formula> which is Cauchy in the <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula> norm. Passing to a subsequence if necessary, we can suppose without loss of generality that for all <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\|f_{n+1}-f_n\|_p&lt;1/2^n</tex-math></inline-formula>. We first wish to show that this implies <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> has a pointwise limit <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>.</p>
        <p>Let <inline-formula content-type="math/tex"><tex-math>g_k=\sum _1^k|f_{n+1}-f_n|</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g=\sum _1^\infty |f_{n+1}-f_n|</tex-math></inline-formula>. So <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> is the limit of the <inline-formula content-type="math/tex"><tex-math>g_k</tex-math></inline-formula>. While the function <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> may take the value <inline-formula content-type="math/tex"><tex-math>+\infty </tex-math></inline-formula>, we claim that this cannot happen too often. Indeed by Minkowski’s inequality we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\|g_k\|_p\leq \sum _{n=1}^k\|f_{n+1}-f_n\|_p\leq \sum 1/2^n=1 
\end{equation*}</tex-math>
        </disp-formula>
        <p>It then follows from Fatou’s lemma that <inline-formula content-type="math/tex"><tex-math>\int |g|^p\leq \liminf \int |g_k|^p\leq 1</tex-math></inline-formula>. Thus we can conclude that <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> is finite <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>-almost everywhere.</p>
        <p>Now using a simple telescoping we can write:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\lim _{n\to \infty } f_n(x)=\lim _{k\to \infty }\left[f_1(x) +\sum _{n=1}^k(f_n(x)-f_n(x))\right] 
\end{equation*}</tex-math>
        </disp-formula>
        <p>We have just observed that for <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>-almost every <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>, the latter series is absolutely convergent. Thus the series is convergent, and we can define the function <inline-formula content-type="math/tex"><tex-math>f(x)=\lim f_n(x)</tex-math></inline-formula>.</p>
        <p>It remains only to show that <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> lies in <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> and that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> in the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_p</tex-math></inline-formula>. For this, let <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> be given and choose <inline-formula content-type="math/tex"><tex-math>N</tex-math></inline-formula> large enough that <inline-formula content-type="math/tex"><tex-math>m,n\geq N</tex-math></inline-formula> implies <inline-formula content-type="math/tex"><tex-math>\|f_m-f_n\|_p&lt;\epsilon </tex-math></inline-formula>. Fixing <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> and applying Fatou’s Lemma to the resulting <inline-formula content-type="math/tex"><tex-math>m</tex-math></inline-formula>-sequence we obtain</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int |f-f_n|^p\leq \liminf _m\int |f_m-f_n|^p\leq \epsilon ^p 
\end{equation*}</tex-math>
        </disp-formula>
        <p>This shows that <inline-formula content-type="math/tex"><tex-math>\|f-f_n\|_p\to 0</tex-math></inline-formula>, or in other words that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> in the norm of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>. Finally if <inline-formula content-type="math/tex"><tex-math>n\geq N</tex-math></inline-formula> then we have <inline-formula content-type="math/tex"><tex-math>\|f\|_p\leq \|f-f_n\|_p+\|f_n\|_p&lt;\infty </tex-math></inline-formula>, so <inline-formula content-type="math/tex"><tex-math>f\in L^p</tex-math></inline-formula> too.</p>
      </statement>
      <p>While the results above apply to values of <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>1\leq p&lt;\infty </tex-math></inline-formula>, there is also a version of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> space for <inline-formula content-type="math/tex"><tex-math>p=\infty </tex-math></inline-formula>.</p>
      <statement content-type="theorem defn" id="ltxid317" style="thmdefinition">
        <label>5.5. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space and let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> be a measure on it. For any measurable <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> defined on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> we let</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\|f\|_\infty =\inf \left\{\,M\mid |f(x))|\leq M<text> for <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>-almost all <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula></text>\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
        <p>We then define the space</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
L^\infty (\mu )=\left\{\,f\mid <text><inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> is a measurable function on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> and </text> \|f\|_\infty &lt;\infty \,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>The norm <inline-formula content-type="math/tex"><tex-math>\|f\|_\infty </tex-math></inline-formula> is called the <italic toggle="yes">essential supremum</italic> of <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>, and the members of <inline-formula content-type="math/tex"><tex-math>L^\infty </tex-math></inline-formula> are said to be <italic toggle="yes">essentially bounded</italic>. We will leave as an exercise the following generalizations of our results for <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> to the case <inline-formula content-type="math/tex"><tex-math>p=\infty </tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid318" style="thmplain">
        <label>5.6. Theorem</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space and <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> a measure on it.</p>
        <def-list content-type="itemize">
          <def-item id="ltxid319"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>If <inline-formula content-type="math/tex"><tex-math>f\in L^1(\mu )</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g\in L^\infty (\mu )</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>fg</tex-math></inline-formula> is absolutely integrable and Hölder’s inequality is true: <inline-formula content-type="math/tex"><tex-math>\int |fg|\,d\mu \leq \|f\|_1\cdot \|g\|_\infty </tex-math></inline-formula>.</p></def></def-item>
          <def-item id="ltxid320"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>The space <inline-formula content-type="math/tex"><tex-math>L^\infty (\mu )</tex-math></inline-formula> is a Banach space with the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_\infty </tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <statement content-type="theorem exerc" id="ltxid321" style="thmdefinition">
        <label>Exercise 5.1</label>
        <title>(BBT, ex 13:1.2)</title>
        <p content-type="noindent">Show that the inequality <inline-formula content-type="math/tex"><tex-math>\|f+g\|_1\leq \|f\|_1+\|g\|_1</tex-math></inline-formula> is strict precisely when there exists a nonnegative measurable function <inline-formula content-type="math/tex"><tex-math>h</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>g=fh</tex-math></inline-formula> for almost every element <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula> of the set where <inline-formula content-type="math/tex"><tex-math>f,g\neq 0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid322" style="thmdefinition">
        <label>Exercise 5.2</label>
        <p content-type="noindent">Recall the argument from Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid174" specific-use="ref">4.6</xref> that the absolutely integrable simple functions are dense in <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula>. Show that the absolutely integrable simple functions are dense in <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid323" style="thmdefinition">
        <label>Exercise 5.3</label>
        <p content-type="noindent">Prove Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid318" specific-use="ref">5.6</xref>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid324" style="thmdefinition">
        <label>Exercise 5.4</label>
        <p content-type="noindent">Prove Hölder’s inequality for real numbers. (Should probably give a hint.)</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid325" specific-use="section">
      <label>6</label>
      <title>The dual space of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula></title>
      <alt-title>The dual space of 𝐿^{𝑝}</alt-title>
      <statement content-type="theorem reading" id="ltxid326" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §13.6, Tao “an <inline-formula content-type="math/tex"><tex-math>\epsilon </tex-math></inline-formula> of room” §1.2</p>
      </statement>
      <p>Recall that if <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a normed vector space, then its dual <inline-formula content-type="math/tex"><tex-math>X^*</tex-math></inline-formula> consists of all bounded linear functionals on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Although it is somewhat rare to be able to describe the space <inline-formula content-type="math/tex"><tex-math>X^*</tex-math></inline-formula> completely, in this section we will be able to provide a complete description of <inline-formula content-type="math/tex"><tex-math>(L^p)^*</tex-math></inline-formula>.</p>
      <p>The starting point in our search for bounded linear functionals on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> is actually Hölder’s inquality: if <inline-formula content-type="math/tex"><tex-math>p,q</tex-math></inline-formula> are conjugate exponents (that is, <inline-formula content-type="math/tex"><tex-math>1/p+1/q=1</tex-math></inline-formula>), then for any <inline-formula content-type="math/tex"><tex-math>f\in L^p</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>g\in L^q</tex-math></inline-formula> we have:</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\left|\int fg\,d\mu \right|\leq \|f\|_p\cdot \|g\|_q 
\end{equation*}</tex-math>
      </disp-formula>
      <p>This statement really says that for any <inline-formula content-type="math/tex"><tex-math>g\in L^q</tex-math></inline-formula>, the linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> defined on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> defined by</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\phi (f)=\int fg\,d\mu 
\end{equation*}</tex-math>
      </disp-formula>
      <p>is in fact bounded. Thus we have already found a large supply of elements of <inline-formula content-type="math/tex"><tex-math>(L^p)^*</tex-math></inline-formula>. Our main result says that <italic toggle="yes">every</italic> element of <inline-formula content-type="math/tex"><tex-math>(L^p)^*</tex-math></inline-formula> arises in this way.</p>
      <statement content-type="theorem thm" id="ltxid327" style="thmplain">
        <label>6.1. Theorem</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measure space, <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> a measure on it, and <inline-formula content-type="math/tex"><tex-math>L^p=L^p(\mu )</tex-math></inline-formula>. Assume that <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-finite, that is, <inline-formula content-type="math/tex"><tex-math>X=\bigcup A_n</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>\mu (A_n)&lt;\infty </tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>1\leq p&lt;\infty </tex-math></inline-formula> and let <inline-formula content-type="math/tex"><tex-math>q</tex-math></inline-formula> be the conjugate exponent, that is, <inline-formula content-type="math/tex"><tex-math>1/p+1/q=1</tex-math></inline-formula>. Then for every <inline-formula content-type="math/tex"><tex-math>\phi \in (L^p)^*</tex-math></inline-formula> there exists a unique <inline-formula content-type="math/tex"><tex-math>g\in L^q</tex-math></inline-formula> such that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\phi (f)=\int fg\,d\mu 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Moreover <inline-formula content-type="math/tex"><tex-math>\|\phi \|=\|g\|_q</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>(L^p)^*\cong L^q</tex-math></inline-formula>.</p>
      </statement>
      <p>To prove this result, it will be necessary to introduce a generalization of measures called signed measures. To motivate this from the study of linear functionals on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>, observe that any functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> gives rise to something like a finitely additive measure by defining <inline-formula content-type="math/tex"><tex-math>\nu (A)=\phi (\chi _A)</tex-math></inline-formula>. Indeed, if <inline-formula content-type="math/tex"><tex-math>A,B</tex-math></inline-formula> are disjoint sets then</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\nu (A\cup B)=\phi (\chi _{A\cup B})=\phi (\chi _A+\chi _B) =\phi (\chi _A)+\phi (\chi _B)=\nu (A)+\nu (B) 
\end{equation*}</tex-math>
      </disp-formula>
      <p>However there is no reason why such a function <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> can’t take negative values, and so <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> need not be a measure in our original sense.</p>
      <statement content-type="theorem defn" id="ltxid328" style="thmdefinition">
        <label>6.2. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B}</tex-math></inline-formula>) be a measurable space. A <italic toggle="yes">signed measure</italic> on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> is a function <inline-formula content-type="math/tex"><tex-math>\nu \colon \mathcal{B}\to [-\infty ,\infty ]</tex-math></inline-formula> with the properties:</p>
        <def-list content-type="itemize">
          <def-item id="ltxid329"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>\nu (\emptyset )=0</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid330"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p><inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> does not take both the values <inline-formula content-type="math/tex"><tex-math>\infty </tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>-\infty </tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid331"><term><inline-formula content-type="math/tex"><tex-math>\circ </tex-math></inline-formula></term> <def><p>If <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> are disjoint then <inline-formula content-type="math/tex"><tex-math>\sum \nu (A_n)</tex-math></inline-formula> converges to <inline-formula content-type="math/tex"><tex-math>\nu (\bigcup A_n)</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>Thus given a linear functional <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>, the function <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> described above could be called a <italic toggle="yes">finitely additive signed measure</italic>. For a proper example of a signed measure, let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> be an unsigned measure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula>, let <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> be any absolutely integrable function on <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>, and define</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\mu _g(A)=\int \chi _Ag\,d\mu 
\end{equation*}</tex-math>
      </disp-formula>
      <p>Then it is not difficult to see from Fubini’s theorem that <inline-formula content-type="math/tex"><tex-math>\mu _g</tex-math></inline-formula> is a signed measure on <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula>.</p>
      <p>It is clear from the definition of <inline-formula content-type="math/tex"><tex-math>\mu _g</tex-math></inline-formula> that if <inline-formula content-type="math/tex"><tex-math>\mu (A)=0</tex-math></inline-formula> then <inline-formula content-type="math/tex"><tex-math>\mu _g(A)=0</tex-math></inline-formula> too. The next result states that this condition is sufficient to guarantee that a given signed measure <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> is actually of the form <inline-formula content-type="math/tex"><tex-math>\mu _g</tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid332" style="thmplain">
        <label>6.3. Theorem</label>
        <title>(Radon–Nikodym)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>(X,\mathcal{B})</tex-math></inline-formula> be a measurable space and let <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> be an unsigned measure and <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> be a signed measure on it. Assume that <inline-formula content-type="math/tex"><tex-math>\mu ,\nu </tex-math></inline-formula> are <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-finite. Then if <inline-formula content-type="math/tex"><tex-math>\mu (A)=0\implies \nu (A)=0</tex-math></inline-formula>, then there exists <inline-formula content-type="math/tex"><tex-math>g\in L^1(\mu )</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\nu =\mu _g</tex-math></inline-formula>.</p>
      </statement>
      <p>We now have all the ingredients we need to prove that the dual of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>L^q</tex-math></inline-formula>. Indeed, we have already introduced a simple correspondence between linear functionals <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> and signed measures <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> with the property that <inline-formula content-type="math/tex"><tex-math>\nu (A)=\phi (\chi _A)</tex-math></inline-formula>. Then the Radon–Nikodym theorem gives us a correspondence between signed measures <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> and absolutely integrable functions <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\nu (A)=\int \chi _Ag\,d\mu </tex-math></inline-formula>. Putting these together, we see that <inline-formula content-type="math/tex"><tex-math>\phi (\chi _A)=\int \chi _Ag\,d\mu </tex-math></inline-formula>. In other words we see that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is of the desired form, at least for the characteristic functions. We are therefore left to check that this property can be extended to arbitrary functions <inline-formula content-type="math/tex"><tex-math>f\in L^p</tex-math></inline-formula>, as well as the rest of the claims in the statement.</p>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Sketch of proof of Theorem <xref ref-subtype="thm" ref-type="statement" rid="ltxid327" specific-use="ref">6.1</xref></title>
        <p>In this proof, we will sketch only the case when <inline-formula content-type="math/tex"><tex-math>1&lt;p&lt;\infty </tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\mu (X)&lt;\infty </tex-math></inline-formula>. It is not essentially more difficult to complete the proof from this simplified version.</p>
        <p>Given a functional <inline-formula content-type="math/tex"><tex-math>\phi \in (L^p)^*</tex-math></inline-formula>, we first define the mapping <inline-formula content-type="math/tex"><tex-math>\nu (A)=\phi (\chi _A)</tex-math></inline-formula>. We have already checked that <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> is finitely additive. We claim that in fact <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> is a signed measure. Indeed, if <inline-formula content-type="math/tex"><tex-math>A_n</tex-math></inline-formula> is a given sequence of pairwise disjoint sets, then using the finiteness of <inline-formula content-type="math/tex"><tex-math>\mu (X)</tex-math></inline-formula> and the dominated convergence theorem we have:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\int |\chi _{\bigcup A_n}-\chi _{\bigcup _1^kA_n}|^p\,d\mu =\int |\chi _{\bigcup _{k+1}^\infty A_n}|^p\,d\mu \to 0 
\end{equation*}</tex-math>
        </disp-formula>
        <p>In other words, we have that <inline-formula content-type="math/tex"><tex-math>\chi _{\bigcup _1^kE_n}\to \chi _{\bigcup E_n}</tex-math></inline-formula> in the <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>-norm. Using the fact that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is a continuous function on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>, it follows that</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \nu (\bigcup A_n)&amp;=\phi (\chi _{\bigcup A_n})\\
 &amp;=\lim _k\phi (\chi _{\bigcup _1^k A_n})\\
 &amp;=\lim _k\nu (\bigcup _1^k A_n)\\
 &amp;=\lim _k\sum _1^k\nu (A_n)\\
 &amp;=\sum \nu (A_n) 
\end{align*}</tex-math>
        </disp-formula>
        <p>and so <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> is countably additive.</p>
        <p>Now by the Radon–Nikodym theorem, there exists a function <inline-formula content-type="math/tex"><tex-math>g\in L^1</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (\chi _A)=\int \chi _A g\,d\mu </tex-math></inline-formula> for all sets <inline-formula content-type="math/tex"><tex-math>E</tex-math></inline-formula>. It therefore follows from linearity that <inline-formula content-type="math/tex"><tex-math>\phi (f)=\int fg\,d\mu </tex-math></inline-formula> for all simple functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula>.</p>
        <p>We next claim that <inline-formula content-type="math/tex"><tex-math>\phi (f)=\int fg\,d\mu </tex-math></inline-formula> for all functions <inline-formula content-type="math/tex"><tex-math>f</tex-math></inline-formula> in <inline-formula content-type="math/tex"><tex-math>L^\infty </tex-math></inline-formula>. For this recall that any bounded measurable function is a <italic toggle="yes">uniform</italic> limit of simple functions. So given <inline-formula content-type="math/tex"><tex-math>f\in L^\infty </tex-math></inline-formula> let <inline-formula content-type="math/tex"><tex-math>f_n</tex-math></inline-formula> be a sequence of simple functions such that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> uniformly. Using the uniform convergence on a finite measure space, we can easily argue that <inline-formula content-type="math/tex"><tex-math>\int f_ng\,d\mu \to \int fg\,d\mu </tex-math></inline-formula>. For the same reason, we can also argue that <inline-formula content-type="math/tex"><tex-math>f_n\to f</tex-math></inline-formula> in <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is continuous on <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> we therefore have that:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \phi (f)&amp;=\lim _n\phi (f_n)\\
 &amp;=\lim _n\int f_ng\,d\mu \\
 &amp;=\int fg\,d\mu 
\end{align*}</tex-math>
        </disp-formula>
        <p>as desired.</p>
        <p>While our next goal is of course to show that <inline-formula content-type="math/tex"><tex-math>\phi (f)=\int fg\,d\mu </tex-math></inline-formula> for all functions <inline-formula content-type="math/tex"><tex-math>f\in L^p</tex-math></inline-formula>, we first take a break and show that <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> lies in <inline-formula content-type="math/tex"><tex-math>L^q</tex-math></inline-formula>. In fact we will show that <inline-formula content-type="math/tex"><tex-math>\|g\|_q\leq \|\phi \|</tex-math></inline-formula>. First we can use the truncation lemma to suppose that <inline-formula content-type="math/tex"><tex-math>g</tex-math></inline-formula> is bounded. Then <inline-formula content-type="math/tex"><tex-math>|g|^q/g</tex-math></inline-formula> is bounded too, and so by our work for functions in <inline-formula content-type="math/tex"><tex-math>L^\infty </tex-math></inline-formula> we can calculate:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \int |g|^q\,d\mu &amp;=\int (|g|^q/g)g\,d\mu \\
 &amp;=\phi (|g|^q/g)\\
 &amp;\leq \|\phi \|\cdot \|g^{q-1}\|_p\\
 &amp;=\|\phi \|\cdot \left(\int |g|^q\,d\mu \right)^{1/p} 
\end{align*}</tex-math>
        </disp-formula>
        <p>This inequality implies that <inline-formula content-type="math/tex"><tex-math>\|g\|_q\leq \|\phi \|</tex-math></inline-formula>, as desired. We remark that this implies the functional <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg\,d\mu </tex-math></inline-formula> is continuous, since Hölder’s inequality states that <inline-formula content-type="math/tex"><tex-math>\left|\int fg\,d\mu \right|\leq \|f\|_p\cdot \|g\|_q</tex-math></inline-formula>.</p>
        <p>We now claim that we have <inline-formula content-type="math/tex"><tex-math>\phi (f)=\int fg\,d\mu </tex-math></inline-formula> for any <inline-formula content-type="math/tex"><tex-math>f\in L^p</tex-math></inline-formula>. For this, recall that we have previously shown that the simple functions are <italic toggle="yes">dense</italic> in <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula>, that is any <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula> function is an <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula>-limit of simple functions. The same argument can be used to show that the simple functions are dense in <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>. We have shown above that the two functionals, <inline-formula content-type="math/tex"><tex-math>f\mapsto \phi (f)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg\,d\mu </tex-math></inline-formula>, agree on the simple functions. Our hypothesis states that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> continuous, and the previous paragraph implies that <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg\,d\mu </tex-math></inline-formula> is continuous too. Since two continuous functions that agree on a dense set must agree on their domain, we can conclude that <inline-formula content-type="math/tex"><tex-math>\phi (f)=\int fg\,d\mu </tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>f\in L^p(\mu )</tex-math></inline-formula>.</p>
        <p>Finally we claim that <inline-formula content-type="math/tex"><tex-math>\|g\|_q=\|\phi \|</tex-math></inline-formula>. Indeed we now know that <inline-formula content-type="math/tex"><tex-math>|\phi (f)|=\left|\int fg\,d\mu \right|\leq \|f\|_p\cdot \|g\|_q</tex-math></inline-formula>, and hence that <inline-formula content-type="math/tex"><tex-math>\|\phi \|\leq \|g\|_q</tex-math></inline-formula>. We have also shown two paragraphs previously that <inline-formula content-type="math/tex"><tex-math>\|g\|_q\leq \|\phi \|</tex-math></inline-formula>. This concludes the proof.</p>
      </statement>
      <statement content-type="theorem notes" id="ltxid333" style="thmremark">
        <label>Notes and further reading</label>
        <p content-type="noindent">The Radon–Nikodym theorem has a generalization called the Lebesgue–Radon–Nykodym theorem which states that given <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula>, any signed measure <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> can be decomposed <inline-formula content-type="math/tex"><tex-math>\nu =\mu _g+\delta </tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>\mu ,\delta </tex-math></inline-formula> have disjoint supports.</p>
        <p>We have stated that the dual of <inline-formula content-type="math/tex"><tex-math>L^1</tex-math></inline-formula> is equal to <inline-formula content-type="math/tex"><tex-math>L^\infty </tex-math></inline-formula> when <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>\sigma </tex-math></inline-formula>-finite. However the reverse is usually not true. Instead the dual of <inline-formula content-type="math/tex"><tex-math>L^\infty (\mu )</tex-math></inline-formula> is the space of all finitely additive signed measures <inline-formula content-type="math/tex"><tex-math>\nu </tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\mu (E)=0\implies \nu (E)=0</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid334" style="thmdefinition">
        <label>Exercise 6.1</label>
        <title>(BBT, ex 13:6.1)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>g\in L^1[0,1]</tex-math></inline-formula>. Show that the map <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg</tex-math></inline-formula> is a bounded linear functional on <inline-formula content-type="math/tex"><tex-math>L^\infty [0,1]</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid335" style="thmdefinition">
        <label>Exercise 6.2</label>
        <title>(BBT, ex 13:6.2)</title>
        <p content-type="noindent">Show that there is a nonzero bounded linear functional on <inline-formula content-type="math/tex"><tex-math>L^\infty [0,1]</tex-math></inline-formula> that vanishes on the (closed) subspace of continuous functions.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid336" style="thmdefinition">
        <label>Exercise 6.3</label>
        <title>(BBT, ex 13:6.3)</title>
        <p content-type="noindent">Show that there is a bounded linear functional on <inline-formula content-type="math/tex"><tex-math>L^\infty [0,1]</tex-math></inline-formula> that is not of the form <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg</tex-math></inline-formula> for any <inline-formula content-type="math/tex"><tex-math>g\in L^1[0,1]</tex-math></inline-formula>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid337" specific-use="section">
      <label>7</label>
      <title>Hilbert space</title>
      <statement content-type="theorem reading" id="ltxid338" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT §13.5, 14.1, 14.2, 14.3</p>
      </statement>
      <p>Up until this point in our study of <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> spaces, we have not been concerned with the value of <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> so long as <inline-formula content-type="math/tex"><tex-math>1&lt;p&lt;\infty </tex-math></inline-formula>. However it should not be surprising that there is something special about the case <inline-formula content-type="math/tex"><tex-math>p=2</tex-math></inline-formula>. In this section we will uncover some of the special properties of <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula>, as well as use these properties to define a new type of space called a Hilbert space.</p>
      <p>Informally, <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> is the <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula> space which is most closely analogous to classical Euclidean space. This is because the norm <inline-formula content-type="math/tex"><tex-math>\|\cdot \|_2</tex-math></inline-formula> is a generalization of the Euclidean norm <inline-formula content-type="math/tex"><tex-math>\|x\|=\sqrt {x_1^2+\cdots +x_n^2}</tex-math></inline-formula>. Intuitively, this means that the geometry of <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> has the “round ball” geometry of finite-dimensional Euclidean space.</p>
      <p>More formally, <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> shares several key properties with classical Euclidean space that are not shared by any other <inline-formula content-type="math/tex"><tex-math>L^p</tex-math></inline-formula>. First, since the conjugate exponent of <inline-formula content-type="math/tex"><tex-math>p=2</tex-math></inline-formula> is <inline-formula content-type="math/tex"><tex-math>q=2</tex-math></inline-formula> also, the previous section shows that <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> is <italic toggle="yes">self-dual</italic>, that is, <inline-formula content-type="math/tex"><tex-math>(L^2)^*\cong L^2</tex-math></inline-formula>. In detail, this means that the bounded linear functionals on <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> are all of the form <inline-formula content-type="math/tex"><tex-math>f\mapsto \int fg</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>g\in L^2</tex-math></inline-formula> itself. This recalls the case of Euclidean space <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^d</tex-math></inline-formula> where the (bounded) linear functionals are all given by an inner product <inline-formula content-type="math/tex"><tex-math>x\mapsto y^Tx</tex-math></inline-formula>.</p>
      <p>The key idea of this section is that just like the pairing <inline-formula content-type="math/tex"><tex-math>y^tx</tex-math></inline-formula>, the pairing <inline-formula content-type="math/tex"><tex-math>\int fg</tex-math></inline-formula> may be regarded as an inner product, leading to the next definition. For the greatest generality, we will now return to vector spaces with complex scalars.</p>
      <statement content-type="theorem defn" id="ltxid339" style="thmdefinition">
        <label>7.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a complex vector space. A function <inline-formula content-type="math/tex"><tex-math>\langle \cdot ,\cdot \rangle \colon X\times X\to {\mathbb{C}}</tex-math></inline-formula> is called an <italic toggle="yes">inner product</italic> if it satisfies</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid340"><term>(a)</term> <def><p>(positivity/nonvanishing) for <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\langle x,x\rangle \geq 0</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>\langle x,x\rangle =0</tex-math></inline-formula> iff <inline-formula content-type="math/tex"><tex-math>x=0</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid341"><term>(b)</term> <def><p>(conjugate symmetry) for <inline-formula content-type="math/tex"><tex-math>x,y\in X</tex-math></inline-formula> we have <inline-formula content-type="math/tex"><tex-math>\langle x,y\rangle =\overline{\langle y,x\rangle }</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid342"><term>(c)</term> <def><p>(linearity in the first coordinate) <inline-formula content-type="math/tex"><tex-math>\langle c_1x_1+c_2x_2,y\rangle =c_1\langle x_1,y\rangle +c_2\langle x_2,y\rangle </tex-math></inline-formula></p></def></def-item>
        </def-list>
        <p>If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> admits an inner product then it automatically admits a norm <inline-formula content-type="math/tex"><tex-math>\|x\|=\sqrt {\langle x,x\rangle }</tex-math></inline-formula>, and <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is called a <italic toggle="yes">Hilbert space</italic> if this norm is complete.</p>
      </statement>
      <p>We will prove shortly that the mapping <inline-formula content-type="math/tex"><tex-math>\|\cdot \|</tex-math></inline-formula> defined above really is a norm. We remark that (b) and (c) together imply that <inline-formula content-type="math/tex"><tex-math>\langle \cdot ,\cdot \rangle </tex-math></inline-formula> is <italic toggle="yes">conjugate linear</italic> in the second coordinate (we leave it to the reader to state and verify this formally).</p>
      <p>Thus the Banach space <inline-formula content-type="math/tex"><tex-math>X=L^2(\mu )</tex-math></inline-formula> (with the complex scalars) is a Hilbert space with respect to the inner product</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\langle f,g\rangle =\int f\bar{g}\,d\mu 
\end{equation*}</tex-math>
      </disp-formula>
      <p>Similarly, the sequence space <inline-formula content-type="math/tex"><tex-math>\ell ^2=\left\{\,x\in {\mathbb{C}}^{\mathbb{N}}\mid \sum |x_i|^2&lt;\infty \,\right\}</tex-math></inline-formula> is a Hilbert space with respect to the inner product</p>
      <disp-formula content-type="math/tex">
        <tex-math>\begin{equation*}
\langle x,y\rangle =y^*x=\sum x_i\bar{y}_i 
\end{equation*}</tex-math>
      </disp-formula>
      <p>Of course <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula> is really just an instance of <inline-formula content-type="math/tex"><tex-math>L^2(\mu )</tex-math></inline-formula>, corresponding to the case when <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is the counting measure on <inline-formula content-type="math/tex"><tex-math>{\mathbb{N}}</tex-math></inline-formula>.</p>
      <p>While a Hilbert space may seem like just a small “upgrade” from a Banach space, it is quite significant. In fact, we will see in the next section that <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula> are essentially the only examples of Hilbert spaces.</p>
      <p>We now lay out some of the most basic facts about Hilbert space. Our first result is the following analog of Hölder’s inequality.</p>
      <statement content-type="theorem thm" id="ltxid343" style="thmplain">
        <label>7.2. Theorem</label>
        <title>(Schwarz inequality)</title>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be an inner product space. Then <inline-formula content-type="math/tex"><tex-math>|\langle x,y\rangle |\leq \|x\|\cdot \|y\|</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>The proof is a simpler version of the proof of Hölder’s inequality. First, by multiplying <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula> by a scalar of the form <inline-formula content-type="math/tex"><tex-math>e^{i\theta }</tex-math></inline-formula>, we may assume that <inline-formula content-type="math/tex"><tex-math>\langle x,y\rangle </tex-math></inline-formula> is real. Next given <inline-formula content-type="math/tex"><tex-math>x,y</tex-math></inline-formula> we define a real function <inline-formula content-type="math/tex"><tex-math>p(\alpha )=\langle \alpha x+y,\alpha x+y\rangle </tex-math></inline-formula>. Then by axiom (a) we have that <inline-formula content-type="math/tex"><tex-math>p(\alpha )\geq 0</tex-math></inline-formula>. And by axiom (c) we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
p(\alpha )=\alpha ^2\|x\|^2+2\alpha \langle x,y\rangle +\|y\|^2 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Thus <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> is a quadratic and <inline-formula content-type="math/tex"><tex-math>p\geq 0</tex-math></inline-formula>, which implies <inline-formula content-type="math/tex"><tex-math>p</tex-math></inline-formula> has at most one real root. This means that the discriminant is non-positive, that is, <inline-formula content-type="math/tex"><tex-math>4|\langle x,y\rangle |^2-4\|x\|^2\cdot \|y\|^2\leq 0</tex-math></inline-formula>. This last equation is plainly equivalent to the desired result.</p>
      </statement>
      <p>We are now ready to prove the fact that every inner product space automatically has a norm.</p>
      <statement content-type="theorem prop" id="ltxid344" style="thmplain">
        <label>7.3. Proposition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be an inner product space. Then <inline-formula content-type="math/tex"><tex-math>\|x\|=\sqrt {\langle x,x\rangle }</tex-math></inline-formula> makes <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> into a normed vector space.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Since the nonvanishing and homogeneity properties are automatic from the axioms, it remains only to verify the triangle inequality. For this we simply calculate:</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \|x+y\|^2&amp;=\langle x+y,x+y\rangle \\
 &amp;=\langle x,x\rangle +\langle x,y\rangle +\langle y,x\rangle +\langle y,y\rangle \\
 &amp;\leq \langle x,x\rangle +2|\langle x,y\rangle |+\langle y,y\rangle \\
 &amp;\leq \|x\|^2+2\|x\|\cdot \|y\|+\|y\|^2\\
 &amp;=(\|x\|+\|y\|)^2 
\end{align*}</tex-math>
        </disp-formula>
        <p>Here, the first inequality uses axiom (b) and the ordinary triangle inequality, and the second inequality uses the Schwarz inequality. Taking the square root of both sides, we achieve the desired result.</p>
      </statement>
      <p>Perhaps the most important feature of Hilbert spaces that is not present in an ordinary Banach space is that of orthogonality.</p>
      <statement content-type="theorem defn" id="ltxid345" style="thmdefinition">
        <label>7.4. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a Hilbert space. We say that vectors <inline-formula content-type="math/tex"><tex-math>x,y\in X</tex-math></inline-formula> are <italic toggle="yes">orthogonal</italic> if <inline-formula content-type="math/tex"><tex-math>\langle x,y\rangle =0</tex-math></inline-formula>. Given a vector subspace <inline-formula content-type="math/tex"><tex-math>Y\subset X</tex-math></inline-formula> we define its <italic toggle="yes">orthogonal complement</italic> <inline-formula content-type="math/tex"><tex-math>Y^\perp =\left\{\,x\in X\mid (\forall y\in Y)\;\langle x,y\rangle =0\,\right\}</tex-math></inline-formula>.</p>
      </statement>
      <p>The orthogonal complement does not always behave as one would expect from classical Euclidean space. For example, it is possible for a proper subspace <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> to have <inline-formula content-type="math/tex"><tex-math>Y^\perp =0</tex-math></inline-formula> (this will be the case if <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is dense in <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>). However if <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> is a closed subspace, then most familiar properties do hold.</p>
      <statement content-type="theorem prop" id="ltxid346" style="thmplain">
        <label>7.5. Proposition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a Hilbert space and let <inline-formula content-type="math/tex"><tex-math>Y\leq X</tex-math></inline-formula> be a closed subspace. Then <inline-formula content-type="math/tex"><tex-math>X=Y\oplus Y^\perp </tex-math></inline-formula> in the sense that every <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> can be uniqely expressed as <inline-formula content-type="math/tex"><tex-math>x=y+y'</tex-math></inline-formula> where <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>y'\in Y^\perp </tex-math></inline-formula>.</p>
      </statement>
      <p>The idea behind the proof is as follows. Given <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>, let <inline-formula content-type="math/tex"><tex-math>y\in Y</tex-math></inline-formula> be the unique point in <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula> which is closest to <inline-formula content-type="math/tex"><tex-math>x</tex-math></inline-formula>. Such a point <inline-formula content-type="math/tex"><tex-math>y</tex-math></inline-formula> exists and is unique thanks to the Euclidean-like geometry of Hilbert space. (The basic fact here is that closed, convex sets have a unique element of minimal norm.)</p>
      <p>This key fact makes it possible to define bases in Hilbert space, as we will do in the next section. Here we present another useful consequence of the proposition. First recall that our motivation for defining Hilbert spaces was the fact that <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> is self-dual, and thus the action of <inline-formula content-type="math/tex"><tex-math>(L^2)^*</tex-math></inline-formula> on <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> behaves like an inner product. The next result states that the converse holds, that is, if <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> admits an inner product then <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is self-dual.</p>
      <statement content-type="theorem thm" id="ltxid347" style="thmplain">
        <label>7.6. Theorem</label>
        <p content-type="noindent">If <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is a Hilbert space, then <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is self-dual. That is, for any <inline-formula content-type="math/tex"><tex-math>\phi \in X^*</tex-math></inline-formula> there exists <inline-formula content-type="math/tex"><tex-math>y\in X</tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\phi (x)=\langle x,y\rangle </tex-math></inline-formula>. Moreover the correspondence <inline-formula content-type="math/tex"><tex-math>\phi \mapsto y</tex-math></inline-formula> is a conjugate-linear isomorphism <inline-formula content-type="math/tex"><tex-math>X^*\cong X</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Given <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula>, we let <inline-formula content-type="math/tex"><tex-math>Y=\left\{\,x\in X\mid \phi (x)=0\,\right\}</tex-math></inline-formula>. Assuming <inline-formula content-type="math/tex"><tex-math>Y\neq X</tex-math></inline-formula>, we may choose <inline-formula content-type="math/tex"><tex-math>z\in Y^\perp </tex-math></inline-formula> such that <inline-formula content-type="math/tex"><tex-math>\|z\|=1</tex-math></inline-formula>. We then let <inline-formula content-type="math/tex"><tex-math>y=\overline{\phi (z)}z</tex-math></inline-formula>. Then we have</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{align*}
 \phi (x)-\langle x,y\rangle &amp;=\phi (x)-\phi (z)\langle x,z\rangle \\
 &amp;=\phi (x)\langle z,z\rangle -\phi (z)\langle x,z\rangle \\
 &amp;=\langle \phi (x)z-\phi (z)x,z\rangle \\
 &amp;=0 
\end{align*}</tex-math>
        </disp-formula>
        <p>Here the last equality follows from the fact that <inline-formula content-type="math/tex"><tex-math>\phi (x)z-\phi (z)x</tex-math></inline-formula> lies in <inline-formula content-type="math/tex"><tex-math>Y</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid348" style="thmdefinition">
        <label>Exercise 7.1</label>
        <p content-type="noindent">Use the discussion in BBT, §14.2 to prove Proposition <xref ref-subtype="prop" ref-type="statement" rid="ltxid346" specific-use="ref">7.5</xref>.</p>
      </statement>
    </sec>
    <sec disp-level="2" id="ltxid349" specific-use="section">
      <label>8</label>
      <title>Bases for Hilbert space</title>
      <statement content-type="theorem reading" id="ltxid350" style="thmremark">
        <label>Reading</label>
        <p content-type="noindent">BBT, §14.4</p>
      </statement>
      <p>In the previous section we have seen that Hilbert spaces possess many properties which are familiar from <inline-formula content-type="math/tex"><tex-math>{\mathbb{R}}^n</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula>. The special properties are made possible by the inner product and its corresponding notion of orthogonality. In this section we make further use of orthogonality, in particular introducing orthonormal bases.</p>
      <p>Although bases are essential to the study of classical linear algebra, they have been absent so far in our study of Banach spaces.</p>
      <statement content-type="theorem defn" id="ltxid351" style="thmdefinition">
        <label>8.1. Definition</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a Hilbert space. A subset <inline-formula content-type="math/tex"><tex-math>\{e_\alpha \}_{\alpha \in A}</tex-math></inline-formula> of <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is called an <italic toggle="yes">orthonormal basis</italic> if it satisfies the following properties:</p>
        <def-list content-type="enumerate">
          <def-item id="ltxid352"><term>(a)</term> <def><p>(normality) for all <inline-formula content-type="math/tex"><tex-math>\alpha </tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\|e_\alpha \|=1</tex-math></inline-formula>;</p></def></def-item>
          <def-item id="ltxid353"><term>(b)</term> <def><p>(orthogonality) for all <inline-formula content-type="math/tex"><tex-math>\alpha \neq \beta </tex-math></inline-formula>, <inline-formula content-type="math/tex"><tex-math>\langle e_\alpha ,e_\beta \rangle =0</tex-math></inline-formula>; and</p></def></def-item>
          <def-item id="ltxid354"><term>(c)</term> <def><p>(maximality) for any <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, if <inline-formula content-type="math/tex"><tex-math>\langle x,e_\alpha \rangle =0</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>\alpha \in A</tex-math></inline-formula>, then <inline-formula content-type="math/tex"><tex-math>x=0</tex-math></inline-formula>.</p></def></def-item>
        </def-list>
      </statement>
      <p>It is important to note that for an infinite-dimensional Hilbert space, the concept of orthonormal basis is very different than the concept of “basis” in a classical vector space. It is true that the Hilbert space orthonormal basis is an independent set. However, it is not true that the Hilbert space orthonormal basis is a maximal independent set. The maximality property above states only that it is maximal with respect to being orthonormal.</p>
      <p>Just as every vector space has a basis, every Hilbert space has an orthonormal basis. Indeed, this follows from an elementary application of Zorn’s lemma. However, for our concrete examples of Hilbert spaces, it is not difficult to identify a simple concrete basis.</p>
      <p>For example, regard <inline-formula content-type="math/tex"><tex-math>X=\ell ^2</tex-math></inline-formula> as the space of complex vectors with countably many coordinates such that the coordinates are square-summable. We let <inline-formula content-type="math/tex"><tex-math>e_i</tex-math></inline-formula> be the vector with a <inline-formula content-type="math/tex"><tex-math>1</tex-math></inline-formula> in the <inline-formula content-type="math/tex"><tex-math>i</tex-math></inline-formula>th coordinate and a <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula> in every other coordinate. Then it is easy to see that <inline-formula content-type="math/tex"><tex-math>\{e_i\}</tex-math></inline-formula> is an orthonormal basis for <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula>.</p>
      <p>For another example, let <inline-formula content-type="math/tex"><tex-math>X=L^2[0,1]</tex-math></inline-formula>. Let <inline-formula content-type="math/tex"><tex-math>e_n=e^{2\pi i nx}</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>n</tex-math></inline-formula> ranges over the integers <inline-formula content-type="math/tex"><tex-math>{\mathbb{Z}}</tex-math></inline-formula>. Then an easy calculation shows that <inline-formula content-type="math/tex"><tex-math>e_n</tex-math></inline-formula> have unit norm and are pairwise orthogonal. Maximality is somewhat harder to check; it follows from the Stone–Weierstraß theorem, which we omit but easily implies that the <inline-formula content-type="math/tex"><tex-math>e_n</tex-math></inline-formula> are dense in <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula>.</p>
      <p>Note that in the case of real <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> space, one instead uses the basis consisting of functions <inline-formula content-type="math/tex"><tex-math>\sin (2\pi nx)</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>\cos (2\pi nx)</tex-math></inline-formula> for <inline-formula content-type="math/tex"><tex-math>n\in {\mathbb{N}}</tex-math></inline-formula>. This is the foundation of Fourier analysis. As we will see in the next result, the fact that this is a Hilbert space basis means that any <inline-formula content-type="math/tex"><tex-math>L^2</tex-math></inline-formula> function can be expressed uniquely as a countable linear combination of waves of different periods!</p>
      <p>Recall that in the study of classical vector spaces, every element can be written uniqely as a finite linear combination of basis elements. The following result shows that a Hilbert space basis has an analogous property: every element can be written uniqely as an <italic toggle="yes">infinite</italic> linear combination of Hilbert space basis elements.</p>
      <statement content-type="theorem thm" id="ltxid355" style="thmplain">
        <label>8.2. Theorem</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a Hilbert space and <inline-formula content-type="math/tex"><tex-math>\{e_\alpha \}_{\alpha \in A}</tex-math></inline-formula> an orthonormal basis for <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. Then for any <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula>, we have <inline-formula content-type="math/tex"><tex-math>x=\sum \langle x,e_\alpha \rangle e_\alpha </tex-math></inline-formula>, with the convergence being in norm. Moreover, we have Parseval’s identity, which states that <inline-formula content-type="math/tex"><tex-math>\|x\|^2=\sum _{\alpha \in A}|\langle x,e_\alpha \rangle |^2</tex-math></inline-formula>.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>In the proof, we will need the <italic toggle="yes">Pythagorean theorem</italic>, which states that if <inline-formula content-type="math/tex"><tex-math>e_1,\ldots ,e_n</tex-math></inline-formula> are orthognal, then <inline-formula content-type="math/tex"><tex-math>\|e_1+\cdots +e_n\|^2=\|e_1\|^2+\cdots +\|e_n\|^2</tex-math></inline-formula>. The calculation is the same as the classical version, and is obtained by distributing out the expression <inline-formula content-type="math/tex"><tex-math>\langle e_1+\cdots +e_n,e_1+\cdots +e_n\rangle </tex-math></inline-formula>.</p>
        <p>We first show one half of Parseval’s identity, namely that <inline-formula content-type="math/tex"><tex-math>\sum |\langle x,e_\alpha \rangle |^2\leq \|x\|^2</tex-math></inline-formula>. (This is called Bessel’s inequality.) For this we let <inline-formula content-type="math/tex"><tex-math>A_0\subset A</tex-math></inline-formula> be a finite subset. Then an elementary calculation together with the Pythagorean theorem gives</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation}
  \left\|\,x-\sum _{\alpha \in A_0}\langle x,e_\alpha \rangle e_\alpha \,\right\|^2 =\|x\|-\sum _{\alpha \in A_0}|\langle x,e_\alpha \rangle |^2 <target id="texmlid2"><tag parens="yes">8.e1</tag></target>
\end{equation}</tex-math>
        </disp-formula>
        <p>Since the left-hand side is nonnegative, we have <inline-formula content-type="math/tex"><tex-math>\sum _{\alpha \in A_0}|\langle x,e_\alpha \rangle |^2\leq \|x\|^2</tex-math></inline-formula>. Since <inline-formula content-type="math/tex"><tex-math>A_0</tex-math></inline-formula> was arbitrary, this completes the claim.</p>
        <p>Now we know that <inline-formula content-type="math/tex"><tex-math>\sum |\langle x,e_\alpha \rangle |^2</tex-math></inline-formula> converges. It follows that there are just countably many nonzero terms, let us enumerate them <inline-formula content-type="math/tex"><tex-math>|\langle x,e_n\rangle |^2</tex-math></inline-formula>. Then the sequence of partial sums of <inline-formula content-type="math/tex"><tex-math>\sum |\langle x,e_n\rangle |^2</tex-math></inline-formula> is Cauchy. By the Pythagorean theorem,</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\left\|\,\sum _m^l\langle x,e_n\rangle e_n\,\right\|^2 =\sum _m^l|\langle x,e_n\rangle |^2 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Thus the sequence of partial sums of <inline-formula content-type="math/tex"><tex-math>\sum \langle x,e_n\rangle e_n</tex-math></inline-formula> is Cauchy too. Since <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is complete, we conclude that there exists an element <inline-formula content-type="math/tex"><tex-math>y\in X</tex-math></inline-formula> defined by <inline-formula content-type="math/tex"><tex-math>y=\sum \langle x,e_\alpha \rangle e_\alpha </tex-math></inline-formula>.</p>
        <p>Next we claim that in fact <inline-formula content-type="math/tex"><tex-math>x=y</tex-math></inline-formula>. Indeed, it is easy to see that <inline-formula content-type="math/tex"><tex-math>\langle x-y,e_\alpha \rangle =0</tex-math></inline-formula> for all <inline-formula content-type="math/tex"><tex-math>\alpha </tex-math></inline-formula>, so the completeness of the orthonormal set implies that <inline-formula content-type="math/tex"><tex-math>x-y=0</tex-math></inline-formula>.</p>
        <p>Finally, we conclude the proof of Parseval’s identity by returning to Equation <x>(</x><xref ref-subtype="equation" ref-type="disp-formula" rid="texmlid2" specific-use="ref">8.e1</xref><x>)</x>. Since we now know that the left-hand side converges to <inline-formula content-type="math/tex"><tex-math>0</tex-math></inline-formula> as <inline-formula content-type="math/tex"><tex-math>A_0\to A</tex-math></inline-formula>, it follows that the right-hand side does as well, establishing the equality.</p>
      </statement>
      <p>One can interpret this result as saying that any Hilbert space <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> looks remarkably like <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula>. That is, each element <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> is determined by its vector of coefficients <inline-formula content-type="math/tex"><tex-math>\langle x,e_\alpha \rangle </tex-math></inline-formula>. Indeed, our last result will show that this is a formal theorem. In order to state it, we need to define a generalization of the sequence space <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula>.</p>
      <statement content-type="theorem defn" id="ltxid356" style="thmdefinition">
        <label>8.3. Definition</label>
        <p content-type="noindent">For any index set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>, we let</p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
\ell ^2(A)=\left\{\,f\colon A\to {\mathbb{C}}\;\left|\;\sum _{\alpha \in A}|f(\alpha )|^2&lt;\infty \right.\,\right\} 
\end{equation*}</tex-math>
        </disp-formula>
      </statement>
      <p>In other words, <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula> is like a sequence space where the sequences may be indexed by an arbitrary set other than <inline-formula content-type="math/tex"><tex-math>{\mathbb{N}}</tex-math></inline-formula>. Another way to say it is that <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula> is equal to <inline-formula content-type="math/tex"><tex-math>L^2(\mu )</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>\mu </tex-math></inline-formula> is the counting measure on <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>.</p>
      <p>The space <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula> is determined up to isomorphism by the cardinality of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula>. The cardinality of <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> is called the <italic toggle="yes">dimension</italic> of <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula>. This is because like <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula>, the space <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula> has the obvious Hilbert space basis consisting of <inline-formula content-type="math/tex"><tex-math>\{e_\alpha \}_{\alpha \in A}</tex-math></inline-formula>, where <inline-formula content-type="math/tex"><tex-math>e_\alpha (\alpha )=1</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>e_\alpha (\beta )=0</tex-math></inline-formula> whenever <inline-formula content-type="math/tex"><tex-math>\beta \neq \alpha </tex-math></inline-formula>.</p>
      <statement content-type="theorem thm" id="ltxid357" style="thmplain">
        <label>8.4. Theorem</label>
        <p content-type="noindent">Let <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> be a Hilbert space. Then <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula> is isomorphic to <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula> for some <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> by a linear bijection that preserves inner products.</p>
      </statement>
      <statement content-type="proof proof" has-qed-box="true">
        <title>Proof</title>
        <p>Let <inline-formula content-type="math/tex"><tex-math>\{e_\alpha \}_{\alpha \in A}</tex-math></inline-formula> be an orthonormal basis for <inline-formula content-type="math/tex"><tex-math>X</tex-math></inline-formula>. The index set <inline-formula content-type="math/tex"><tex-math>A</tex-math></inline-formula> will be the same set we use to form <inline-formula content-type="math/tex"><tex-math>\ell ^2(A)</tex-math></inline-formula>. We define a function <inline-formula content-type="math/tex"><tex-math>\phi \colon X\to \ell ^2(A)</tex-math></inline-formula> by <inline-formula content-type="math/tex"><tex-math>\phi (x)(\alpha )=\langle x,e_\alpha \rangle </tex-math></inline-formula>.</p>
        <p>It is easy to see that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is linear, and Parseval’s identity implies that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> preserves the norm. In particular <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is injective. To see that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> preserves the inner product, it suffices to note that the inner product can be recovered from the norm by the <italic toggle="yes">polarization identity</italic></p>
        <disp-formula content-type="math/tex">
          <tex-math>\begin{equation*}
4\langle x,y\rangle =\|x+y\|^2-\|x-y\|^2+i\|x+iy\|^2-i\|x-iy\|^2 
\end{equation*}</tex-math>
        </disp-formula>
        <p>Finally to see that <inline-formula content-type="math/tex"><tex-math>\phi </tex-math></inline-formula> is surjective, let <inline-formula content-type="math/tex"><tex-math>f\in \ell ^2(A)</tex-math></inline-formula> be given. Since <inline-formula content-type="math/tex"><tex-math>\sum _{\alpha \in A}|f(\alpha )|^2&lt;\infty </tex-math></inline-formula>, the series has just countably many nonzero terms and its partial sums are Cauchy. By the Pythagorean theorem, the partial sums of <inline-formula content-type="math/tex"><tex-math>\sum _{\alpha \in A}f(\alpha )e_\alpha </tex-math></inline-formula> are Cauchy too. It follows that there exists an element <inline-formula content-type="math/tex"><tex-math>x\in X</tex-math></inline-formula> defined by <inline-formula content-type="math/tex"><tex-math>x=\sum _{\alpha \in A}f(\alpha )e_\alpha </tex-math></inline-formula>. Clearly <inline-formula content-type="math/tex"><tex-math>\phi (x)=f</tex-math></inline-formula>, as desired.</p>
      </statement>
      <p>Thus the result implies that there is exactly one Hilbert space in each dimension. Note that both <inline-formula content-type="math/tex"><tex-math>\ell ^2</tex-math></inline-formula> and <inline-formula content-type="math/tex"><tex-math>L^2[0,1]</tex-math></inline-formula> are Hilbert spaces of countable dimension, because we have seen above that each has a countable basis. The unique countable dimensional Hilbert space, often denoted <inline-formula content-type="math/tex"><tex-math>\mathcal{H}</tex-math></inline-formula>, is by far the most widely used in applications where an operator acts on infinitely many coordinates. Hilbert space appears in the study of differential equations, fourier analysis, quantum physics, and more.</p>
      <statement content-type="theorem exerc" id="ltxid358" style="thmdefinition">
        <label>Exercise 8.1</label>
        <p content-type="noindent">Prove the Pythagorean theorem in a Hilbert space.</p>
      </statement>
      <statement content-type="theorem exerc" id="ltxid359" style="thmdefinition">
        <label>Exercise 8.2</label>
        <p content-type="noindent">Prove the polarization identity ina Hilbert space.</p>
      </statement>
    </sec>
  </sec>
</book>
